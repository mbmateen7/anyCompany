"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[442],{7630:(v,T,l)=>{l.r(T),l.d(T,{PhonebookModule:()=>B});var r=l(8583),c=l(9763),m=l(9330),_=l(5860),e=l(3018),g=l(2027),Z=l(1947),a=l(5411),d=l(665),A=l(8601);function b(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"tr",25),e.TgZ(1,"td"),e.TgZ(2,"p",20),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",20),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",20),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"div",26),e.TgZ(12,"a",27),e.NdJ("click",function(){const n=e.CHM(t),s=n.$implicit,u=n.index;return e.oxw().editCustomer(s,u)}),e._UZ(13,"i-feather",28),e.qZA(),e.TgZ(14,"a",27),e.NdJ("click",function(){const n=e.CHM(t),s=n.$implicit,u=n.index;return e.oxw().deleteCustomer(s,u)}),e._UZ(15,"i-feather",29),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=p.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.email)}}let y=(()=>{class o{constructor(t,i){this._phonebook=t,this._modal=i,this.customers=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"},this.dateToday=new Date}ngOnInit(){this.getCustomerListing()}getCustomerListing(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._phonebook.customerListing(this.searchParams).subscribe(t=>{this.customers=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page})}searchCustomers(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getCustomerListing()}changePage(t){this.searchParams.page=t,this.getCustomerListing()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getCustomerListing()}addCustomer(){const t=this._modal.open(m.y,this.modalConfig);t.componentInstance.response.subscribe(i=>{console.log(i),i.success&&this.getCustomerListing(),t.dismiss()})}editCustomer(t,i){const n=this._modal.open(m.y,this.modalConfig);n.componentInstance.cus=Object.assign({},t),n.componentInstance.type="edit",n.componentInstance.response.subscribe(s=>{s.success&&(this.customers[i]=s.data),n.dismiss()})}deleteCustomer(t,i){const n=this._modal.open(_.p,this.modalConfig);n.componentInstance.data=Object.assign({},t),n.componentInstance.type="customer",n.componentInstance.response.subscribe(s=>{s.success&&this.customers.splice(i,1),n.dismiss()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.Q),e.Y36(Z.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-customers"]],decls:47,vars:8,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"pageSize","totalPages","changePage","ChangePageSize"],[1,"active-row"],[1,"list-icons-talbe","d-flex","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.TgZ(4,"li",4),e.TgZ(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA(),e.qZA(),e.TgZ(7,"li",4),e.TgZ(8,"a",5),e._uU(9,"Customers"),e.qZA(),e.qZA(),e.TgZ(10,"li",4),e.TgZ(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"a",8),e.NdJ("click",function(){return i.addCustomer()}),e._UZ(16,"i-feather",9),e._uU(17," Add Entry "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",10),e.TgZ(19,"div",11),e.TgZ(20,"div",12),e.TgZ(21,"div",13),e.TgZ(22,"input",14),e.NdJ("input",function(){return i.searchCustomers()})("ngModelChange",function(s){return i.searchParams.search=s}),e.qZA(),e._UZ(23,"i-feather",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",16),e.TgZ(25,"div",17),e.TgZ(26,"table",18),e.TgZ(27,"thead",19),e.TgZ(28,"tr"),e.TgZ(29,"th"),e.TgZ(30,"p",20),e._uU(31,"Name"),e._UZ(32,"i",21),e.qZA(),e.qZA(),e.TgZ(33,"th"),e.TgZ(34,"p",20),e._uU(35,"Telephone"),e._UZ(36,"i",21),e.qZA(),e.qZA(),e.TgZ(37,"th"),e.TgZ(38,"p",20),e._uU(39,"Email"),e._UZ(40,"i",21),e.qZA(),e.qZA(),e.TgZ(41,"th"),e.TgZ(42,"p",20),e._uU(43,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"tbody",22),e.YNc(45,b,16,3,"tr",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"app-pagination",24),e.NdJ("changePage",function(s){return i.changePage(s)})("ChangePageSize",function(s){return i.ChangePageSize(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.hij("Week ",e.xi3(13,5,i.dateToday,"ww"),""),e.xp6(10),e.Q6J("ngModel",i.searchParams.search),e.xp6(23),e.Q6J("ngForOf",i.customers),e.xp6(1),e.Q6J("pageSize",i.searchParams.page_size)("totalPages",i.totalPages))},directives:[a.uy,d.Fj,d.JJ,d.On,r.sg,A.Q],pipes:[r.uU],styles:[""]}),o})();var E=l(1628),q=l(9634);function U(o,p){1&o&&(e.TgZ(0,"h4",9),e._uU(1,"ADD EMPLOYEE"),e.qZA())}function x(o,p){1&o&&(e.TgZ(0,"h4",9),e._uU(1,"UPDATE EMPLOYEE"),e.qZA())}function M(o,p){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function S(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"label",13),e._uU(4,"Employee Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA(),e.qZA(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newEmployee.name=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",16),e.TgZ(9,"div",12),e.TgZ(10,"div",17),e.TgZ(11,"div",18),e.TgZ(12,"label",13),e._uU(13,"Role"),e.TgZ(14,"span",14),e._uU(15,"*"),e.qZA(),e.qZA(),e.TgZ(16,"select",19),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newEmployee.role_id=n}),e.TgZ(17,"option",20),e._uU(18,"Select Role"),e.qZA(),e.YNc(19,M,2,2,"option",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",11),e.TgZ(21,"div",12),e.TgZ(22,"label",13),e._uU(23,"Email"),e.TgZ(24,"span",14),e._uU(25,"*"),e.qZA(),e.qZA(),e.TgZ(26,"input",22),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newEmployee.email=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",11),e.TgZ(28,"div",23),e.TgZ(29,"label",13),e._uU(30,"Phone"),e.TgZ(31,"span",14),e._uU(32,"*"),e.qZA(),e.qZA(),e.TgZ(33,"input",24),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newEmployee.phone_no=n}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.newEmployee.name),e.xp6(9),e.Q6J("ngModel",t.newEmployee.role_id),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(7),e.Q6J("ngModel",t.newEmployee.email),e.xp6(7),e.Q6J("ngModel",t.newEmployee.phone_no)}}function P(o,p){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function J(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"label",13),e._uU(4,"Employee Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA(),e.qZA(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().employee.name=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",16),e.TgZ(9,"div",12),e.TgZ(10,"div",17),e.TgZ(11,"div",18),e.TgZ(12,"label",13),e._uU(13,"Role"),e.TgZ(14,"span",14),e._uU(15,"*"),e.qZA(),e.qZA(),e.TgZ(16,"select",19),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().employee.role_id=n}),e.TgZ(17,"option",20),e._uU(18,"Select Role"),e.qZA(),e.YNc(19,P,2,2,"option",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",11),e.TgZ(21,"div",12),e.TgZ(22,"label",13),e._uU(23,"Email"),e.TgZ(24,"span",14),e._uU(25,"*"),e.qZA(),e.qZA(),e.TgZ(26,"input",22),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().employee.email=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",11),e.TgZ(28,"div",23),e.TgZ(29,"label",13),e._uU(30,"Phone"),e.TgZ(31,"span",14),e._uU(32,"*"),e.qZA(),e.qZA(),e.TgZ(33,"input",24),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().employee.phone_no=n}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.employee.name),e.xp6(9),e.Q6J("ngModel",t.employee.role_id),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(7),e.Q6J("ngModel",t.employee.email),e.xp6(7),e.Q6J("ngModel",t.employee.phone_no)}}function N(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().addEmployee()}),e._uU(1,"Save"),e.qZA()}}function w(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateEmployee()}),e._uU(1,"Update"),e.qZA()}}let f=(()=>{class o{constructor(t,i,n){this._administration=t,this.helper=i,this._phonebook=n,this.type="add",this.response=new e.vpe,this.newEmployee={name:"",role_id:null,email:"",phone_no:""},this.roles=[]}ngOnInit(){this.getRoles()}getRoles(){this._administration.rolesListing().subscribe(t=>{this.roles=t.data})}cancel(){this.response.emit({success:!1})}addEmployee(){this._phonebook.addEmployee(this.newEmployee).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}updateEmployee(){this._phonebook.updateEmployee(this.employee).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,data:t.data})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E.E),e.Y36(q.B),e.Y36(g.Q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit-employee"]],inputs:{type:"type",employee:"employee"},outputs:{response:"response"},decls:14,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-12"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Prince Build",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"col-md-12","add-employee-arrow"],[1,"select-box"],[1,"form-group"],[1,"ctm-input","bg-white",3,"ngModel","ngModelChange"],["value","null","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","email","placeholder","Ex: John@gmail.com",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"input-style"],["type","number","placeholder","0236 54321",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[3,"value"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,U,2,0,"h4",1),e.YNc(2,x,2,0,"h4",1),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,S,34,5,"div",4),e.YNc(7,J,34,5,"div",4),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"div",6),e.TgZ(10,"a",7),e.NdJ("click",function(){return i.cancel()}),e._uU(11,"Discard"),e.qZA(),e.YNc(12,N,2,0,"a",8),e.YNc(13,w,2,0,"a",8),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==i.type),e.xp6(1),e.Q6J("ngIf","edit"==i.type),e.xp6(4),e.Q6J("ngIf","add"==i.type),e.xp6(1),e.Q6J("ngIf","edit"==i.type),e.xp6(5),e.Q6J("ngIf","add"==i.type),e.xp6(1),e.Q6J("ngIf","edit"==i.type))},directives:[r.O5,d.Fj,d.JJ,d.On,d.EJ,d.YN,d.Kr,r.sg,d.wV],styles:[""]}),o})();function k(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"tr",25),e.TgZ(1,"td"),e.TgZ(2,"p",20),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",20),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",20),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"p",20),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"div",26),e.TgZ(15,"a",27),e.NdJ("click",function(){const n=e.CHM(t),s=n.$implicit,u=n.index;return e.oxw().editEmployee(s,u)}),e._UZ(16,"i-feather",28),e.qZA(),e.TgZ(17,"a",27),e.NdJ("click",function(){const n=e.CHM(t),s=n.$implicit,u=n.index;return e.oxw().deleteEmployee(s,u)}),e._UZ(18,"i-feather",29),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=p.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.role.title),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.email)}}let O=(()=>{class o{constructor(t,i){this._phonebook=t,this._modal=i,this.employees=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles add-phone-book-modal"},this.dateToday=new Date}ngOnInit(){this.getEmployees()}getEmployees(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._phonebook.employeesListing(this.searchParams).subscribe(t=>{this.employees=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page})}searchEmployees(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getEmployees()}changePage(t){this.searchParams.page=t,this.getEmployees()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getEmployees()}addEmployee(){const t=this._modal.open(f,this.modalConfig);t.componentInstance.response.subscribe(i=>{i.success&&this.getEmployees(),t.dismiss()})}editEmployee(t,i){const n=this._modal.open(f,this.modalConfig);n.componentInstance.employee=Object.assign({},t),n.componentInstance.type="edit",n.componentInstance.response.subscribe(s=>{s.success&&(this.employees[i]=s.data),n.dismiss()})}deleteEmployee(t,i){const n=this._modal.open(_.p,this.modalConfig);n.componentInstance.data=Object.assign({},t),n.componentInstance.type="employee",n.componentInstance.response.subscribe(s=>{s.success&&this.employees.splice(i,1),n.dismiss()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.Q),e.Y36(Z.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-internal-list"]],decls:50,vars:4,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["data-toggle","modal","href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","ngModelChange","input"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"pageSize","totalPages","changePage","ChangePageSize"],[1,"active-row"],[1,"list-icons-talbe","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.TgZ(4,"li",4),e.TgZ(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA(),e.qZA(),e.TgZ(7,"li",4),e.TgZ(8,"a",5),e._uU(9,"Internal List"),e.qZA(),e.qZA(),e.TgZ(10,"li",4),e.TgZ(11,"a",6),e._uU(12,"Week 47"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",7),e.TgZ(14,"a",8),e.NdJ("click",function(){return i.addEmployee()}),e._UZ(15,"i-feather",9),e._uU(16," Add Entry "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",10),e.TgZ(18,"div",11),e.TgZ(19,"div",12),e.TgZ(20,"div",13),e.TgZ(21,"input",14),e.NdJ("ngModelChange",function(s){return i.searchParams.search=s})("input",function(){return i.searchEmployees()}),e.qZA(),e._UZ(22,"i-feather",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",16),e.TgZ(24,"div",17),e.TgZ(25,"table",18),e.TgZ(26,"thead",19),e.TgZ(27,"tr"),e.TgZ(28,"th"),e.TgZ(29,"p",20),e._uU(30,"Name"),e._UZ(31,"i",21),e.qZA(),e.qZA(),e.TgZ(32,"th"),e.TgZ(33,"p",20),e._uU(34,"Role"),e._UZ(35,"i",21),e.qZA(),e.qZA(),e.TgZ(36,"th"),e.TgZ(37,"p",20),e._uU(38,"Telephone"),e._UZ(39,"i",21),e.qZA(),e.qZA(),e.TgZ(40,"th"),e.TgZ(41,"p",20),e._uU(42,"Email"),e._UZ(43,"i",21),e.qZA(),e.qZA(),e.TgZ(44,"th"),e.TgZ(45,"p",20),e._uU(46,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"tbody",22),e.YNc(48,k,19,4,"tr",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"app-pagination",24),e.NdJ("changePage",function(s){return i.changePage(s)})("ChangePageSize",function(s){return i.ChangePageSize(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(21),e.Q6J("ngModel",i.searchParams.search),e.xp6(27),e.Q6J("ngForOf",i.employees),e.xp6(1),e.Q6J("pageSize",i.searchParams.page_size)("totalPages",i.totalPages))},directives:[a.uy,d.Fj,d.JJ,d.On,r.sg,A.Q],styles:[""]}),o})();function I(o,p){1&o&&(e.TgZ(0,"h4",9),e._uU(1,"ADD SUPPLIER"),e.qZA())}function j(o,p){1&o&&(e.TgZ(0,"h4",9),e._uU(1,"EDIT SUPPLIER"),e.qZA())}function Q(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"label",13),e._uU(4,"Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA(),e.qZA(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newSupplier.name=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",11),e.TgZ(9,"div",12),e.TgZ(10,"label",13),e._uU(11,"Phone"),e.TgZ(12,"span",14),e._uU(13,"*"),e.qZA(),e.qZA(),e.TgZ(14,"input",16),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newSupplier.phone_no=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",17),e.TgZ(16,"div",12),e.TgZ(17,"label",13),e._uU(18,"Email"),e.TgZ(19,"span",14),e._uU(20,"*"),e.qZA(),e.qZA(),e.TgZ(21,"input",18),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newSupplier.email=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",17),e.TgZ(23,"div",12),e.TgZ(24,"label",13),e._uU(25,"Address"),e.TgZ(26,"span",14),e._uU(27,"*"),e.qZA(),e.qZA(),e.TgZ(28,"input",19),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newSupplier.address=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",17),e.TgZ(30,"div",12),e.TgZ(31,"label",13),e._uU(32,"Products"),e.TgZ(33,"span",14),e._uU(34,"*"),e.qZA(),e.qZA(),e.TgZ(35,"input",20),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().newSupplier.products=n}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.newSupplier.name),e.xp6(7),e.Q6J("ngModel",t.newSupplier.phone_no),e.xp6(7),e.Q6J("ngModel",t.newSupplier.email),e.xp6(7),e.Q6J("ngModel",t.newSupplier.address),e.xp6(7),e.Q6J("ngModel",t.newSupplier.products)}}function F(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"label",13),e._uU(4,"Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA(),e.qZA(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().supplier.name=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",11),e.TgZ(9,"div",12),e.TgZ(10,"label",13),e._uU(11,"Phone"),e.TgZ(12,"span",14),e._uU(13,"*"),e.qZA(),e.qZA(),e.TgZ(14,"input",16),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().supplier.phone_no=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",17),e.TgZ(16,"div",12),e.TgZ(17,"label",13),e._uU(18,"Email"),e.TgZ(19,"span",14),e._uU(20,"*"),e.qZA(),e.qZA(),e.TgZ(21,"input",18),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().supplier.email=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",17),e.TgZ(23,"div",12),e.TgZ(24,"label",13),e._uU(25,"Address"),e.TgZ(26,"span",14),e._uU(27,"*"),e.qZA(),e.qZA(),e.TgZ(28,"input",19),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().supplier.address=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",17),e.TgZ(30,"div",12),e.TgZ(31,"label",13),e._uU(32,"Products"),e.TgZ(33,"span",14),e._uU(34,"*"),e.qZA(),e.qZA(),e.TgZ(35,"input",20),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().supplier.products=n}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.supplier.name),e.xp6(7),e.Q6J("ngModel",t.supplier.phone_no),e.xp6(7),e.Q6J("ngModel",t.supplier.email),e.xp6(7),e.Q6J("ngModel",t.supplier.address),e.xp6(7),e.Q6J("ngModel",t.supplier.products)}}function L(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().addSupplier()}),e._uU(1,"Add"),e.qZA()}}function z(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateSupplier()}),e._uU(1,"Update"),e.qZA()}}let C=(()=>{class o{constructor(t,i){this._phonebook=t,this.helper=i,this.type="add",this.response=new e.vpe,this.newSupplier={name:"",address:"",phone_no:"",email:"",products:""}}ngOnInit(){}addSupplier(){this._phonebook.addSupplier(this.newSupplier).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}updateSupplier(){this._phonebook.updateSupplier(this.supplier).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,data:t.data})})}deleteSupplier(){this._phonebook.deleteSupplier({id:this.supplier.id}).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}cancel(){this.response.emit({success:!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.Q),e.Y36(q.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit-supplier"]],inputs:{supplier:"supplier",type:"type"},outputs:{response:"response"},decls:14,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-6"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Muhammad",1,"ctm-input",3,"ngModel","ngModelChange"],["type","text","placeholder","01234 567890",1,"ctm-input",3,"ngModel","ngModelChange"],[1,"col-md-12"],["type","email","placeholder","abc@mail.com",1,"ctm-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Address",1,"ctm-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Products",1,"ctm-input",3,"ngModel","ngModelChange"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,I,2,0,"h4",1),e.YNc(2,j,2,0,"h4",1),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,Q,36,5,"div",4),e.YNc(7,F,36,5,"div",4),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"div",6),e.TgZ(10,"a",7),e.NdJ("click",function(){return i.cancel()}),e._uU(11,"Discard"),e.qZA(),e.YNc(12,L,2,0,"a",8),e.YNc(13,z,2,0,"a",8),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==i.type),e.xp6(1),e.Q6J("ngIf","edit"==i.type),e.xp6(4),e.Q6J("ngIf","add"==i.type),e.xp6(1),e.Q6J("ngIf","edit"==i.type),e.xp6(5),e.Q6J("ngIf","add"==i.type),e.xp6(1),e.Q6J("ngIf","edit"==i.type))},directives:[r.O5,d.Fj,d.JJ,d.On],styles:[""]}),o})();function H(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"tr",25),e.TgZ(1,"td"),e.TgZ(2,"p",20),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",20),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",20),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"p",20),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"p",20),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"td"),e.TgZ(17,"div",26),e.TgZ(18,"a",27),e.NdJ("click",function(){const n=e.CHM(t),s=n.$implicit,u=n.index;return e.oxw().editSupplier(s,u)}),e._UZ(19,"i-feather",28),e.qZA(),e.TgZ(20,"a",27),e.NdJ("click",function(){const n=e.CHM(t),s=n.$implicit,u=n.index;return e.oxw().deleteSupplier(s,u)}),e._UZ(21,"i-feather",29),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=p.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.address),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.email),e.xp6(3),e.Oqu(t.products)}}const Y=[{path:"",redirectTo:"customers"},{path:"customers",component:y},{path:"suppliers",component:(()=>{class o{constructor(t,i){this._phonebook=t,this._modal=i,this.suppliers=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles add-phone-book-modal"},this.dateToday=new Date}ngOnInit(){this.getSuppliers()}getSuppliers(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this._phonebook.supplierListing(this.searchParams).subscribe(t=>{this.suppliers=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page})}searchSuppliers(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getSuppliers()}changePage(t){this.searchParams.page=t,this.getSuppliers()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getSuppliers()}addSupplier(){const t=this._modal.open(C,this.modalConfig);t.componentInstance.response.subscribe(i=>{i.success&&this.getSuppliers(),t.dismiss()})}editSupplier(t,i){const n=this._modal.open(C,this.modalConfig);n.componentInstance.supplier=Object.assign({},t),n.componentInstance.type="edit",n.componentInstance.response.subscribe(s=>{s.success&&(this.suppliers[i]=s.data),n.dismiss()})}deleteSupplier(t,i){const n=this._modal.open(_.p,this.modalConfig);n.componentInstance.data=Object.assign({},t),n.componentInstance.type="supplier",n.componentInstance.response.subscribe(s=>{s.success&&this.suppliers.splice(i,1),n.dismiss()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.Q),e.Y36(Z.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-suppliers"]],decls:55,vars:8,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"pageSize","totalPages","changePage","ChangePageSize"],[1,"active-row"],[1,"list-icons-talbe","d-flex","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.TgZ(4,"li",4),e.TgZ(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA(),e.qZA(),e.TgZ(7,"li",4),e.TgZ(8,"a",5),e._uU(9,"Suppliers"),e.qZA(),e.qZA(),e.TgZ(10,"li",4),e.TgZ(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"a",8),e.NdJ("click",function(){return i.addSupplier()}),e._UZ(16,"i-feather",9),e._uU(17," Add Entry "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",10),e.TgZ(19,"div",11),e.TgZ(20,"div",12),e.TgZ(21,"div",13),e.TgZ(22,"input",14),e.NdJ("input",function(){return i.searchSuppliers()})("ngModelChange",function(s){return i.searchParams.search=s}),e.qZA(),e._UZ(23,"i-feather",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",16),e.TgZ(25,"div",17),e.TgZ(26,"table",18),e.TgZ(27,"thead",19),e.TgZ(28,"tr"),e.TgZ(29,"th"),e.TgZ(30,"p",20),e._uU(31,"Name"),e._UZ(32,"i",21),e.qZA(),e.qZA(),e.TgZ(33,"th"),e.TgZ(34,"p",20),e._uU(35,"Address"),e._UZ(36,"i",21),e.qZA(),e.qZA(),e.TgZ(37,"th"),e.TgZ(38,"p",20),e._uU(39,"Telephone"),e._UZ(40,"i",21),e.qZA(),e.qZA(),e.TgZ(41,"th"),e.TgZ(42,"p",20),e._uU(43,"Email"),e._UZ(44,"i",21),e.qZA(),e.qZA(),e.TgZ(45,"th"),e.TgZ(46,"p",20),e._uU(47,"Products"),e._UZ(48,"i",21),e.qZA(),e.qZA(),e.TgZ(49,"th"),e.TgZ(50,"p",20),e._uU(51,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"tbody",22),e.YNc(53,H,22,5,"tr",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"app-pagination",24),e.NdJ("changePage",function(s){return i.changePage(s)})("ChangePageSize",function(s){return i.ChangePageSize(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.hij("Week ",e.xi3(13,5,i.dateToday,"ww"),""),e.xp6(10),e.Q6J("ngModel",i.searchParams.search),e.xp6(31),e.Q6J("ngForOf",i.suppliers),e.xp6(1),e.Q6J("pageSize",i.searchParams.page_size)("totalPages",i.totalPages))},directives:[a.uy,d.Fj,d.JJ,d.On,r.sg,A.Q],pipes:[r.uU],styles:[""]}),o})()},{path:"internal-list",component:O}];let D=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.Bz.forChild(Y)],c.Bz]}),o})();var $=l(940),R=l(9618);let B=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[r.ez,D,R.m,d.u5,a.p1.pick($.kEt)]]}),o})()},1702:(v,T,l)=>{l.d(T,{W:()=>e});var r=l(2340),c=l(4312),m=l(3018),_=l(1841);let e=(()=>{class g{constructor(a){this.http=a}rodListing(a={}){return this.http.post(`${r.N.apiUrl+c.j.rodListing}`,a)}productsListing(a={}){return this.http.post(`${r.N.apiUrl+c.j.productListing}`,a)}storeWorkOrder(a={}){return this.http.post(`${r.N.apiUrl+c.j.storeWorkOrder}`,a)}getWorkOrder(a={}){return this.http.post(`${r.N.apiUrl+c.j.getWorkOrder}`,a)}getCustomerNumberOrders(a={}){return this.http.post(`${r.N.apiUrl+c.j.getCustomerOrders}`,a)}updateInvoiceNo(a={}){return this.http.post(`${r.N.apiUrl+c.j.updateInvoiceNo}`,a)}updateWorkOrder(a={}){return this.http.post(`${r.N.apiUrl+c.j.updateWorkOrder}`,a)}getJobNotes(a={}){return this.http.post(`${r.N.apiUrl+c.j.getJobNotes}`,a)}addJobNote(a={}){return this.http.post(`${r.N.apiUrl+c.j.addJobNote}`,a)}deleteJobNote(a={}){return this.http.post(`${r.N.apiUrl+c.j.deleteJobNote}`,a)}addDevliveryNote(a={}){return this.http.post(`${r.N.apiUrl+c.j.addDeliveryNote}`,a)}updateDeliveryNote(a={}){return this.http.post(`${r.N.apiUrl+c.j.updateDeliveryNote}`,a)}getDeliveryNotes(a={}){return this.http.post(`${r.N.apiUrl+c.j.getDeliveryNotes}`,a)}multipleUpdateOrder(a={}){return this.http.post(`${r.N.apiUrl+c.j.multiOrderUpdate}`,a)}updateOrderStatus(a={}){return this.http.post(`${r.N.apiUrl+c.j.updateOrderStatus}`,a)}bulkStatusUpdate(a={}){return this.http.post(`${r.N.apiUrl+c.j.bulkStatusUpdate}`,a)}}return g.\u0275fac=function(a){return new(a||g)(m.LFG(_.eN))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);