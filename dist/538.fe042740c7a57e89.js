"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[538],{1538:(J,p,a)=>{a.r(p),a.d(p,{ForgotPasswordModule:()=>k});var l=a(9808),c=a(7587),e=a(5e3),u=a(9634),g=a(7361),r=a(4182);function m(t,i){1&t&&(e.TgZ(0,"span",19),e._uU(1,"Please Enter valid email address"),e.qZA())}function h(t,i){if(1&t&&(e.TgZ(0,"h5",20),e._uU(1),e.qZA()),2&t){const s=e.oxw();e.xp6(1),e.Oqu(s.successMessage)}}const _=function(t){return{disabled:t}};let f=(()=>{class t{constructor(s,o){this.helper=s,this._authentication=o,this.email="",this.validEmail=!0,this.successMessage=""}ngOnInit(){}submitResetEmail(){this._authentication.forgotPasswordMail({email:this.email}).subscribe(s=>{this.successMessage=s.message,this.email="",this.validEmail=!0})}validateEmail(){this.validEmail=this.helper.validateEmailAddress(this.email)}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(u.B),e.Y36(g.$))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-forgot-password"]],decls:28,vars:6,consts:[[1,"reset-page"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"img-logo","mx-0"],["href","javascript:void(0)"],["src","assets/img/logo.png","alt","logo",1,"img-fluid"],[1,"col-md-8","mx-auto"],[1,"box-reset"],[1,"reset-heading"],[1,"reset-para","mb-40"],[1,"input-style"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Email ID","name","email",1,"ctm-input",3,"ngModel","ngModelChange","input"],["class","text text-danger",4,"ngIf"],["class","text text-success",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","mt-3"],["href","javascript:void(0)",1,"login-p",3,"ngClass","click"],[1,"text","text-danger"],[1,"text","text-success"]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),e._UZ(6,"img",6),e.qZA()()()(),e.TgZ(7,"div",2)(8,"div",7)(9,"div",8)(10,"div",1)(11,"div",2)(12,"div",3)(13,"h1",9),e._uU(14,"Reset password"),e.qZA(),e.TgZ(15,"p",10),e._uU(16,"Please enter email to reset password"),e.qZA(),e.TgZ(17,"div",11)(18,"label",12),e._uU(19,"Email"),e.TgZ(20,"span",13),e._uU(21,"*"),e.qZA()(),e.TgZ(22,"input",14),e.NdJ("ngModelChange",function(d){return o.email=d})("input",function(){return o.validateEmail()}),e.qZA()(),e.YNc(23,m,2,0,"span",15),e.YNc(24,h,2,1,"h5",16),e.TgZ(25,"div",17)(26,"a",18),e.NdJ("click",function(){return o.submitResetEmail()}),e._uU(27,"Submit"),e.qZA()()()()()()()()()()),2&s&&(e.xp6(22),e.Q6J("ngModel",o.email),e.xp6(1),e.Q6J("ngIf",!o.validEmail),e.xp6(1),e.Q6J("ngIf",o.successMessage.length),e.xp6(2),e.Q6J("ngClass",e.VKq(4,_,0==o.email.length||!o.validateEmail)))},directives:[r.Fj,r.JJ,r.On,l.O5,l.mk],styles:[".disabled[_ngcontent-%COMP%]{opacity:.7;cursor:not-allowed}"]}),t})();var w=a(629);function v(t,i){1&t&&(e.TgZ(0,"h1",11),e._uU(1,"Verifying, Please Wait"),e.qZA())}function P(t,i){1&t&&(e.TgZ(0,"h1",11),e._uU(1,"Error verifying request"),e.qZA())}function x(t,i){if(1&t&&(e.TgZ(0,"div",2)(1,"div",8)(2,"div",9)(3,"div",1)(4,"div",2)(5,"div",3),e.YNc(6,v,2,0,"h1",10),e.YNc(7,P,2,0,"h1",10),e.qZA()()()()()()),2&t){const s=e.oxw();e.xp6(6),e.Q6J("ngIf",s.isLoading&&s.tokenVerified),e.xp6(1),e.Q6J("ngIf",!s.isLoading&&!s.tokenVerified)}}function C(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",2)(1,"div",8)(2,"div",9)(3,"div",1)(4,"div",2)(5,"div",3)(6,"h1",11),e._uU(7,"Thank You"),e.qZA(),e.TgZ(8,"p",12),e._uU(9,"Please Click Next to reset password"),e.qZA(),e.TgZ(10,"div",13),e._UZ(11,"img",14),e.qZA(),e.TgZ(12,"div",15)(13,"a",16),e.NdJ("click",function(){return e.CHM(s),e.oxw().step=2}),e._uU(14,"Next"),e.qZA()()()()()()()()}}function Z(t,i){1&t&&(e.TgZ(0,"span",26),e._uU(1,"Password does not match"),e.qZA())}const T=function(t){return{disabled:t}};function M(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",2)(1,"div",8)(2,"div",17)(3,"div",1)(4,"div",2)(5,"div",3)(6,"h1",11),e._uU(7,"Change password"),e.qZA(),e.TgZ(8,"p",18),e._uU(9,"Please enter your new password"),e.qZA(),e.TgZ(10,"div",19)(11,"label",20),e._uU(12,"New Password"),e.TgZ(13,"span",21),e._uU(14,"*"),e.qZA()(),e.TgZ(15,"input",22),e.NdJ("ngModelChange",function(n){return e.CHM(s),e.oxw().updatePassword.password=n}),e.qZA()(),e.TgZ(16,"div",19)(17,"label",20),e._uU(18,"Confirm Password"),e.TgZ(19,"span",21),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"input",23),e.NdJ("ngModelChange",function(n){return e.CHM(s),e.oxw().updatePassword.password_confirmation=n})("input",function(){return e.CHM(s),e.oxw().passwordMismatch()}),e.qZA(),e.YNc(22,Z,2,0,"span",24),e.qZA(),e.TgZ(23,"div",15)(24,"a",25),e.NdJ("click",function(){return e.CHM(s),e.oxw().resetPassword()}),e._uU(25,"Confirm"),e.qZA()()()()()()()()}if(2&t){const s=e.oxw();e.xp6(15),e.Q6J("ngModel",s.updatePassword.password),e.xp6(6),e.Q6J("ngModel",s.updatePassword.password_confirmation),e.xp6(1),e.Q6J("ngIf",s.invalidConfirmPassword),e.xp6(2),e.Q6J("ngClass",e.VKq(4,T,0==s.updatePassword.password.length||0==s.updatePassword.password_confirmation.length||s.updatePassword.password!=s.updatePassword.password_confirmation))}}const y=[{path:"",component:f},{path:"reset",component:(()=>{class t{constructor(s,o,n,d,F){this.helper=s,this._authentication=o,this._auth=n,this.route=d,this.router=F,this.step=0,this.isLoading=!0,this.tokenVerified=!0,this.updatePassword={verification_code:"",email:"",password:"",password_confirmation:""},this.invalidConfirmPassword=!1}ngOnInit(){this.verifyToken()}verifyToken(){this.route.queryParams.subscribe(s=>{s.token?(this.updatePassword.verification_code=s.token,this._authentication.verifyToken({verification_code:s.token}).subscribe(o=>{this.updatePassword.email=o.data.email,this.isLoading=!1,this.step=1},()=>{this.isLoading=!1,this.tokenVerified=!1,console.log(this.tokenVerified,this.isLoading)})):this.helper.toastError("verification token is missing")})}resetPassword(){console.log(this.updatePassword),this._authentication.resetPassword(this.updatePassword).subscribe(s=>{this._auth.storeUserData(s.data.access_token,s.data.user)})}passwordMismatch(){this.invalidConfirmPassword=this.updatePassword.password!=this.updatePassword.password_confirmation}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(u.B),e.Y36(g.$),e.Y36(w.e),e.Y36(c.gz),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-reset-password"]],decls:10,vars:3,consts:[[1,"reset-page"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"img-logo","mx-0"],["href","index.html"],["src","assets/img/logo.png","alt","logo",1,"img-fluid"],["class","row",4,"ngIf"],[1,"col-md-8","mx-auto"],[1,"box-reset","text-center"],["class","reset-heading",4,"ngIf"],[1,"reset-heading"],[1,"reset-para","mb-10"],[1,"img-thank-you"],["src","assets/img/thank-you.svg","alt","thank-you-img",1,"img-fluid"],[1,"d-flex","align-items-center","justify-content-center","mt-3"],["href","javascript:void(0)",1,"login-p",3,"click"],[1,"box-reset"],[1,"reset-para","mb-30"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","New Password","name","password",1,"ctm-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Confirm Password","name","password_confirmation",1,"ctm-input",3,"ngModel","ngModelChange","input"],["class","text text-danger",4,"ngIf"],["href","javascript:void(0)",1,"login-p",3,"ngClass","click"],[1,"text","text-danger"]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),e._UZ(6,"img",6),e.qZA()()()(),e.YNc(7,x,8,2,"div",7),e.YNc(8,C,15,0,"div",7),e.YNc(9,M,26,6,"div",7),e.qZA()()),2&s&&(e.xp6(7),e.Q6J("ngIf",0==o.step),e.xp6(1),e.Q6J("ngIf",1==o.step),e.xp6(1),e.Q6J("ngIf",2==o.step))},directives:[l.O5,r.Fj,r.JJ,r.On,l.mk],styles:[".disabled[_ngcontent-%COMP%]{opacity:.7;cursor:not-allowed}"]}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.Bz.forChild(y)],c.Bz]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,A,r.u5]]}),t})()}}]);