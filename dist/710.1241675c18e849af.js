"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[710],{8601:(v,Z,l)=>{l.d(Z,{Q:()=>h});var i=l(5e3),u=l(4182),d=l(9808);function g(p,f){if(1&p&&(i.TgZ(0,"div",21)(1,"h4"),i._uU(2),i.qZA()()),2&p){const m=i.oxw();i.xp6(2),i.lnq("Showing ",m.from," - ",m.to," of ",m.total,"")}}const e=function(p){return{disabled:p}};let h=(()=>{class p{constructor(){this.totalPages=1,this.currentPage=1,this.pageSize=10,this.from=1,this.to=10,this.total=10,this.changePage=new i.vpe,this.ChangePageSize=new i.vpe}ngOnInit(){}nextPage(){this.currentPage!=this.totalPages&&(this.currentPage++,this.changePage.emit(this.currentPage))}prevPage(){1!=this.currentPage&&(this.currentPage--,this.changePage.emit(this.currentPage))}pageSizeUpdate(m){this.pageSize=m.target.value,this.ChangePageSize.emit(this.pageSize)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275cmp=i.Xpm({type:p,selectors:[["app-pagination"]],inputs:{totalPages:"totalPages",currentPage:"currentPage",pageSize:"pageSize",from:"from",to:"to",total:"total"},outputs:{changePage:"changePage",ChangePageSize:"ChangePageSize"},decls:31,vars:10,consts:[[1,"d-flex","align-items-center","justify-content-end","mr-2","mt-2","pagination"],[1,"d-flex","rows-per"],[1,"row-heading"],[1,"select-box"],[1,"arrow-design"],[1,"form-control","bulk-select-status",3,"ngModel","ngModelChange","change"],["value","5"],["value","10"],["value","20"],["value","30"],["value","50"],[3,"value"],["class","d-flex align-items-center mr-3 justify-content-center",4,"ngIf"],[1,"pagination-ctm","d-inline-block"],[1,"item"],["href","javascript:void(0)",1,"page-arow-l",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-angle-left"],[1,"my-pagination","d-inline-block"],["href","javascript:void(0)",1,"link"],["href","javascript:void(0)","role","button",1,"page-arow-l",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-angle-right"],[1,"d-flex","align-items-center","mr-3","justify-content-center"]],template:function(m,c){1&m&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),i._uU(3,"Rows per page:"),i.qZA(),i.TgZ(4,"div",3)(5,"div",4)(6,"select",5),i.NdJ("ngModelChange",function(T){return c.pageSize=T})("change",function(T){return c.pageSizeUpdate(T)}),i.TgZ(7,"option",6),i._uU(8,"5"),i.qZA(),i.TgZ(9,"option",7),i._uU(10,"10"),i.qZA(),i.TgZ(11,"option",8),i._uU(12,"20"),i.qZA(),i.TgZ(13,"option",9),i._uU(14,"30"),i.qZA(),i.TgZ(15,"option",10),i._uU(16,"50"),i.qZA(),i.TgZ(17,"option",11),i._uU(18,"All"),i.qZA()()()()(),i.YNc(19,g,3,3,"div",12),i.TgZ(20,"div",13)(21,"li",14)(22,"a",15),i.NdJ("click",function(){return c.prevPage()}),i._UZ(23,"i",16),i.qZA()(),i.TgZ(24,"ul",17)(25,"li",14)(26,"a",18),i._uU(27),i.qZA()()(),i.TgZ(28,"li",14)(29,"a",19),i.NdJ("click",function(){return c.nextPage()}),i._UZ(30,"i",20),i.qZA()()()()),2&m&&(i.xp6(6),i.Q6J("ngModel",c.pageSize),i.xp6(11),i.s9C("value",c.total),i.xp6(2),i.Q6J("ngIf",c.from),i.xp6(3),i.Q6J("ngClass",i.VKq(6,e,1==c.currentPage)),i.xp6(5),i.Oqu(c.currentPage),i.xp6(2),i.Q6J("ngClass",i.VKq(8,e,c.currentPage==c.totalPages)))},directives:[u.EJ,u.JJ,u.On,u.YN,u.Kr,d.O5,d.mk],styles:[".pagination[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]   .arrow-design[_ngcontent-%COMP%]{width:auto}.pagination[_ngcontent-%COMP%]   .row-heading[_ngcontent-%COMP%]{white-space:nowrap}.disabled[_ngcontent-%COMP%]:hover{opacity:.7;cursor:not-allowed;background:#14274E1A;color:#656565}"]}),p})()},5710:(v,Z,l)=>{l.r(Z),l.d(Z,{PhonebookModule:()=>Ae});var i=l(9808),u=l(7587),d=l(9330),g=l(5860),e=l(5e3),h=l(2027),p=l(9644),f=l(629),m=l(6783),c=l(4182),C=l(8601);function T(a,s){if(1&a){const n=e.EpF();e.TgZ(0,"a",27),e.NdJ("click",function(){return e.CHM(n),e.oxw().addCustomer()}),e._UZ(1,"i-feather",28),e._uU(2," Add Entry "),e.qZA()}}function A(a,s){1&a&&e._UZ(0,"i",29)}function E(a,s){1&a&&e._UZ(0,"i",30)}function x(a,s){1&a&&e._UZ(0,"i",29)}function S(a,s){1&a&&e._UZ(0,"i",30)}function k(a,s){1&a&&e._UZ(0,"i",29)}function w(a,s){1&a&&e._UZ(0,"i",30)}function J(a,s){1&a&&e._UZ(0,"i",29)}function I(a,s){1&a&&e._UZ(0,"i",30)}function U(a,s){1&a&&(e.TgZ(0,"th")(1,"p",20),e._uU(2,"Actions"),e.qZA()())}function M(a,s){1&a&&e._UZ(0,"i-feather",33)}function N(a,s){if(1&a){const n=e.EpF();e.TgZ(0,"td")(1,"div",34)(2,"a",35),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(),r=o.$implicit,_=o.index;return e.oxw().editCustomer(r,_)}),e._UZ(3,"i-feather",36),e.qZA(),e.TgZ(4,"a",35),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(),r=o.$implicit,_=o.index;return e.oxw().deleteCustomer(r,_)}),e._UZ(5,"i-feather",37),e.qZA()()()}}function q(a,s){if(1&a&&(e.TgZ(0,"tr",31)(1,"td")(2,"p",20),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"p",20),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"p",20),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"p",20),e.YNc(12,M,1,0,"i-feather",32),e.qZA()(),e.YNc(13,N,6,0,"td",23),e.qZA()),2&a){const n=s.$implicit,t=e.oxw();e.xp6(3),e.Oqu(n.name),e.xp6(3),e.Oqu(n.phone_no),e.xp6(3),e.Oqu(n.email),e.xp6(3),e.Q6J("ngIf",n.blacklist),e.xp6(1),e.Q6J("ngIf",t._auth.checkPermissions("phonebook","write"))}}let Q=(()=>{class a{constructor(n,t,o){this._phonebook=n,this._modal=t,this._auth=o,this.customers=[],this.searchParams={search:"",page_size:10,page:1,sort_column:"name",sort_value:"ASC"},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"},this.dateToday=new Date}ngOnInit(){this.getCustomerListing()}getCustomerListing(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._phonebook.customerListing(this.searchParams).subscribe(n=>{this.customers=n.data.data,this.searchParams.page_size=n.data.per_page,this.searchParams.page=n.data.current_page,this.totalPages=n.data.last_page,this.pageFrom=n.data.from,this.pageTo=n.data.to,this.totalCount=n.data.total})}searchCustomers(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&(this.searchParams.page=1,this.getCustomerListing())}changePage(n){this.searchParams.page=n,this.getCustomerListing()}ChangePageSize(n){this.searchParams.page=1,this.searchParams.page_size=n,this.getCustomerListing()}addCustomer(){const n=this._modal.open(d.y,this.modalConfig);n.componentInstance.response.subscribe(t=>{console.log(t),t.success&&this.getCustomerListing(),n.dismiss()})}editCustomer(n,t){const o=this._modal.open(d.y,this.modalConfig);o.componentInstance.cus=Object.assign({},n),o.componentInstance.type="edit",o.componentInstance.response.subscribe(r=>{r.success&&(this.customers[t]=r.data),o.dismiss()})}deleteCustomer(n,t){const o=this._modal.open(g.p,this.modalConfig);o.componentInstance.data=Object.assign({},n),o.componentInstance.type="customer",o.componentInstance.response.subscribe(r=>{r.success&&this.customers.splice(t,1),o.dismiss()})}sortData(n){this.searchParams.sort_column=n,this.searchParams.sort_value="ASC"==this.searchParams.sort_value?"DESC":"ASC",this.getCustomerListing()}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(h.Q),e.Y36(p.FF),e.Y36(f.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-customers"]],decls:51,vars:22,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["class","secondary-sup","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"cursor-pointer",3,"click"],[1,"inner-cell"],["class","fa fa-arrow-down sorting-arrow","aria-hidden","true",4,"ngIf"],["class","fa fa-arrow-up sorting-arrow","aria-hidden","true",4,"ngIf"],[4,"ngIf"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","currentPage","totalPages","total","changePage","ChangePageSize"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],["aria-hidden","true",1,"fa","fa-arrow-down","sorting-arrow"],["aria-hidden","true",1,"fa","fa-arrow-up","sorting-arrow"],[1,"active-row"],["class","icon-width text-red","name","check",4,"ngIf"],["name","check",1,"icon-width","text-red"],[1,"list-icons-talbe","d-flex","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",5),e._uU(9,"Customers"),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"div",7),e.YNc(15,T,3,0,"a",8),e.qZA()(),e.TgZ(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"input",13),e.NdJ("input",function(){return t.searchCustomers()})("ngModelChange",function(r){return t.searchParams.search=r}),e.qZA(),e._UZ(21,"i-feather",14),e.qZA()()(),e.TgZ(22,"div",15)(23,"div",16)(24,"table",17)(25,"thead",18)(26,"tr")(27,"th",19),e.NdJ("click",function(){return t.sortData("name")}),e.TgZ(28,"p",20),e._uU(29,"Name "),e.YNc(30,A,1,0,"i",21),e.YNc(31,E,1,0,"i",22),e.qZA()(),e.TgZ(32,"th",19),e.NdJ("click",function(){return t.sortData("phone_no")}),e.TgZ(33,"p",20),e._uU(34,"Telephone "),e.YNc(35,x,1,0,"i",21),e.YNc(36,S,1,0,"i",22),e.qZA()(),e.TgZ(37,"th",19),e.NdJ("click",function(){return t.sortData("email")}),e.TgZ(38,"p",20),e._uU(39,"Email "),e.YNc(40,k,1,0,"i",21),e.YNc(41,w,1,0,"i",22),e.qZA()(),e.TgZ(42,"th",19),e.NdJ("click",function(){return t.sortData("blacklist")}),e.TgZ(43,"p",20),e._uU(44,"Blacklisted "),e.YNc(45,J,1,0,"i",21),e.YNc(46,I,1,0,"i",22),e.qZA()(),e.YNc(47,U,3,0,"th",23),e.qZA()(),e.TgZ(48,"tbody",24),e.YNc(49,q,14,5,"tr",25),e.qZA()()(),e.TgZ(50,"app-pagination",26),e.NdJ("changePage",function(r){return t.changePage(r)})("ChangePageSize",function(r){return t.ChangePageSize(r)}),e.qZA()()()()()),2&n&&(e.xp6(12),e.hij("Week ",e.xi3(13,19,t.dateToday,"ww"),""),e.xp6(3),e.Q6J("ngIf",t._auth.checkPermissions("phonebook","write")),e.xp6(5),e.Q6J("ngModel",t.searchParams.search),e.xp6(10),e.Q6J("ngIf","name"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","name"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","phone_no"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","phone_no"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","email"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","email"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","blacklist"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","blacklist"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf",t._auth.checkPermissions("phonebook","write")),e.xp6(2),e.Q6J("ngForOf",t.customers),e.xp6(1),e.Q6J("from",t.pageFrom)("to",t.pageTo)("pageSize",t.searchParams.page_size)("currentPage",t.searchParams.page)("totalPages",t.totalPages)("total",t.totalCount))},directives:[i.O5,m.u,c.Fj,c.JJ,c.On,i.sg,C.Q],pipes:[i.uU],styles:[""]}),a})();var O=l(1628),Y=l(9634);function D(a,s){1&a&&(e.TgZ(0,"h4",9),e._uU(1,"ADD EMPLOYEE"),e.qZA())}function L(a,s){1&a&&(e.TgZ(0,"h4",9),e._uU(1,"UPDATE EMPLOYEE"),e.qZA())}function z(a,s){if(1&a){const n=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().newEmployee.name=o}),e.qZA()()(),e.TgZ(8,"div",11)(9,"div",12)(10,"label",13),e._uU(11,"Email "),e.qZA(),e.TgZ(12,"input",16),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().newEmployee.email=o}),e.qZA()()(),e.TgZ(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"External Contact Number "),e.qZA(),e.TgZ(17,"input",16),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().newEmployee.external_contact=o}),e.qZA()()(),e.TgZ(18,"div",11)(19,"div",12)(20,"label",13),e._uU(21,"Extension Number "),e.qZA(),e.TgZ(22,"input",17),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().newEmployee.extension_number=o}),e.qZA()()(),e.TgZ(23,"div",11)(24,"div",12)(25,"h5",13),e._uU(26,"Mobile numbers for office use only, don\u2019t release mobile numbers to any external party. You could always transfer a call to a mobile, click Transfer > Blind > [Type Number] > Send. This will transfer the call and display the callers number rather than internal number"),e.qZA()()(),e.TgZ(27,"div",11)(28,"div",18)(29,"label",13),e._uU(30,"Mobile Number"),e.qZA(),e.TgZ(31,"input",19),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().newEmployee.phone_no=o}),e.qZA()()()()}if(2&a){const n=e.oxw();e.xp6(7),e.Q6J("ngModel",n.newEmployee.name),e.xp6(5),e.Q6J("ngModel",n.newEmployee.email),e.xp6(5),e.Q6J("ngModel",n.newEmployee.external_contact),e.xp6(5),e.Q6J("ngModel",n.newEmployee.extension_number),e.xp6(9),e.Q6J("ngModel",n.newEmployee.phone_no)}}function j(a,s){if(1&a){const n=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Employee Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().employee.name=o}),e.qZA()()(),e.TgZ(8,"div",11)(9,"div",12)(10,"label",13),e._uU(11,"Email "),e.qZA(),e.TgZ(12,"input",16),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().employee.email=o}),e.qZA()()(),e.TgZ(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16,"External Contact Number "),e.qZA(),e.TgZ(17,"input",16),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().employee.external_contact=o}),e.qZA()()(),e.TgZ(18,"div",11)(19,"div",12)(20,"label",13),e._uU(21,"Extension Number "),e.qZA(),e.TgZ(22,"input",17),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().employee.extension_number=o}),e.qZA()()(),e.TgZ(23,"div",11)(24,"div",18)(25,"label",13),e._uU(26,"Mobile Number"),e.qZA(),e.TgZ(27,"input",19),e.NdJ("ngModelChange",function(o){return e.CHM(n),e.oxw().employee.phone_no=o}),e.qZA()()()()}if(2&a){const n=e.oxw();e.xp6(7),e.Q6J("ngModel",n.employee.name),e.xp6(5),e.Q6J("ngModel",n.employee.email),e.xp6(5),e.Q6J("ngModel",n.employee.external_contact),e.xp6(5),e.Q6J("ngModel",n.employee.extension_number),e.xp6(5),e.Q6J("ngModel",n.employee.phone_no)}}function F(a,s){if(1&a){const n=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(){return e.CHM(n),e.oxw().addEmployee()}),e._uU(1,"Save"),e.qZA()}}function H(a,s){if(1&a){const n=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(){return e.CHM(n),e.oxw().updateEmployee()}),e._uU(1,"Update"),e.qZA()}}let b=(()=>{class a{constructor(n,t,o){this._administration=n,this.helper=t,this._phonebook=o,this.type="add",this.response=new e.vpe,this.newEmployee={name:"",role_id:null,email:"",phone_no:"",extension_number:"",external_contact:""},this.roles=[]}ngOnInit(){}getRoles(){this._administration.rolesListing().subscribe(n=>{this.roles=n.data})}cancel(){this.response.emit({success:!1})}addEmployee(){this._phonebook.addEmployee(this.newEmployee).subscribe(n=>{this.helper.toastSuccess(n.message),this.response.emit({success:!0})})}updateEmployee(){"null"==this.employee.role_id&&(this.employee.role_id=null),this._phonebook.updateEmployee(this.employee).subscribe(n=>{this.helper.toastSuccess(n.message),this.response.emit({success:!0,data:n.data})})}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(O.E),e.Y36(Y.B),e.Y36(h.Q))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-edit-employee"]],inputs:{type:"type",employee:"employee"},outputs:{response:"response"},decls:14,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-12"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Prince Build",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","email","placeholder","Ex: John@gmail.com",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","email","placeholder","0236 54321",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"input-style"],["type","text","placeholder","0236 54321",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,D,2,0,"h4",1),e.YNc(2,L,2,0,"h4",1),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,z,32,5,"div",4),e.YNc(7,j,28,5,"div",4),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"a",7),e.NdJ("click",function(){return t.cancel()}),e._uU(11,"Discard"),e.qZA(),e.YNc(12,F,2,0,"a",8),e.YNc(13,H,2,0,"a",8),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("ngIf","add"==t.type),e.xp6(1),e.Q6J("ngIf","edit"==t.type),e.xp6(4),e.Q6J("ngIf","add"==t.type),e.xp6(1),e.Q6J("ngIf","edit"==t.type),e.xp6(5),e.Q6J("ngIf","add"==t.type),e.xp6(1),e.Q6J("ngIf","edit"==t.type))},directives:[i.O5,c.Fj,c.JJ,c.On],styles:[""]}),a})();function B(a,s){if(1&a){const n=e.EpF();e.TgZ(0,"a",27),e.NdJ("click",function(){return e.CHM(n),e.oxw().addEmployee()}),e._UZ(1,"i-feather",28),e._uU(2," Add Entry "),e.qZA()}}function K(a,s){1&a&&e._UZ(0,"i",29)}function R(a,s){1&a&&e._UZ(0,"i",30)}function W(a,s){1&a&&e._UZ(0,"i",29)}function $(a,s){1&a&&e._UZ(0,"i",30)}function X(a,s){1&a&&e._UZ(0,"i",29)}function V(a,s){1&a&&e._UZ(0,"i",30)}function G(a,s){1&a&&e._UZ(0,"i",29)}function ee(a,s){1&a&&e._UZ(0,"i",30)}function te(a,s){1&a&&e._UZ(0,"i",29)}function ne(a,s){1&a&&e._UZ(0,"i",30)}function ae(a,s){1&a&&(e.TgZ(0,"th")(1,"p",20),e._uU(2,"Actions"),e.qZA()())}function oe(a,s){if(1&a){const n=e.EpF();e.TgZ(0,"td")(1,"div",32)(2,"a",33),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(),r=o.$implicit,_=o.index;return e.oxw().editEmployee(r,_)}),e._UZ(3,"i-feather",34),e.qZA(),e.TgZ(4,"a",33),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(),r=o.$implicit,_=o.index;return e.oxw().deleteEmployee(r,_)}),e._UZ(5,"i-feather",35),e.qZA()()()}}function ie(a,s){if(1&a&&(e.TgZ(0,"tr",31)(1,"td")(2,"p",20),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"p",20),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"p",20),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"p",20),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"p",20),e._uU(15),e.qZA()(),e.YNc(16,oe,6,0,"td",23),e.qZA()),2&a){const n=s.$implicit,t=e.oxw();e.xp6(3),e.Oqu(n.name),e.xp6(3),e.Oqu(n.phone_no),e.xp6(3),e.Oqu(n.extension_number?n.extension_number:"--"),e.xp6(3),e.Oqu(n.external_contact?n.external_contact:"--"),e.xp6(3),e.Oqu(n.email?n.email:"--"),e.xp6(1),e.Q6J("ngIf",t._auth.checkPermissions("phonebook","write"))}}let se=(()=>{class a{constructor(n,t,o){this._phonebook=n,this._modal=t,this._auth=o,this.employees=[],this.searchParams={search:"",page_size:10,page:1,sort_column:"name",sort_value:"ASC"},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles add-phone-book-modal"},this.dateToday=new Date}ngOnInit(){this.getEmployees()}getEmployees(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._phonebook.employeesListing(this.searchParams).subscribe(n=>{this.employees=n.data.data,this.searchParams.page_size=n.data.per_page,this.searchParams.page=n.data.current_page,this.totalPages=n.data.last_page,this.pageFrom=n.data.from,this.pageTo=n.data.to,this.totalCount=n.data.total})}searchEmployees(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&(this.searchParams.page=1,this.getEmployees())}changePage(n){this.searchParams.page=n,this.getEmployees()}ChangePageSize(n){this.searchParams.page=1,this.searchParams.page_size=n,this.getEmployees()}addEmployee(){const n=this._modal.open(b,this.modalConfig);n.componentInstance.response.subscribe(t=>{t.success&&this.getEmployees(),n.dismiss()})}editEmployee(n,t){const o=this._modal.open(b,this.modalConfig);o.componentInstance.employee=Object.assign({},n),o.componentInstance.type="edit",o.componentInstance.response.subscribe(r=>{r.success&&(this.employees[t]=r.data),o.dismiss()})}deleteEmployee(n,t){const o=this._modal.open(g.p,this.modalConfig);o.componentInstance.data=Object.assign({},n),o.componentInstance.type="employee",o.componentInstance.response.subscribe(r=>{r.success&&this.employees.splice(t,1),o.dismiss()})}sortData(n){this.searchParams.sort_column=n,this.searchParams.sort_value="ASC"==this.searchParams.sort_value?"DESC":"ASC",this.getEmployees()}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(h.Q),e.Y36(p.FF),e.Y36(f.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-internal-list"]],decls:55,vars:20,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["class","secondary-sup","data-toggle","modal","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","ngModelChange","input"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"cursor-pointer",3,"click"],[1,"inner-cell"],["class","fa fa-arrow-down sorting-arrow","aria-hidden","true",4,"ngIf"],["class","fa fa-arrow-up sorting-arrow","aria-hidden","true",4,"ngIf"],[4,"ngIf"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","currentPage","totalPages","total","changePage","ChangePageSize"],["data-toggle","modal","href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],["aria-hidden","true",1,"fa","fa-arrow-down","sorting-arrow"],["aria-hidden","true",1,"fa","fa-arrow-up","sorting-arrow"],[1,"active-row"],[1,"list-icons-talbe","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",5),e._uU(9,"Internal List"),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12,"Week 47"),e.qZA()()(),e.TgZ(13,"div",7),e.YNc(14,B,3,0,"a",8),e.qZA()(),e.TgZ(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"input",13),e.NdJ("ngModelChange",function(r){return t.searchParams.search=r})("input",function(){return t.searchEmployees()}),e.qZA(),e._UZ(20,"i-feather",14),e.qZA()()(),e.TgZ(21,"div",15)(22,"div",16)(23,"table",17)(24,"thead",18)(25,"tr")(26,"th",19),e.NdJ("click",function(){return t.sortData("name")}),e.TgZ(27,"p",20),e._uU(28,"Name "),e.YNc(29,K,1,0,"i",21),e.YNc(30,R,1,0,"i",22),e.qZA()(),e.TgZ(31,"th",19),e.NdJ("click",function(){return t.sortData("phone_no")}),e.TgZ(32,"p",20),e._uU(33,"Telephone "),e.YNc(34,W,1,0,"i",21),e.YNc(35,$,1,0,"i",22),e.qZA()(),e.TgZ(36,"th",19),e.NdJ("click",function(){return t.sortData("extension_number")}),e.TgZ(37,"p",20),e._uU(38,"Extension "),e.YNc(39,X,1,0,"i",21),e.YNc(40,V,1,0,"i",22),e.qZA()(),e.TgZ(41,"th",19),e.NdJ("click",function(){return t.sortData("external_contact")}),e.TgZ(42,"p",20),e._uU(43,"External Contact "),e.YNc(44,G,1,0,"i",21),e.YNc(45,ee,1,0,"i",22),e.qZA()(),e.TgZ(46,"th",19),e.NdJ("click",function(){return t.sortData("email")}),e.TgZ(47,"p",20),e._uU(48,"Email "),e.YNc(49,te,1,0,"i",21),e.YNc(50,ne,1,0,"i",22),e.qZA()(),e.YNc(51,ae,3,0,"th",23),e.qZA()(),e.TgZ(52,"tbody",24),e.YNc(53,ie,17,6,"tr",25),e.qZA()()(),e.TgZ(54,"app-pagination",26),e.NdJ("changePage",function(r){return t.changePage(r)})("ChangePageSize",function(r){return t.ChangePageSize(r)}),e.qZA()()()()()),2&n&&(e.xp6(14),e.Q6J("ngIf",t._auth.checkPermissions("phonebook","write")),e.xp6(5),e.Q6J("ngModel",t.searchParams.search),e.xp6(10),e.Q6J("ngIf","name"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","name"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","phone_no"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","phone_no"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","extension_number"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","extension_number"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","external_contact"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","external_contact"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","email"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","email"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf",t._auth.checkPermissions("phonebook","write")),e.xp6(2),e.Q6J("ngForOf",t.employees),e.xp6(1),e.Q6J("from",t.pageFrom)("to",t.pageTo)("pageSize",t.searchParams.page_size)("currentPage",t.searchParams.page)("totalPages",t.totalPages)("total",t.totalCount))},directives:[i.O5,m.u,c.Fj,c.JJ,c.On,i.sg,C.Q],styles:[""]}),a})();var y=l(8646);function re(a,s){if(1&a){const n=e.EpF();e.TgZ(0,"a",27),e.NdJ("click",function(){return e.CHM(n),e.oxw().addSupplier()}),e._UZ(1,"i-feather",28),e._uU(2," Add Entry "),e.qZA()}}function le(a,s){1&a&&e._UZ(0,"i",29)}function ce(a,s){1&a&&e._UZ(0,"i",30)}function pe(a,s){1&a&&e._UZ(0,"i",29)}function me(a,s){1&a&&e._UZ(0,"i",30)}function _e(a,s){1&a&&e._UZ(0,"i",29)}function ue(a,s){1&a&&e._UZ(0,"i",30)}function de(a,s){1&a&&e._UZ(0,"i",29)}function he(a,s){1&a&&e._UZ(0,"i",30)}function ge(a,s){1&a&&e._UZ(0,"i",29)}function fe(a,s){1&a&&e._UZ(0,"i",30)}function Ce(a,s){1&a&&(e.TgZ(0,"th")(1,"p",20),e._uU(2,"Actions"),e.qZA()())}function Ze(a,s){if(1&a){const n=e.EpF();e.TgZ(0,"td")(1,"div",33)(2,"a",34),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(),r=o.$implicit,_=o.index;return e.oxw().editSupplier(r,_)}),e._UZ(3,"i-feather",35),e.qZA(),e.TgZ(4,"a",34),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(),r=o.$implicit,_=o.index;return e.oxw().deleteSupplier(r,_)}),e._UZ(5,"i-feather",36),e.qZA()()()}}function Te(a,s){if(1&a&&(e.TgZ(0,"tr",31)(1,"td")(2,"p",20),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"p",20),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"p",20),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"p",20),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"p",32),e._uU(15),e.qZA()(),e.YNc(16,Ze,6,0,"td",23),e.qZA()),2&a){const n=s.$implicit,t=e.oxw();e.xp6(3),e.Oqu(n.name),e.xp6(3),e.Oqu(n.address),e.xp6(3),e.Oqu(n.phone_no),e.xp6(3),e.Oqu(n.email),e.xp6(3),e.Oqu(n.products),e.xp6(1),e.Q6J("ngIf",t._auth.checkPermissions("phonebook","write"))}}const Pe=[{path:"",redirectTo:"customers"},{path:"customers",component:Q},{path:"suppliers",component:(()=>{class a{constructor(n,t,o){this._phonebook=n,this._modal=t,this._auth=o,this.suppliers=[],this.searchParams={search:"",page_size:10,page:1,sort_column:"name",sort_value:"ASC"},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles add-phone-book-modal"},this.dateToday=new Date}ngOnInit(){this.getSuppliers()}getSuppliers(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this._phonebook.supplierListing(this.searchParams).subscribe(n=>{this.suppliers=n.data.data,this.searchParams.page_size=n.data.per_page,this.searchParams.page=n.data.current_page,this.totalPages=n.data.last_page,this.pageFrom=n.data.from,this.pageTo=n.data.to,this.totalCount=n.data.total})}searchSuppliers(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&(this.searchParams.page=1,this.getSuppliers())}changePage(n){this.searchParams.page=n,this.getSuppliers()}ChangePageSize(n){this.searchParams.page=1,this.searchParams.page_size=n,this.getSuppliers()}addSupplier(){const n=this._modal.open(y.A,this.modalConfig);n.componentInstance.response.subscribe(t=>{t.success&&this.getSuppliers(),n.dismiss()})}editSupplier(n,t){const o=this._modal.open(y.A,this.modalConfig);o.componentInstance.supplier=Object.assign({},n),o.componentInstance.type="edit",o.componentInstance.response.subscribe(r=>{r.success&&(this.suppliers[t]=r.data),o.dismiss()})}deleteSupplier(n,t){const o=this._modal.open(g.p,this.modalConfig);o.componentInstance.data=Object.assign({},n),o.componentInstance.type="supplier",o.componentInstance.response.subscribe(r=>{r.success&&this.suppliers.splice(t,1),o.dismiss()})}sortData(n){this.searchParams.sort_column=n,this.searchParams.sort_value="ASC"==this.searchParams.sort_value?"DESC":"ASC",this.getSuppliers()}}return a.\u0275fac=function(n){return new(n||a)(e.Y36(h.Q),e.Y36(p.FF),e.Y36(f.e))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-suppliers"]],decls:56,vars:24,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["class","secondary-sup","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"cursor-pointer",3,"click"],[1,"inner-cell"],["class","fa fa-arrow-down sorting-arrow","aria-hidden","true",4,"ngIf"],["class","fa fa-arrow-up sorting-arrow","aria-hidden","true",4,"ngIf"],[4,"ngIf"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","currentPage","totalPages","total","changePage","ChangePageSize"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],["aria-hidden","true",1,"fa","fa-arrow-down","sorting-arrow"],["aria-hidden","true",1,"fa","fa-arrow-up","sorting-arrow"],[1,"active-row"],[1,"inner-cell",2,"white-space","normal"],[1,"list-icons-talbe","d-flex","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",5),e._uU(9,"Suppliers"),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"div",7),e.YNc(15,re,3,0,"a",8),e.qZA()(),e.TgZ(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"input",13),e.NdJ("input",function(){return t.searchSuppliers()})("ngModelChange",function(r){return t.searchParams.search=r}),e.qZA(),e._UZ(21,"i-feather",14),e.qZA()()(),e.TgZ(22,"div",15)(23,"div",16)(24,"table",17)(25,"thead",18)(26,"tr")(27,"th",19),e.NdJ("click",function(){return t.sortData("name")}),e.TgZ(28,"p",20),e._uU(29,"Name "),e.YNc(30,le,1,0,"i",21),e.YNc(31,ce,1,0,"i",22),e.qZA()(),e.TgZ(32,"th",19),e.NdJ("click",function(){return t.sortData("address")}),e.TgZ(33,"p",20),e._uU(34,"Address "),e.YNc(35,pe,1,0,"i",21),e.YNc(36,me,1,0,"i",22),e.qZA()(),e.TgZ(37,"th",19),e.NdJ("click",function(){return t.sortData("phone_no")}),e.TgZ(38,"p",20),e._uU(39,"Telephone "),e.YNc(40,_e,1,0,"i",21),e.YNc(41,ue,1,0,"i",22),e.qZA()(),e.TgZ(42,"th",19),e.NdJ("click",function(){return t.sortData("email")}),e.TgZ(43,"p",20),e._uU(44,"Email "),e.YNc(45,de,1,0,"i",21),e.YNc(46,he,1,0,"i",22),e.qZA()(),e.TgZ(47,"th",19),e.NdJ("click",function(){return t.sortData("products")}),e.TgZ(48,"p",20),e._uU(49,"Products "),e.YNc(50,ge,1,0,"i",21),e.YNc(51,fe,1,0,"i",22),e.qZA()(),e.YNc(52,Ce,3,0,"th",23),e.qZA()(),e.TgZ(53,"tbody",24),e.YNc(54,Te,17,6,"tr",25),e.qZA()()(),e.TgZ(55,"app-pagination",26),e.NdJ("changePage",function(r){return t.changePage(r)})("ChangePageSize",function(r){return t.ChangePageSize(r)}),e.qZA()()()()()),2&n&&(e.xp6(12),e.hij("Week ",e.xi3(13,21,t.dateToday,"ww"),""),e.xp6(3),e.Q6J("ngIf",t._auth.checkPermissions("phonebook","write")),e.xp6(5),e.Q6J("ngModel",t.searchParams.search),e.xp6(10),e.Q6J("ngIf","name"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","name"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","address"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","address"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","phone_no"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","phone_no"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","email"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","email"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(4),e.Q6J("ngIf","products"==t.searchParams.sort_column&&"DESC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf","products"==t.searchParams.sort_column&&"ASC"==t.searchParams.sort_value),e.xp6(1),e.Q6J("ngIf",t._auth.checkPermissions("phonebook","write")),e.xp6(2),e.Q6J("ngForOf",t.suppliers),e.xp6(1),e.Q6J("from",t.pageFrom)("to",t.pageTo)("pageSize",t.searchParams.page_size)("currentPage",t.searchParams.page)("totalPages",t.totalPages)("total",t.totalCount))},directives:[i.O5,m.u,c.Fj,c.JJ,c.On,i.sg,C.Q],pipes:[i.uU],styles:[""]}),a})()},{path:"internal-list",component:se}];let ve=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[u.Bz.forChild(Pe)],u.Bz]}),a})();var be=l(5530),ye=l(9618);let Ae=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[i.ez,ve,ye.m,c.u5,m.p.pick(be.kEt)]]}),a})()},9618:(v,Z,l)=>{l.d(Z,{m:()=>g});var i=l(9808),u=l(4182),d=l(5e3);let g=(()=>{class e{}return e.\u0275fac=function(p){return new(p||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[i.ez,u.u5]]}),e})()}}]);