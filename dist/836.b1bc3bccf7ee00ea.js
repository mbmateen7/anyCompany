"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[836],{3836:(C,d,a)=>{a.r(d),a.d(d,{SettingsModule:()=>Z});var m=a(9808),p=a(7587),e=a(5e3),c=a(9634),u=a(2340),g=a(4312),h=a(520);let f=(()=>{class n{constructor(t){this.http=t}updatePassword(t={}){return this.http.post(`${u.N.apiUrl+g.j.updatePassword}`,t)}updateUser(t={}){return this.http.post(`${u.N.apiUrl+g.j.updateProfile}`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(h.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var b=a(629),l=a(4182);const v=[{path:"",component:(()=>{class n{constructor(t,s,i){this.helper=t,this._setting=s,this._auth=i,this.passwordObj={old_password:"",password:"",password_confirmation:""},this.updateUserObj={name:"",email:""},this.formData=new FormData,this.user=JSON.parse(localStorage.getItem("userObj")),this._auth.currentUser.subscribe(r=>{!0!==r&&(this.user=r,this.updateUserObj.name=r.name,this.updateUserObj.email=r.email,this.url=r.profile_picture)})}ngOnInit(){}updatePassword(){!this.validatePasswordObj()||this._setting.updatePassword(this.passwordObj).subscribe(t=>{this.helper.toastSuccess(t.message),this.passwordObj={old_password:"",password:"",password_confirmation:""}})}selectFile(t){const s=t.target.files[0];if(this.formData.set("profile_picture",s,s.name),t.target.files&&t.target.files[0]){var i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=r=>{this.url=r.target.result}}}validatePasswordObj(){return this.passwordObj.old_password.length?this.passwordObj.password.length?!!this.passwordObj.password_confirmation.length||(this.helper.toastError("Confirm Password is required"),!1):(this.helper.toastError("New Password is required"),!1):(this.helper.toastError("Old Password is required"),!1)}updateUser(){!this.validateUserObj()||(this.formData.set("email",this.updateUserObj.email),this.formData.set("name",this.updateUserObj.name),this._setting.updateUser(this.formData).subscribe(t=>{this.helper.toastSuccess(t.message),this._auth.updateUserData(t.data)}))}validateUserObj(){return this.updateUserObj.email.length?!!this.updateUserObj.name.length||(this.helper.toastError("Name is required"),!1):(this.helper.toastError("Email is required"),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.B),e.Y36(f),e.Y36(b.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-settings"]],decls:68,vars:6,consts:[[1,"breadcrumb",2,"margin","3rem 0"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"profile-body"],[1,"main-profile"],[1,"pro-left-box-main"],[1,"profile-left-box"],[1,"profile-img"],[1,"image-box"],["alt","pro-pics",1,"img-fluid",3,"src"],["for","profile-image"],[1,"camera-box"],[1,"fa","fa-camera"],["type","file","id","profile-image",1,"d-none",3,"change"],[1,"profile-input-section"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","email","placeholder","Addy brown",1,"ctm-input",3,"ngModel","ngModelChange"],["type","email","placeholder","Addybrown@humpheryandstretton.com",1,"ctm-input",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center","justify-content-end"],["href","javascript:void(0)",1,"login-p",3,"click"],[1,"pro-right-box-main"],[1,"change-pass"],[1,"profile-right-box"],[1,"type-pass"],["type","password","placeholder","Password",1,"ctm-input",3,"ngModel","ngModelChange"],[1,"icon-eye","d-flex","align-items-center","justify-content-center"],["src","assets/img/icon-feather-eye.svg","alt","img"],["type","password","placeholder","New Password",1,"ctm-input",3,"ngModel","ngModelChange"],["type","password","placeholder","Confirm Password",1,"ctm-input",3,"ngModel","ngModelChange"]],template:function(t,s){1&t&&(e.TgZ(0,"ul",0)(1,"li",1)(2,"a",2),e._uU(3,"SETTING"),e.qZA()(),e.TgZ(4,"li",1)(5,"a",3),e._uU(6,"Profile"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),e._UZ(13,"img",10),e.qZA(),e.TgZ(14,"label",11)(15,"div",12),e._UZ(16,"i",13),e.TgZ(17,"input",14),e.NdJ("change",function(r){return s.selectFile(r)}),e.qZA()()()(),e.TgZ(18,"div",15)(19,"div",16)(20,"label",17),e._uU(21,"Full Name"),e.TgZ(22,"span",18),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"input",19),e.NdJ("ngModelChange",function(r){return s.updateUserObj.name=r}),e.qZA()(),e.TgZ(25,"div",16)(26,"label",17),e._uU(27,"Email"),e.TgZ(28,"span",18),e._uU(29,"*"),e.qZA()(),e.TgZ(30,"input",20),e.NdJ("ngModelChange",function(r){return s.updateUserObj.email=r}),e.qZA()(),e.TgZ(31,"div",21)(32,"a",22),e.NdJ("click",function(){return s.updateUser()}),e._uU(33,"Save"),e.qZA()()()()(),e.TgZ(34,"div",23)(35,"h1",24),e._uU(36,"CHANGE PASSWORD"),e.qZA(),e.TgZ(37,"div",25)(38,"div",16)(39,"label",17),e._uU(40,"Old Password"),e.TgZ(41,"span",18),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"div",26)(44,"input",27),e.NdJ("ngModelChange",function(r){return s.passwordObj.old_password=r}),e.qZA(),e.TgZ(45,"div",28),e._UZ(46,"img",29),e.qZA()()(),e.TgZ(47,"div",16)(48,"label",17),e._uU(49,"New Password"),e.TgZ(50,"span",18),e._uU(51,"*"),e.qZA()(),e.TgZ(52,"div",26)(53,"input",30),e.NdJ("ngModelChange",function(r){return s.passwordObj.password=r}),e.qZA(),e.TgZ(54,"div",28),e._UZ(55,"img",29),e.qZA()()(),e.TgZ(56,"div",16)(57,"label",17),e._uU(58,"Confirm Password"),e.TgZ(59,"span",18),e._uU(60,"*"),e.qZA()(),e.TgZ(61,"div",26)(62,"input",31),e.NdJ("ngModelChange",function(r){return s.passwordObj.password_confirmation=r}),e.qZA(),e.TgZ(63,"div",28),e._UZ(64,"img",29),e.qZA()()(),e.TgZ(65,"div",21)(66,"a",22),e.NdJ("click",function(){return s.updatePassword()}),e._uU(67,"Save"),e.qZA()()()()()()),2&t&&(e.xp6(13),e.Q6J("src",s.url,e.LSH),e.xp6(11),e.Q6J("ngModel",s.updateUserObj.name),e.xp6(6),e.Q6J("ngModel",s.updateUserObj.email),e.xp6(14),e.Q6J("ngModel",s.passwordObj.old_password),e.xp6(9),e.Q6J("ngModel",s.passwordObj.password),e.xp6(9),e.Q6J("ngModel",s.passwordObj.password_confirmation))},directives:[l.Fj,l.JJ,l.On],styles:[".profile-img[_ngcontent-%COMP%]   .image-box[_ngcontent-%COMP%]{height:18.3rem;width:18.3rem;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:50%}.profile-img[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.profile-img[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] > .camera-box[_ngcontent-%COMP%] > i.fa-camera[_ngcontent-%COMP%]{font-size:15px;color:#dc0100}"]}),n})()}];let w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.Bz.forChild(v)],p.Bz]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.ez,l.u5,w]]}),n})()}}]);