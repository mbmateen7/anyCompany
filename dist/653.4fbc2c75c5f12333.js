"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[653],{8653:(Fe,y,_)=>{_.r(y),_.d(y,{DeliveryListModule:()=>Me});var p=_(9808),m=_(7587),t=_(5e3),D=_(1702),h=_(2340),g=_(4312),U=_(520);let x=(()=>{class n{constructor(e){this.http=e}listing(e={}){return this.http.post(`${h.N.apiUrl+g.j.deliveryListing}`,e)}updateDeliveryListStatus(e={}){return this.http.post(`${h.N.apiUrl+g.j.updateDeliveryListStatus}`,e)}updateDeliveryList(e={}){return this.http.post(`${h.N.apiUrl+g.j.updateDeliveryList}`,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(U.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=_(4182),v=_(7051);function N(n,a){if(1&n&&(t.TgZ(0,"option",32),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}const I=function(){return{isAnimated:!0,dateInputFormat:"DD-MMM-YYYY",containerClass:"theme-red",selectFromOtherMonth:!0}};let C=(()=>{class n{constructor(e,i,r){this._rod=e,this._delivery=i,this.datePipe=r,this.response=new t.vpe,this.products=[]}ngOnInit(){this.orderDate=new Date(this.order.due_date),this.getProductsListing()}getProductsListing(){this._rod.productsListing().subscribe(e=>{this.products=e.data})}close(){this.response.emit({success:!1})}updateOrder(){console.log(this.order),this._delivery.updateDeliveryList(this.order).subscribe(e=>{this.response.emit({success:!0,data:e.data})})}dateChanged(e){this.order.due_date=this.datePipe.transform(e,"YYYY-MM-dd")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.W),t.Y36(x),t.Y36(p.uU))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-update-delivery-order"]],inputs:{order:"order"},outputs:{response:"response"},decls:78,vars:10,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"input-style","mb-2"],[1,"select-box"],[1,"form-group"],[1,"d-block"],[1,"text-danger"],["placeholder","Change Action",1,"ctm-input","bg-white",3,"ngModel","ngModelChange"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"ctm-input","bg-white",3,"ngModel","ngModelChange"],["value","null","selected",""],["value","Primed"],["value","Lacquered"],["value","Laminate"],["value","Sealant"],["value","Other/Special"],["value","Sealed"],["value","M.D.O"],[1,"col-md-6"],["type","text","placeholder","Location",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","RM1234",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Ready",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Due Date","bsDatepicker","",1,"ctm-input","type-input",3,"bsValue","bsConfig","bsValueChange"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)",1,"add-btn",3,"click"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"h4",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t._uU(4,"\xd7"),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),t._uU(12,"Product"),t.TgZ(13,"span",10),t._uU(14,"*"),t.qZA()(),t.TgZ(15,"select",11),t.NdJ("ngModelChange",function(c){return i.order.product_id=c}),t.TgZ(16,"option",12),t._uU(17,"Select Product"),t.qZA(),t.YNc(18,N,2,2,"option",13),t.qZA()()()()(),t.TgZ(19,"div",5)(20,"div",6)(21,"div",7)(22,"div",8)(23,"label",9),t._uU(24,"Finish"),t.TgZ(25,"span",10),t._uU(26,"*"),t.qZA()(),t.TgZ(27,"select",14),t.NdJ("ngModelChange",function(c){return i.order.finish_type=c}),t.TgZ(28,"option",15),t._uU(29,"Select Finish"),t.qZA(),t.TgZ(30,"option",16),t._uU(31,"Primed"),t.qZA(),t.TgZ(32,"option",17),t._uU(33,"Lacquered"),t.qZA(),t.TgZ(34,"option",18),t._uU(35,"Laminate"),t.qZA(),t.TgZ(36,"option",19),t._uU(37,"Sealant"),t.qZA(),t.TgZ(38,"option",20),t._uU(39,"Other/Special"),t.qZA(),t.TgZ(40,"option",21),t._uU(41,"Sealed"),t.qZA(),t.TgZ(42,"option",22),t._uU(43,"M.D.O"),t.qZA()()()()()(),t.TgZ(44,"div",23)(45,"div",6)(46,"label",9),t._uU(47,"Location"),t.TgZ(48,"span",10),t._uU(49,"*"),t.qZA()(),t.TgZ(50,"input",24),t.NdJ("ngModelChange",function(c){return i.order.location=c}),t.qZA()()(),t.TgZ(51,"div",23)(52,"div",6)(53,"label",9),t._uU(54,"Postal Code"),t.TgZ(55,"span",10),t._uU(56,"*"),t.qZA()(),t.TgZ(57,"input",25),t.NdJ("ngModelChange",function(c){return i.order.postcode=c}),t.qZA()()(),t.TgZ(58,"div",5)(59,"div",6)(60,"label",9),t._uU(61,"Delivery"),t.TgZ(62,"span",10),t._uU(63,"*"),t.qZA()(),t.TgZ(64,"input",26),t.NdJ("ngModelChange",function(c){return i.order.delivery=c}),t.qZA()()(),t.TgZ(65,"div",5)(66,"div",6)(67,"label",9),t._uU(68,"Due Date"),t.TgZ(69,"span",10),t._uU(70,"*"),t.qZA()(),t.TgZ(71,"input",27),t.NdJ("bsValueChange",function(c){return i.dateChanged(c)})("bsValueChange",function(c){return i.orderDate=c}),t.qZA()()()()(),t.TgZ(72,"div",28)(73,"div",29)(74,"a",30),t.NdJ("click",function(){return i.close()}),t._uU(75,"Discard"),t.qZA(),t.TgZ(76,"a",31),t.NdJ("click",function(){return i.updateOrder()}),t._uU(77,"Done"),t.qZA()()()),2&e&&(t.xp6(2),t.hij("EDIT ",i.order.work_number,""),t.xp6(13),t.Q6J("ngModel",i.order.product_id),t.xp6(3),t.Q6J("ngForOf",i.products),t.xp6(9),t.Q6J("ngModel",i.order.finish_type),t.xp6(23),t.Q6J("ngModel",i.order.location),t.xp6(7),t.Q6J("ngModel",i.order.postcode),t.xp6(7),t.Q6J("ngModel",i.order.delivery),t.xp6(7),t.Q6J("bsValue",i.orderDate)("bsConfig",t.DdM(9,I)))},directives:[u.EJ,u.JJ,u.On,u.YN,u.Kr,p.sg,u.Fj,v.Y5,v.Np],styles:[""]}),n})();var T=_(2212),w=_(88),f=_(9644),k=_(629),Z=_(6783),b=_(8601);function Q(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"i-feather",32),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.startDate=null,r.searchOrder("date")}),t.qZA()}}function M(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"i-feather",32),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.endDate=null,r.searchOrder("date")}),t.qZA()}}function F(n,a){1&n&&t._UZ(0,"i",44)}function S(n,a){1&n&&t._UZ(0,"i",45)}function L(n,a){1&n&&t._UZ(0,"i",44)}function Y(n,a){1&n&&t._UZ(0,"i",45)}function W(n,a){1&n&&t._UZ(0,"i",44)}function O(n,a){1&n&&t._UZ(0,"i",45)}function $(n,a){1&n&&t._UZ(0,"i",44)}function j(n,a){1&n&&t._UZ(0,"i",45)}function V(n,a){1&n&&t._UZ(0,"i",44)}function H(n,a){1&n&&t._UZ(0,"i",45)}function E(n,a){1&n&&t._UZ(0,"i",44)}function K(n,a){1&n&&t._UZ(0,"i",45)}function z(n,a){1&n&&t._UZ(0,"i",44)}function B(n,a){1&n&&t._UZ(0,"i",45)}function R(n,a){1&n&&t._UZ(0,"i",44)}function X(n,a){1&n&&t._UZ(0,"i",45)}function G(n,a){1&n&&t._UZ(0,"i",44)}function tt(n,a){1&n&&t._UZ(0,"i",45)}function et(n,a){if(1&n&&(t.TgZ(0,"div",66)(1,"div",67)(2,"p"),t._uU(3),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.delivery)}}const l=function(n){return{disabled:n}};function it(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Sawed",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Sawed"))}}function nt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Lip",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Lip"))}}function rt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Press",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Press"))}}function ct(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Mill",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Mill"))}}function ot(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Mach",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Mach"))}}function at(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"CNC",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"CNC"))}}function st(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Spray",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Spray"))}}function _t(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Bench",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Bench"))}}function lt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._UZ(1,"i-feather",69),t.qZA()}}function dt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",70),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._uU(1," View "),t.qZA()}}function pt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",66)(1,"div",71)(2,"a",72),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._uU(3," Add Note "),t._UZ(4,"i-feather",73),t.qZA()(),t._UZ(5,"div",74),t.TgZ(6,"div",75),t._uU(7),t.ALo(8,"date"),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("innerHtml",e.latest_job_note.description,t.oJD),t.xp6(2),t.hij(" ",t.xi3(8,2,e.latest_job_note.created_at,"h:mm a | dd LLLL, yyyy")," ")}}function ut(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).editWorkOrder(c,o)}),t._UZ(1,"i-feather",76),t.qZA()}}function vt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).completeOrder(c,o)}),t._UZ(1,"i-feather",77),t.qZA()}}const mt=function(n,a){return{"order-to-factory":n,"order-withdrawn":a}},A=function(n){return["/rod/delivery-notes",n]};function ht(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr",46)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",47)(5,"div",48)(6,"a",49),t._uU(7),t.qZA(),t.YNc(8,et,4,1,"div",50),t.qZA()()(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td",51)(24,"div",52),t._UZ(25,"span"),t.qZA(),t._uU(26),t.qZA(),t.TgZ(27,"td")(28,"div",53)(29,"label",54)(30,"input",55),t.NdJ("change",function(){const r=t.CHM(e),c=r.$implicit,o=r.index;return t.oxw(2).updateStatus(c,o)}),t.qZA(),t._UZ(31,"span",56),t.qZA()()(),t.TgZ(32,"td"),t.YNc(33,it,4,5,"div",57),t.qZA(),t.TgZ(34,"td"),t.YNc(35,nt,4,5,"div",57),t.qZA(),t.TgZ(36,"td"),t.YNc(37,rt,4,5,"div",57),t.qZA(),t.TgZ(38,"td"),t.YNc(39,ct,4,5,"div",57),t.qZA(),t.TgZ(40,"td"),t.YNc(41,ot,4,5,"div",57),t.qZA(),t.TgZ(42,"td"),t.YNc(43,at,4,5,"div",57),t.qZA(),t.TgZ(44,"td"),t.YNc(45,st,4,5,"div",57),t.qZA(),t.TgZ(46,"td"),t.YNc(47,_t,4,5,"div",57),t.qZA(),t.TgZ(48,"td")(49,"div",58),t.YNc(50,lt,2,0,"a",59),t.YNc(51,dt,2,0,"a",60),t.YNc(52,pt,9,5,"div",50),t.qZA()(),t.TgZ(53,"td")(54,"div",61)(55,"a",62),t._UZ(56,"i-feather",63),t.qZA(),t.YNc(57,ut,2,0,"a",59),t.TgZ(58,"a",64),t.NdJ("click",function(){const r=t.CHM(e),c=r.$implicit,o=r.index;return t.oxw(2).viewTimeline(c,o)}),t._UZ(59,"i-feather",65),t.qZA(),t.YNc(60,vt,2,0,"a",59),t.qZA()()()}if(2&n){const e=a.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.WLB(32,mt,"To Factory"==e.status&&!e.on_hold,e.on_hold)),t.xp6(2),t.Oqu(e.week_number),t.xp6(5),t.hij(" ",e.delivery?e.delivery.length>10?(null==e.delivery?null:e.delivery.substr(0,10))+"...":e.delivery:""," "),t.xp6(1),t.Q6J("ngIf",(null==e.delivery?null:e.delivery.length)>10),t.xp6(2),t.Oqu(e.work_number),t.xp6(2),t.Oqu(e.customer.name),t.xp6(2),t.AsE("",e.quantity," ",e.product.name,""),t.xp6(2),t.Oqu(e.finish_type),t.xp6(2),t.Oqu(e.location),t.xp6(2),t.Oqu(e.postcode),t.xp6(2),t.Oqu(e.on_hold?"On Hold":e.status),t.xp6(3),t.Udp("width",e.progress,"%"),t.xp6(1),t.hij("",e.progress,"% "),t.xp6(3),t.Q6J("ngClass",t.VKq(35,l,!i._auth.checkPermissions("delivery_list","write"))),t.xp6(1),t.Q6J("checked","In Factory"==e.status)("disabled",!i._auth.checkPermissions("delivery_list","write")),t.xp6(3),t.Q6J("ngIf",i.checkProductAttribute(e,"Sawed")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Lip")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Press")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Mill")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Mach")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"CNC")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Spray")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Bench")),t.xp6(3),t.Q6J("ngIf","0"==e.job_notes_count),t.xp6(1),t.Q6J("ngIf","0"!=e.job_notes_count),t.xp6(1),t.Q6J("ngIf","0"!=e.job_notes_count&&e.latest_job_note.description),t.xp6(3),t.Q6J("routerLink",t.VKq(37,A,e.id)),t.xp6(2),t.Q6J("ngIf",i._auth.checkPermissions("delivery_list","write")),t.xp6(3),t.Q6J("ngIf",i._auth.checkPermissions("delivery_list","write"))}}function gt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",33)(1,"div",34)(2,"table",35)(3,"thead",36)(4,"tr")(5,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("due_date")}),t.TgZ(6,"p",38),t._uU(7,"W/C "),t.YNc(8,F,1,0,"i",39),t.YNc(9,S,1,0,"i",40),t.qZA()(),t.TgZ(10,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("delivery")}),t.TgZ(11,"p",38),t._uU(12,"Delivery "),t.YNc(13,L,1,0,"i",39),t.YNc(14,Y,1,0,"i",40),t.qZA()(),t.TgZ(15,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("work_number")}),t.TgZ(16,"p",38),t._uU(17,"Work# "),t.YNc(18,W,1,0,"i",39),t.YNc(19,O,1,0,"i",40),t.qZA()(),t.TgZ(20,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("customers.name")}),t.TgZ(21,"p",38),t._uU(22,"Customer "),t.YNc(23,$,1,0,"i",39),t.YNc(24,j,1,0,"i",40),t.qZA()(),t.TgZ(25,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("products.name")}),t.TgZ(26,"p",38),t._uU(27,"Product "),t.YNc(28,V,1,0,"i",39),t.YNc(29,H,1,0,"i",40),t.qZA()(),t.TgZ(30,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("finish_type")}),t.TgZ(31,"p",38),t._uU(32,"Finish "),t.YNc(33,E,1,0,"i",39),t.YNc(34,K,1,0,"i",40),t.qZA()(),t.TgZ(35,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("location")}),t.TgZ(36,"p",38),t._uU(37,"Location "),t.YNc(38,z,1,0,"i",39),t.YNc(39,B,1,0,"i",40),t.qZA()(),t.TgZ(40,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("postcode")}),t.TgZ(41,"p",38),t._uU(42,"Postcode "),t.YNc(43,R,1,0,"i",39),t.YNc(44,X,1,0,"i",40),t.qZA()(),t.TgZ(45,"th")(46,"p",38),t._uU(47,"Status"),t.qZA()(),t.TgZ(48,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("progress")}),t.TgZ(49,"p",38),t._uU(50,"Progress "),t.YNc(51,G,1,0,"i",39),t.YNc(52,tt,1,0,"i",40),t.qZA()(),t.TgZ(53,"th"),t._uU(54,"Factory?"),t.qZA(),t.TgZ(55,"th"),t._uU(56,"Sawed"),t.qZA(),t.TgZ(57,"th"),t._uU(58,"Lip"),t.qZA(),t.TgZ(59,"th"),t._uU(60,"Press"),t.qZA(),t.TgZ(61,"th"),t._uU(62,"Mill"),t.qZA(),t.TgZ(63,"th"),t._uU(64,"Mach"),t.qZA(),t.TgZ(65,"th"),t._uU(66,"CNC"),t.qZA(),t.TgZ(67,"th"),t._uU(68,"Spary"),t.qZA(),t.TgZ(69,"th"),t._uU(70,"Bench"),t.qZA(),t.TgZ(71,"th")(72,"p",38),t._uU(73,"Notes"),t.qZA()(),t.TgZ(74,"th"),t._uU(75,"Actions"),t.qZA()()(),t.TgZ(76,"tbody",41),t.YNc(77,ht,61,39,"tr",42),t.qZA()()(),t.TgZ(78,"app-pagination",43),t.NdJ("changePage",function(r){return t.CHM(e),t.oxw().changePage(r)})("ChangePageSize",function(r){return t.CHM(e),t.oxw().ChangePageSize(r)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("ngIf","due_date"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","due_date"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(4),t.Q6J("ngIf","delivery"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","delivery"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(4),t.Q6J("ngIf","work_number"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","work_number"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(4),t.Q6J("ngIf","customers.name"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","customers.name"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(4),t.Q6J("ngIf","products.name"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","products.name"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(4),t.Q6J("ngIf","finish_type"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","finish_type"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(4),t.Q6J("ngIf","location"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","location"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(4),t.Q6J("ngIf","postcode"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","postcode"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(7),t.Q6J("ngIf","progress"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","progress"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(25),t.Q6J("ngForOf",e.deliveries),t.xp6(1),t.Q6J("from",e.pageFrom)("to",e.pageTo)("pageSize",e.searchParams.page_size)("currentPage",e.searchParams.page)("totalPages",e.totalPages)("total",e.totalCount)}}function xt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._UZ(1,"i-feather",69),t.qZA()}}function ft(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",70),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._uU(1," View "),t.qZA()}}function Zt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",66)(1,"div",71)(2,"a",72),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._uU(3," Add Note "),t._UZ(4,"i-feather",73),t.qZA()(),t._UZ(5,"div",74),t.TgZ(6,"div",75),t._uU(7),t.ALo(8,"date"),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("innerHtml",e.latest_job_note.description,t.oJD),t.xp6(2),t.hij(" ",t.xi3(8,2,e.latest_job_note.created_at,"h:mm a | dd LLLL, yyyy")," ")}}function yt(n,a){if(1&n&&(t.TgZ(0,"div",66)(1,"div",67)(2,"p"),t._uU(3),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.delivery)}}function Ct(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Sawed "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Sawed",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Sawed"))}}function Tt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Lip "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Lip",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Lip"))}}function wt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Press "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Press",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Press"))}}function kt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Mill "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Mill",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Mill"))}}function bt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Mach "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Mach",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Mach"))}}function At(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," CNC "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"CNC",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"CNC"))}}function qt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Spray "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Spray",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Spray"))}}function Pt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Bench "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Bench",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,l,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status&&!e.on_hold)("checked",i.checkProductAttributeStatus(e,"Bench"))}}function Jt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).editWorkOrder(c,o)}),t._UZ(1,"i-feather",76),t.qZA()}}function Dt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).completeOrder(c,o)}),t._UZ(1,"i-feather",77),t.qZA()}}const Ut=function(n,a){return{"green-card-view":n,"red-card-view":a}};function Nt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",79)(1,"div",80)(2,"ul",81)(3,"li",82),t._uU(4,"W/C"),t.qZA(),t.TgZ(5,"li",83),t._uU(6),t.qZA()()(),t.TgZ(7,"div",80)(8,"div",84)(9,"ul",81)(10,"li",82),t._uU(11,"Customer"),t.qZA(),t.TgZ(12,"li",83),t._uU(13),t.qZA()(),t.TgZ(14,"ul",81)(15,"li",82),t._uU(16,"Job Note"),t.qZA(),t.TgZ(17,"li",83)(18,"div",58),t.YNc(19,xt,2,0,"a",59),t.YNc(20,ft,2,0,"a",60),t.YNc(21,Zt,9,5,"div",50),t.qZA()()()(),t.TgZ(22,"div",85)(23,"ul",81)(24,"li",82),t._uU(25,"Location"),t.qZA(),t.TgZ(26,"li",83),t._uU(27),t.qZA()(),t.TgZ(28,"ul",81)(29,"li",82),t._uU(30,"Postcode"),t.qZA(),t.TgZ(31,"li",83),t._uU(32),t.qZA()()()(),t.TgZ(33,"div",80)(34,"div",84)(35,"ul",81)(36,"li",82),t._uU(37,"Deliver"),t.qZA(),t.TgZ(38,"li",83)(39,"div",47)(40,"div",48)(41,"a",49),t._uU(42),t.qZA(),t.YNc(43,yt,4,1,"div",50),t.qZA()()()(),t.TgZ(44,"ul",81)(45,"li",82),t._uU(46,"Product"),t.qZA(),t.TgZ(47,"li",83),t._uU(48),t.qZA()(),t.TgZ(49,"ul",81)(50,"li",82),t._uU(51,"Status"),t.qZA(),t.TgZ(52,"li",83),t._uU(53),t.qZA()()(),t.TgZ(54,"div",85)(55,"ul",81)(56,"li",82),t._uU(57,"Work#"),t.qZA(),t.TgZ(58,"li",83),t._uU(59),t.qZA()(),t.TgZ(60,"ul",81)(61,"li",82),t._uU(62,"Finish"),t.qZA(),t.TgZ(63,"li",83),t._uU(64),t.qZA()(),t.TgZ(65,"ul",81)(66,"li",82),t._uU(67,"Progress"),t.qZA(),t.TgZ(68,"li",86)(69,"div",87),t._UZ(70,"span"),t.qZA(),t._uU(71),t.qZA()()()(),t.TgZ(72,"div",88)(73,"div",89)(74,"div",90)(75,"p",91),t._uU(76," Factory? "),t.qZA(),t.TgZ(77,"div",53)(78,"label",54)(79,"input",55),t.NdJ("change",function(){const r=t.CHM(e),c=r.$implicit,o=r.index;return t.oxw(2).updateStatus(c,o)}),t.qZA(),t._UZ(80,"span",56),t.qZA()()(),t.YNc(81,Ct,7,5,"div",92),t.YNc(82,Tt,7,5,"div",92),t.YNc(83,wt,7,5,"div",92),t.YNc(84,kt,7,5,"div",92),t.YNc(85,bt,7,5,"div",92),t.YNc(86,At,7,5,"div",92),t.YNc(87,qt,7,5,"div",92),t.YNc(88,Pt,7,5,"div",92),t.qZA(),t.TgZ(89,"div",93)(90,"div",61)(91,"a",62),t._UZ(92,"i-feather",94),t.qZA(),t.YNc(93,Jt,2,0,"a",59),t.TgZ(94,"a",64),t.NdJ("click",function(){const r=t.CHM(e),c=r.$implicit,o=r.index;return t.oxw(2).viewTimeline(c,o)}),t._UZ(95,"i-feather",65),t.qZA(),t.YNc(96,Dt,2,0,"a",59),t.qZA()()()()}if(2&n){const e=a.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.WLB(32,Ut,"To Factory"==e.status&&!e.on_hold,e.on_hold)),t.xp6(6),t.Oqu(e.week_number),t.xp6(7),t.Oqu(e.customer.name),t.xp6(6),t.Q6J("ngIf","0"==e.job_notes_count),t.xp6(1),t.Q6J("ngIf","0"!=e.job_notes_count),t.xp6(1),t.Q6J("ngIf","0"!=e.job_notes_count&&e.latest_job_note.description),t.xp6(6),t.Oqu(e.location),t.xp6(5),t.Oqu(e.postcode),t.xp6(10),t.hij(" ",e.delivery?e.delivery.length>10?(null==e.delivery?null:e.delivery.substr(0,10))+"...":e.delivery:""," "),t.xp6(1),t.Q6J("ngIf",(null==e.delivery?null:e.delivery.length)>10),t.xp6(5),t.AsE("",e.quantity," ",e.product.name,""),t.xp6(5),t.Oqu(e.on_hold?"On Hold":e.status),t.xp6(6),t.Oqu(e.work_number),t.xp6(5),t.Oqu(e.finish_type),t.xp6(6),t.Udp("width",e.progress,"%"),t.xp6(1),t.hij(" ",e.progress,"% "),t.xp6(7),t.Q6J("ngClass",t.VKq(35,l,!i._auth.checkPermissions("delivery_list","write"))),t.xp6(1),t.Q6J("checked","In Factory"==e.status)("disabled",!i._auth.checkPermissions("delivery_list","write")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Sawed")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Lip")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Press")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Mill")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Mach")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"CNC")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Spray")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Bench")),t.xp6(3),t.Q6J("routerLink",t.VKq(37,A,e.id)),t.xp6(2),t.Q6J("ngIf",i._auth.checkPermissions("delivery_list","write")),t.xp6(3),t.Q6J("ngIf",i._auth.checkPermissions("delivery_list","write"))}}function It(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,Nt,97,39,"div",78),t.TgZ(2,"app-pagination",43),t.NdJ("changePage",function(r){return t.CHM(e),t.oxw().changePage(r)})("ChangePageSize",function(r){return t.CHM(e),t.oxw().ChangePageSize(r)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.deliveries),t.xp6(1),t.Q6J("from",e.pageFrom)("to",e.pageTo)("pageSize",e.searchParams.page_size)("currentPage",e.searchParams.page)("totalPages",e.totalPages)("total",e.totalCount)}}const Qt=function(){return["/delivery-list/walking"]},q=function(){return{isAnimated:!0,dateInputFormat:"DD-MMM-YYYY",containerClass:"theme-red",selectFromOtherMonth:!0}};function Ft(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"i-feather",32),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.startDate=null,r.searchOrder("date")}),t.qZA()}}function St(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"i-feather",32),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.endDate=null,r.searchOrder("date")}),t.qZA()}}function Lt(n,a){1&n&&t._UZ(0,"i",44)}function Yt(n,a){1&n&&t._UZ(0,"i",45)}function Wt(n,a){1&n&&t._UZ(0,"i",44)}function Ot(n,a){1&n&&t._UZ(0,"i",45)}function $t(n,a){1&n&&t._UZ(0,"i",44)}function jt(n,a){1&n&&t._UZ(0,"i",45)}function Vt(n,a){1&n&&t._UZ(0,"i",44)}function Ht(n,a){1&n&&t._UZ(0,"i",45)}function Et(n,a){1&n&&t._UZ(0,"i",44)}function Kt(n,a){1&n&&t._UZ(0,"i",45)}function zt(n,a){1&n&&t._UZ(0,"i",44)}function Bt(n,a){1&n&&t._UZ(0,"i",45)}function Rt(n,a){if(1&n&&(t.TgZ(0,"div",66)(1,"div",67)(2,"p"),t._uU(3),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.delivery)}}const d=function(n){return{disabled:n}};function Xt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Sawed",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Sawed"))}}function Gt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Lip",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Lip"))}}function te(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Press",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Press"))}}function ee(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Mill",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Mill"))}}function ie(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Mach",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Mach"))}}function ne(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"CNC",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"CNC"))}}function re(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Spray",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Spray"))}}function ce(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"label",54)(2,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Bench",o)}),t.qZA(),t._UZ(3,"span",56),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Bench"))}}function oe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._UZ(1,"i-feather",69),t.qZA()}}function ae(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",70),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._uU(1," View "),t.qZA()}}function se(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",66)(1,"div",71)(2,"a",72),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._uU(3," Add Note "),t._UZ(4,"i-feather",73),t.qZA()(),t._UZ(5,"div",74),t.TgZ(6,"div",75),t._uU(7),t.ALo(8,"date"),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("innerHtml",e.latest_job_note.description,t.oJD),t.xp6(2),t.hij(" ",t.xi3(8,2,e.latest_job_note.created_at,"h:mm a | dd LLLL, yyyy")," ")}}function _e(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).editWorkOrder(c,o)}),t._UZ(1,"i-feather",76),t.qZA()}}function le(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).completeOrder(c,o)}),t._UZ(1,"i-feather",77),t.qZA()}}const de=function(n){return{"order-to-factory":n}},P=function(n){return["/rod/delivery-notes",n]};function pe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr",46)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"div",47)(5,"div",48)(6,"a",49),t._uU(7),t.qZA(),t.YNc(8,Rt,4,1,"div",50),t.qZA()()(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td",51)(18,"div",52),t._UZ(19,"span"),t.qZA(),t._uU(20),t.qZA(),t.TgZ(21,"td")(22,"div",53)(23,"label",54)(24,"input",55),t.NdJ("change",function(){const r=t.CHM(e),c=r.$implicit,o=r.index;return t.oxw(2).updateStatus(c,o)}),t.qZA(),t._UZ(25,"span",56),t.qZA()()(),t.TgZ(26,"td"),t.YNc(27,Xt,4,5,"div",57),t.qZA(),t.TgZ(28,"td"),t.YNc(29,Gt,4,5,"div",57),t.qZA(),t.TgZ(30,"td"),t.YNc(31,te,4,5,"div",57),t.qZA(),t.TgZ(32,"td"),t.YNc(33,ee,4,5,"div",57),t.qZA(),t.TgZ(34,"td"),t.YNc(35,ie,4,5,"div",57),t.qZA(),t.TgZ(36,"td"),t.YNc(37,ne,4,5,"div",57),t.qZA(),t.TgZ(38,"td"),t.YNc(39,re,4,5,"div",57),t.qZA(),t.TgZ(40,"td"),t.YNc(41,ce,4,5,"div",57),t.qZA(),t.TgZ(42,"td")(43,"div",58),t.YNc(44,oe,2,0,"a",59),t.YNc(45,ae,2,0,"a",60),t.YNc(46,se,9,5,"div",50),t.qZA()(),t.TgZ(47,"td")(48,"div",61)(49,"a",62),t._UZ(50,"i-feather",63),t.qZA(),t.YNc(51,_e,2,0,"a",59),t.TgZ(52,"a",64),t.NdJ("click",function(){const r=t.CHM(e),c=r.$implicit,o=r.index;return t.oxw(2).viewTimeline(c,o)}),t._UZ(53,"i-feather",65),t.qZA(),t.YNc(54,le,2,0,"a",59),t.qZA()()()}if(2&n){const e=a.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(29,de,"To Factory"==e.status)),t.xp6(2),t.Oqu(e.week_number),t.xp6(5),t.hij(" ",e.delivery?e.delivery.length>10?(null==e.delivery?null:e.delivery.substr(0,10))+"...":e.delivery:""," "),t.xp6(1),t.Q6J("ngIf",(null==e.delivery?null:e.delivery.length)>10),t.xp6(2),t.Oqu(e.work_number),t.xp6(2),t.Oqu(e.customer.name),t.xp6(2),t.AsE("",e.quantity," ",e.product.name,""),t.xp6(2),t.Oqu(e.on_hold?"On Hold":e.status),t.xp6(3),t.Udp("width",e.progress,"%"),t.xp6(1),t.hij("",e.progress,"% "),t.xp6(3),t.Q6J("ngClass",t.VKq(31,d,!i._auth.checkPermissions("delivery_list","write"))),t.xp6(1),t.Q6J("checked","In Factory"==e.status)("disabled",!i._auth.checkPermissions("delivery_list","write")),t.xp6(3),t.Q6J("ngIf",i.checkProductAttribute(e,"Sawed")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Lip")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Press")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Mill")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Mach")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"CNC")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Spray")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Bench")),t.xp6(3),t.Q6J("ngIf","0"==e.job_notes_count),t.xp6(1),t.Q6J("ngIf","0"!=e.job_notes_count),t.xp6(1),t.Q6J("ngIf","0"!=e.job_notes_count&&e.latest_job_note.description),t.xp6(3),t.Q6J("routerLink",t.VKq(33,P,e.id)),t.xp6(2),t.Q6J("ngIf",i._auth.checkPermissions("delivery_list","write")),t.xp6(3),t.Q6J("ngIf",i._auth.checkPermissions("delivery_list","write"))}}function ue(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",33)(1,"div",34)(2,"table",35)(3,"thead",36)(4,"tr")(5,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("due_date")}),t.TgZ(6,"p",38),t._uU(7,"W/C "),t.YNc(8,Lt,1,0,"i",39),t.YNc(9,Yt,1,0,"i",40),t.qZA()(),t.TgZ(10,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("delivery")}),t.TgZ(11,"p",38),t._uU(12,"Delivery "),t.YNc(13,Wt,1,0,"i",39),t.YNc(14,Ot,1,0,"i",40),t.qZA()(),t.TgZ(15,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("work_number")}),t.TgZ(16,"p",38),t._uU(17,"Work# "),t.YNc(18,$t,1,0,"i",39),t.YNc(19,jt,1,0,"i",40),t.qZA()(),t.TgZ(20,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("customers.name")}),t.TgZ(21,"p",38),t._uU(22,"Customer "),t.YNc(23,Vt,1,0,"i",39),t.YNc(24,Ht,1,0,"i",40),t.qZA()(),t.TgZ(25,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("products.name")}),t.TgZ(26,"p",38),t._uU(27,"Product "),t.YNc(28,Et,1,0,"i",39),t.YNc(29,Kt,1,0,"i",40),t.qZA()(),t.TgZ(30,"th")(31,"p",38),t._uU(32,"Status"),t.qZA()(),t.TgZ(33,"th",37),t.NdJ("click",function(){return t.CHM(e),t.oxw().sortData("progress")}),t.TgZ(34,"p",38),t._uU(35,"Progress "),t.YNc(36,zt,1,0,"i",39),t.YNc(37,Bt,1,0,"i",40),t.qZA()(),t.TgZ(38,"th"),t._uU(39,"Factory?"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"Sawed"),t.qZA(),t.TgZ(42,"th"),t._uU(43,"Lip"),t.qZA(),t.TgZ(44,"th"),t._uU(45,"Press"),t.qZA(),t.TgZ(46,"th"),t._uU(47,"Mill"),t.qZA(),t.TgZ(48,"th"),t._uU(49,"Mach"),t.qZA(),t.TgZ(50,"th"),t._uU(51,"CNC"),t.qZA(),t.TgZ(52,"th"),t._uU(53,"Spary"),t.qZA(),t.TgZ(54,"th"),t._uU(55,"Bench"),t.qZA(),t.TgZ(56,"th")(57,"p",38),t._uU(58,"Notes"),t.qZA()(),t.TgZ(59,"th"),t._uU(60,"Actions"),t.qZA()()(),t.TgZ(61,"tbody",41),t.YNc(62,pe,55,35,"tr",42),t.qZA()()(),t.TgZ(63,"app-pagination",43),t.NdJ("changePage",function(r){return t.CHM(e),t.oxw().changePage(r)})("ChangePageSize",function(r){return t.CHM(e),t.oxw().ChangePageSize(r)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("ngIf","due_date"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","due_date"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(4),t.Q6J("ngIf","delivery"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","delivery"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(4),t.Q6J("ngIf","work_number"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","work_number"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(4),t.Q6J("ngIf","customers.name"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","customers.name"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(4),t.Q6J("ngIf","products.name"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","products.name"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(7),t.Q6J("ngIf","progress"==e.searchParams.sort_column&&"DESC"==e.searchParams.sort_value),t.xp6(1),t.Q6J("ngIf","progress"==e.searchParams.sort_column&&"ASC"==e.searchParams.sort_value),t.xp6(25),t.Q6J("ngForOf",e.deliveries),t.xp6(1),t.Q6J("from",e.pageFrom)("to",e.pageTo)("pageSize",e.searchParams.page_size)("totalPages",e.totalPages)("total",e.totalCount)}}function ve(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",64),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._UZ(1,"i-feather",69),t.qZA()}}function me(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",70),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._uU(1," View "),t.qZA()}}function he(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",66)(1,"div",71)(2,"a",72),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).addJobNote(c.id,o)}),t._uU(3," Add Note "),t._UZ(4,"i-feather",73),t.qZA()(),t._UZ(5,"div",74),t.TgZ(6,"div",75),t._uU(7),t.ALo(8,"date"),t.qZA()()}if(2&n){const e=t.oxw().$implicit;t.xp6(5),t.Q6J("innerHtml",e.latest_job_note.description,t.oJD),t.xp6(2),t.hij(" ",t.xi3(8,2,e.latest_job_note.created_at,"h:mm a | dd LLLL, yyyy")," ")}}function ge(n,a){if(1&n&&(t.TgZ(0,"div",66)(1,"div",67)(2,"p"),t._uU(3),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.delivery)}}function xe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Sawed "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Sawed",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Sawed"))}}function fe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Lip "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Lip",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Lip"))}}function Ze(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Press "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Press",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Press"))}}function ye(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Mill "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Mill",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Mill"))}}function Ce(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Mach "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Mach",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Mach"))}}function Te(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," CNC "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"CNC",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"CNC"))}}function we(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Spray "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Spray",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Spray"))}}function ke(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"p",91),t._uU(2," Bench "),t.qZA(),t.TgZ(3,"div",53)(4,"label",54)(5,"input",68),t.NdJ("change",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).updateDeliveryList(c,"Bench",o)}),t.qZA(),t._UZ(6,"span",56),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(4),t.Q6J("ngClass",t.VKq(3,d,!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)),t.xp6(1),t.Q6J("disabled",!i._auth.checkPermissions("delivery_list","write")||"In Factory"!=e.status)("checked",i.checkProductAttributeStatus(e,"Bench"))}}function be(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",98),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).editWorkOrder(c,o)}),t._UZ(1,"i-feather",76),t.qZA()}}function Ae(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"a",99),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),c=r.$implicit,o=r.index;return t.oxw(2).completeOrder(c,o)}),t._UZ(1,"i-feather",77),t.qZA()}}const qe=function(n,a){return{"green-card-view":n,"red-card-view":a}};function Pe(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",79)(1,"div",80)(2,"ul",81)(3,"li",82),t._uU(4,"W/C"),t.qZA(),t.TgZ(5,"li",83),t._uU(6),t.qZA()()(),t.TgZ(7,"div",80)(8,"div",84)(9,"ul",81)(10,"li",82),t._uU(11,"Customer"),t.qZA(),t.TgZ(12,"li",83),t._uU(13),t.qZA()()(),t.TgZ(14,"div",85)(15,"ul",81)(16,"li",82),t._uU(17,"Job Note"),t.qZA(),t.TgZ(18,"li",83)(19,"div",58),t.YNc(20,ve,2,0,"a",59),t.YNc(21,me,2,0,"a",60),t.YNc(22,he,9,5,"div",50),t.qZA()()()()(),t.TgZ(23,"div",80)(24,"div",84)(25,"ul",81)(26,"li",82),t._uU(27,"Deliver"),t.qZA(),t.TgZ(28,"li",83)(29,"div",47)(30,"div",48)(31,"a",49),t._uU(32),t.qZA(),t.YNc(33,ge,4,1,"div",50),t.qZA()()()(),t.TgZ(34,"ul",81)(35,"li",82),t._uU(36,"Product"),t.qZA(),t.TgZ(37,"li",83),t._uU(38),t.qZA()(),t.TgZ(39,"ul",81)(40,"li",82),t._uU(41,"Status"),t.qZA(),t.TgZ(42,"li",83),t._uU(43),t.qZA()()(),t.TgZ(44,"div",85)(45,"ul",81)(46,"li",82),t._uU(47,"Work#"),t.qZA(),t.TgZ(48,"li",83),t._uU(49),t.qZA()(),t.TgZ(50,"ul",81)(51,"li",82),t._uU(52,"Progress"),t.qZA(),t.TgZ(53,"li",86)(54,"div",87),t._UZ(55,"span"),t.qZA(),t._uU(56),t.qZA()()()(),t.TgZ(57,"div",88)(58,"div",89)(59,"div",90)(60,"p",91),t._uU(61," Factory? "),t.qZA(),t.TgZ(62,"div",53)(63,"label",54)(64,"input",55),t.NdJ("change",function(){const r=t.CHM(e),c=r.$implicit,o=r.index;return t.oxw(2).updateStatus(c,o)}),t.qZA(),t._UZ(65,"span",56),t.qZA()()(),t.YNc(66,xe,7,5,"div",92),t.YNc(67,fe,7,5,"div",92),t.YNc(68,Ze,7,5,"div",92),t.YNc(69,ye,7,5,"div",92),t.YNc(70,Ce,7,5,"div",92),t.YNc(71,Te,7,5,"div",92),t.YNc(72,we,7,5,"div",92),t.YNc(73,ke,7,5,"div",92),t.qZA(),t.TgZ(74,"div",93)(75,"div",61)(76,"a",62),t._UZ(77,"i-feather",94),t.qZA(),t.YNc(78,be,2,0,"a",95),t.TgZ(79,"a",96),t.NdJ("click",function(){const r=t.CHM(e),c=r.$implicit,o=r.index;return t.oxw(2).viewTimeline(c,o)}),t._UZ(80,"i-feather",65),t.qZA(),t.YNc(81,Ae,2,0,"a",97),t.qZA()()()()}if(2&n){const e=a.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.WLB(29,qe,"To Factory"==e.status,e.on_hold)),t.xp6(6),t.Oqu(e.week_number),t.xp6(7),t.Oqu(e.customer.name),t.xp6(7),t.Q6J("ngIf","0"==e.job_notes_count),t.xp6(1),t.Q6J("ngIf","0"!=e.job_notes_count),t.xp6(1),t.Q6J("ngIf","0"!=e.job_notes_count&&e.latest_job_note.description),t.xp6(10),t.hij(" ",e.delivery?e.delivery.length>10?(null==e.delivery?null:e.delivery.substr(0,10))+"...":e.delivery:""," "),t.xp6(1),t.Q6J("ngIf",(null==e.delivery?null:e.delivery.length)>10),t.xp6(5),t.AsE("",e.quantity," ",e.product.name,""),t.xp6(5),t.Oqu(e.on_hold?"On Hold":e.status),t.xp6(6),t.Oqu(e.work_number),t.xp6(6),t.Udp("width",e.progress,"%"),t.xp6(1),t.hij(" ",e.progress,"% "),t.xp6(7),t.Q6J("ngClass",t.VKq(32,d,!i._auth.checkPermissions("delivery_list","write"))),t.xp6(1),t.Q6J("checked","In Factory"==e.status)("disabled",!i._auth.checkPermissions("delivery_list","write")),t.xp6(2),t.Q6J("ngIf",i.checkProductAttribute(e,"Sawed")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Lip")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Press")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Mill")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Mach")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"CNC")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Spray")),t.xp6(1),t.Q6J("ngIf",i.checkProductAttribute(e,"Bench")),t.xp6(3),t.Q6J("routerLink",t.VKq(34,P,e.id)),t.xp6(2),t.Q6J("ngIf",i._auth.checkPermissions("delivery_list","write")),t.xp6(3),t.Q6J("ngIf",i._auth.checkPermissions("delivery_list","write"))}}function Je(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,Pe,82,36,"div",78),t.TgZ(2,"app-pagination",43),t.NdJ("changePage",function(r){return t.CHM(e),t.oxw().changePage(r)})("ChangePageSize",function(r){return t.CHM(e),t.oxw().ChangePageSize(r)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.deliveries),t.xp6(1),t.Q6J("from",e.pageFrom)("to",e.pageTo)("pageSize",e.searchParams.page_size)("totalPages",e.totalPages)("total",e.totalCount)}}const De=function(){return["/delivery-list/delivery"]},J=function(){return{isAnimated:!0,dateInputFormat:"DD-MMM-YYYY",containerClass:"theme-red",selectFromOtherMonth:!0}},Ue=[{path:"",redirectTo:"delivery"},{path:"delivery",component:(()=>{class n{constructor(e,i,r,c,o){this._delivery=e,this._modal=i,this.router=r,this.datePipe=c,this._auth=o,this.deliveryListView=1,this.deliveries=[],this.searchParams={search:"",start_date:null,end_date:null,page_size:10,page:1,sort_column:"due_date",sort_value:"DESC"},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"},this.dateToday=new Date}ngOnInit(){this.getDeliveryListing()}getDeliveryListing(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._delivery.listing(this.searchParams).subscribe(e=>{this.deliveries=e.data.data,this.searchParams.page_size=e.data.per_page,this.searchParams.page=e.data.current_page,this.totalPages=e.data.last_page,this.pageFrom=e.data.from,this.pageTo=e.data.to,this.totalCount=e.data.total})}updateStatus(e,i){this._delivery.updateDeliveryListStatus({id:e.id,status:"In Factory"==e.status?"To Factory":"In Factory"}).subscribe(c=>{this.deliveries[i]=c.data})}completeOrder(e,i){this._delivery.updateDeliveryListStatus({id:e.id,status:"Delivered"}).subscribe(c=>{this.deliveries.splice(i,1)})}checkProductAttribute(e,i){return e.attributes.find(r=>r.name==i)}checkProductAttributeStatus(e,i){return e.attributes.find(r=>r.name==i&&r.checked)}updateDeliveryList(e,i,r){e.attributes[e.attributes.indexOf(e.attributes.find(c=>c.name==i))].checked=!e.attributes[e.attributes.indexOf(e.attributes.find(c=>c.name==i))].checked,this._delivery.updateDeliveryList(e).subscribe(c=>{this.deliveries[r]=c.data},c=>{e.attributes[e.attributes.indexOf(e.attributes.find(o=>o.name==i))].checked=!e.attributes[e.attributes.indexOf(e.attributes.find(o=>o.name==i))].checked})}addJobNote(e,i){this.modalConfig.windowClass="modal-roles job-notes-modal";const r=this._modal.open(T._,this.modalConfig);r.componentInstance.orderId=e,r.componentInstance.response.subscribe(c=>{c.success&&!c.close&&(this.deliveries[i]=c.data),c.close&&(this.getDeliveryListing(),r.dismiss(),this.modalConfig.windowClass="modal-roles")})}viewTimeline(e,i){this.modalConfig.windowClass="modal-roles timeline";const r=this._modal.open(w.z,this.modalConfig);r.componentInstance.rod=Object.assign({},e),r.componentInstance.response.subscribe(c=>{c.success&&this.router.navigate(["rod/delivery-notes",e.id]),c.data&&(this.deliveries[i]=c.data),r.dismiss(),this.modalConfig.windowClass="modal-roles"})}editWorkOrder(e,i){this.modalConfig.windowClass="modal-roles edit-work-order";const r=this._modal.open(C,this.modalConfig);r.componentInstance.order=Object.assign({},e),r.componentInstance.response.subscribe(c=>{c.success&&(this.deliveries[i]=c.data),r.close()})}searchOrder(e,i=null){this.searchParams.page=1,"search"==e&&(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getDeliveryListing(),setTimeout(()=>{"date"==e&&(this.startDate&&this.endDate||!this.startDate&&!this.endDate)&&(this.searchParams.start_date=this.startDate?this.datePipe.transform(this.startDate,"YYYY-MM-dd"):null,this.searchParams.end_date=this.endDate?this.datePipe.transform(this.endDate,"YYYY-MM-dd"):null,this.getDeliveryListing())},50)}changePage(e){this.searchParams.page=e,this.getDeliveryListing()}ChangePageSize(e){this.searchParams.page=1,this.searchParams.page_size=e,this.getDeliveryListing()}sortData(e){this.searchParams.sort_column=e,this.searchParams.sort_value="ASC"==this.searchParams.sort_value?"DESC":"ASC",this.getDeliveryListing()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x),t.Y36(f.FF),t.Y36(m.F0),t.Y36(p.uU),t.Y36(k.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delivery"]],decls:46,vars:19,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],[1,"secondary-sup",3,"routerLink"],[1,"roles-main","delivery-list-table","pb-1"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main","mb-2"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"search-inputs","d-flex"],[1,"search-inputs","mr-10"],[1,"input-style"],[1,"type-pass"],["type","text","id","start_date","placeholder","From","name","start_date","bsDatepicker","",1,"ctm-input",3,"bsValue","bsConfig","maxDate","bsValueChange"],[1,"icon-eye","d-flex","align-items-center","justify-content-center"],["name","calendar",1,"calender"],["name","X","class","clear-filter",3,"click",4,"ngIf"],[1,"search-inputs"],["type","text","id","end_date","placeholder","To","name","end_date","bsDatepicker","",1,"ctm-input",3,"bsValue","bsConfig","minDate","bsValueChange"],[1,"tab-main","mr-5"],[1,"nav","nav-pills"],["data-toggle","pill","href","javascript:void(0)",1,"tabs-charts","active",3,"click"],["data-toggle","pill","href","javascript:void(0)",1,"tabs-charts",3,"click"],[1,"tab-content"],["id","Table-View","class","tab-table tab-pane fade show in active",4,"ngIf"],[4,"ngIf"],["name","X",1,"clear-filter",3,"click"],["id","Table-View",1,"tab-table","tab-pane","fade","show","in","active"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"cursor-pointer",3,"click"],[1,"inner-cell"],["class","fa fa-arrow-down sorting-arrow","aria-hidden","true",4,"ngIf"],["class","fa fa-arrow-up sorting-arrow","aria-hidden","true",4,"ngIf"],[1,"t-body-ctm"],["class","active-row",3,"ngClass",4,"ngFor","ngForOf"],[3,"from","to","pageSize","currentPage","totalPages","total","changePage","ChangePageSize"],["aria-hidden","true",1,"fa","fa-arrow-down","sorting-arrow"],["aria-hidden","true",1,"fa","fa-arrow-up","sorting-arrow"],[1,"active-row",3,"ngClass"],[1,"ready-tooltips"],[1,"view-anchor-tooltip"],["href","javascript:void(0)",1,"view-anchor"],["class","tooltiptext-view",4,"ngIf"],[1,"position-relative"],[1,"progress-cell-bar"],[1,"custom-box"],[1,"switch",3,"ngClass"],["type","checkbox",3,"checked","disabled","change"],[1,"slider","round"],["class","custom-box",4,"ngIf"],[1,"inner-cell","view-anchor-tooltip"],["class","icon-anchor-list","href","javascript:void(0)",3,"click",4,"ngIf"],["class","view-anchor red","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"list-icons-talbe"],["href","javascript:void(0)",1,"icon-anchor-list",3,"routerLink"],["name","book",1,"icon-width"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","trending-up",1,"icon-width"],[1,"tooltiptext-view"],[1,"toop-hight"],["type","checkbox",3,"disabled","checked","change"],["name","plus",1,"icon-width"],["href","javascript:void(0)",1,"view-anchor","red",3,"click"],[1,"d-flex","align-items-center","justify-content-end"],["href","javascript:void(0)",1,"tooltip-anchor-modal",3,"click"],["name","plus",1,"icon-width","w15"],[1,"toop-hight",3,"innerHtml"],[1,"date-tooptip-iner"],["name","edit-3",1,"icon-width"],["name","check",1,"icon-width"],["class","card-view-main-box",3,"ngClass",4,"ngFor","ngForOf"],[1,"card-view-main-box",3,"ngClass"],[1,"card-view-content-box"],[1,"wc"],[1,"item-card-1"],[1,"item-card"],[1,"inner-doube-ul","d-flex","align-items-center","justify-content-between"],[1,"inner-doube-ul","d-flex","align-items-start","justify-content-between"],[1,"item-card","position-relative"],[1,"progress-card-bar"],[1,"d-flex","sett-switches"],[1,"switch-inline-main"],[1,"switch-container-box"],[1,"switch-label"],["class","switch-container-box",4,"ngIf"],[1,"list-card-icons"],["name","book-open",1,"icon-width"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),t._uU(6,"DELIVERY LIST"),t.qZA()(),t.TgZ(7,"li",4)(8,"a",6),t._uU(9),t.ALo(10,"date"),t.qZA()()(),t.TgZ(11,"div",7)(12,"a",8),t._uU(13,"Walking List"),t.qZA()()(),t.TgZ(14,"div",9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"input",13),t.NdJ("input",function(){return i.searchOrder("search")})("ngModelChange",function(c){return i.searchParams.search=c}),t.qZA(),t._UZ(19,"i-feather",14),t.qZA(),t.TgZ(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18)(24,"input",19),t.NdJ("bsValueChange",function(){return i.searchOrder("date")})("bsValueChange",function(c){return i.startDate=c}),t.qZA(),t.TgZ(25,"div",20),t._UZ(26,"i-feather",21),t.qZA(),t.YNc(27,Q,1,0,"i-feather",22),t.qZA()()(),t.TgZ(28,"div",23)(29,"div",17)(30,"div",18)(31,"input",24),t.NdJ("bsValueChange",function(){return i.searchOrder("date")})("bsValueChange",function(c){return i.endDate=c}),t.qZA(),t.TgZ(32,"div",20),t._UZ(33,"i-feather",21),t.qZA(),t.YNc(34,M,1,0,"i-feather",22),t.qZA()()()()(),t.TgZ(35,"div",25)(36,"ul",26)(37,"li")(38,"a",27),t.NdJ("click",function(){return i.deliveryListView=1}),t._uU(39,"Table View"),t.qZA()(),t.TgZ(40,"li")(41,"a",28),t.NdJ("click",function(){return i.deliveryListView=2}),t._uU(42,"Card View"),t.qZA()()()()(),t.TgZ(43,"div",29),t.YNc(44,gt,79,25,"div",30),t.qZA()(),t.YNc(45,It,3,7,"div",31),t.qZA()()),2&e&&(t.xp6(9),t.hij("Week ",t.xi3(10,13,i.dateToday,"ww"),""),t.xp6(3),t.Q6J("routerLink",t.DdM(16,Qt)),t.xp6(6),t.Q6J("ngModel",i.searchParams.search),t.xp6(6),t.Q6J("bsValue",i.startDate)("bsConfig",t.DdM(17,q))("maxDate",i.endDate),t.xp6(3),t.Q6J("ngIf",i.startDate),t.xp6(4),t.Q6J("bsValue",i.endDate)("bsConfig",t.DdM(18,q))("minDate",i.startDate),t.xp6(3),t.Q6J("ngIf",i.endDate),t.xp6(10),t.Q6J("ngIf",1==i.deliveryListView),t.xp6(1),t.Q6J("ngIf",2==i.deliveryListView))},directives:[m.yS,u.Fj,u.JJ,u.On,Z.u,v.Y5,v.Np,p.O5,p.sg,p.mk,b.Q],pipes:[p.uU],styles:[".switch-inline-main{flex-wrap:wrap}.sett-switches{flex-direction:column;justify-content:space-between;min-height:85%;width:100%}.list-card-icons{margin-left:1.6rem;display:flex;justify-content:flex-end}.search-inputs .input-style .ctm-input{width:17rem}\n"],encapsulation:2}),n})()},{path:"walking",component:(()=>{class n{constructor(e,i,r,c,o,s){this._delivery=e,this._modal=i,this.router=r,this.datePipe=c,this.bsLocale=o,this._auth=s,this.deliveryListView=1,this.deliveries=[],this.searchParams={search:"",start_date:"",end_date:"",page_size:10,page:1,sort_column:"due_date",sort_value:"DESC"},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"},this.dateToday=new Date}ngOnInit(){this.bsLocale.use("en-gb"),this.getDeliveryListing()}getDeliveryListing(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._delivery.listing(this.searchParams).subscribe(e=>{this.deliveries=e.data.data,this.searchParams.page_size=e.data.per_page,this.searchParams.page=e.data.current_page,this.totalPages=e.data.last_page,this.pageFrom=e.data.from,this.pageTo=e.data.to,this.totalCount=e.data.total})}updateStatus(e,i){this._delivery.updateDeliveryListStatus({id:e.id,status:"In Factory"==e.status?"To Factory":"In Factory"}).subscribe(c=>{this.deliveries[i]=c.data})}completeOrder(e,i){this._delivery.updateDeliveryListStatus({id:e.id,status:"Delivered"}).subscribe(c=>{this.deliveries.splice(i,1)})}checkProductAttribute(e,i){return e.attributes.find(r=>r.name==i)}checkProductAttributeStatus(e,i){return e.attributes.find(r=>r.name==i&&r.checked)}updateDeliveryList(e,i,r){e.attributes[e.attributes.indexOf(e.attributes.find(c=>c.name==i))].checked=!e.attributes[e.attributes.indexOf(e.attributes.find(c=>c.name==i))].checked,console.log(e),this._delivery.updateDeliveryList(e).subscribe(c=>{this.deliveries[r]=c.data},c=>{e.attributes[e.attributes.indexOf(e.attributes.find(o=>o.name==i))].checked=!e.attributes[e.attributes.indexOf(e.attributes.find(o=>o.name==i))].checked})}addJobNote(e,i){this.modalConfig.windowClass="modal-roles job-notes-modal";const r=this._modal.open(T._,this.modalConfig);r.componentInstance.orderId=e,r.componentInstance.response.subscribe(c=>{c.success&&!c.close&&(this.deliveries[i]=c.data),c.close&&(this.getDeliveryListing(),r.dismiss(),this.modalConfig.windowClass="modal-roles")})}viewTimeline(e,i){this.modalConfig.windowClass="modal-roles timeline";const r=this._modal.open(w.z,this.modalConfig);r.componentInstance.rod=Object.assign({},e),r.componentInstance.response.subscribe(c=>{c.success&&this.router.navigate(["rod/delivery-notes",e.id]),c.data&&(this.deliveries[i]=c.data),r.dismiss(),this.modalConfig.windowClass="modal-roles"})}editWorkOrder(e,i){this.modalConfig.windowClass="modal-roles edit-work-order";const r=this._modal.open(C,this.modalConfig);r.componentInstance.order=Object.assign({},e),r.componentInstance.response.subscribe(c=>{c.success&&(this.deliveries[i]=c.data),r.close()})}searchOrder(e,i=null){this.searchParams.page=1,"search"==e&&(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getDeliveryListing(),setTimeout(()=>{console.log(this.startDate,this.endDate),"date"==e&&(this.startDate&&this.endDate||!this.startDate&&!this.endDate)&&(this.searchParams.start_date=this.startDate?this.datePipe.transform(this.startDate,"YYYY-MM-dd"):null,this.searchParams.end_date=this.endDate?this.datePipe.transform(this.endDate,"YYYY-MM-dd"):null,this.getDeliveryListing())},50)}changePage(e){this.searchParams.page=e,this.getDeliveryListing()}ChangePageSize(e){this.searchParams.page=1,this.searchParams.page_size=e,this.getDeliveryListing()}sortData(e){this.searchParams.sort_column=e,this.searchParams.sort_value="ASC"==this.searchParams.sort_value?"DESC":"ASC",this.getDeliveryListing()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(x),t.Y36(f.FF),t.Y36(m.F0),t.Y36(p.uU),t.Y36(v.vL),t.Y36(k.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-walking"]],decls:49,vars:19,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],[1,"secondary-sup",3,"routerLink"],[1,"roles-main","delivery-list-table","pb-1"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main","mb-2"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"search-inputs","d-flex"],[1,"search-inputs","mr-10"],[1,"input-style"],[1,"type-pass"],["type","text","id","start_date","placeholder","From","name","start_date","bsDatepicker","",1,"ctm-input",3,"bsValue","bsConfig","maxDate","bsValueChange"],[1,"icon-eye","d-flex","align-items-center","justify-content-center"],["name","calendar",1,"calender"],["name","X","class","clear-filter",3,"click",4,"ngIf"],[1,"search-inputs"],["type","text","id","end_date","placeholder","To","name","end_date","bsDatepicker","",1,"ctm-input",3,"bsValue","bsConfig","minDate","bsValueChange"],[1,"tab-main","mr-5"],[1,"nav","nav-pills"],["data-toggle","pill","href","javascript:void(0)",1,"tabs-charts","active",3,"click"],["data-toggle","pill","href","javascript:void(0)",1,"tabs-charts",3,"click"],[1,"tab-content"],["id","Table-View","class","tab-table tab-pane fade show in active",4,"ngIf"],[4,"ngIf"],["name","X",1,"clear-filter",3,"click"],["id","Table-View",1,"tab-table","tab-pane","fade","show","in","active"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"cursor-pointer",3,"click"],[1,"inner-cell"],["class","fa fa-arrow-down sorting-arrow","aria-hidden","true",4,"ngIf"],["class","fa fa-arrow-up sorting-arrow","aria-hidden","true",4,"ngIf"],[1,"t-body-ctm"],["class","active-row",3,"ngClass",4,"ngFor","ngForOf"],[3,"from","to","pageSize","totalPages","total","changePage","ChangePageSize"],["aria-hidden","true",1,"fa","fa-arrow-down","sorting-arrow"],["aria-hidden","true",1,"fa","fa-arrow-up","sorting-arrow"],[1,"active-row",3,"ngClass"],[1,"ready-tooltips"],[1,"view-anchor-tooltip"],["href","javascript:void(0)",1,"view-anchor"],["class","tooltiptext-view",4,"ngIf"],[1,"position-relative"],[1,"progress-cell-bar"],[1,"custom-box"],[1,"switch",3,"ngClass"],["type","checkbox",3,"checked","disabled","change"],[1,"slider","round"],["class","custom-box",4,"ngIf"],[1,"inner-cell","view-anchor-tooltip"],["class","icon-anchor-list","href","javascript:void(0)",3,"click",4,"ngIf"],["class","view-anchor red","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"list-icons-talbe"],["href","javascript:void(0)",1,"icon-anchor-list",3,"routerLink"],["name","book",1,"icon-width"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","trending-up",1,"icon-width"],[1,"tooltiptext-view"],[1,"toop-hight"],["type","checkbox",3,"disabled","checked","change"],["name","plus",1,"icon-width"],["href","javascript:void(0)",1,"view-anchor","red",3,"click"],[1,"d-flex","align-items-center","justify-content-end"],["href","javascript:void(0)",1,"tooltip-anchor-modal",3,"click"],["name","plus",1,"icon-width","w15"],[1,"toop-hight",3,"innerHtml"],[1,"date-tooptip-iner"],["name","edit-3",1,"icon-width"],["name","check",1,"icon-width"],["class","card-view-main-box",3,"ngClass",4,"ngFor","ngForOf"],[1,"card-view-main-box",3,"ngClass"],[1,"card-view-content-box"],[1,"wc"],[1,"item-card-1"],[1,"item-card"],[1,"inner-doube-ul","d-flex","align-items-center","justify-content-between"],[1,"inner-doube-ul","d-flex","align-items-start","justify-content-between"],[1,"item-card","position-relative"],[1,"progress-card-bar"],[1,"d-flex","sett-switches"],[1,"switch-inline-main"],[1,"switch-container-box"],[1,"switch-label"],["class","switch-container-box",4,"ngIf"],[1,"list-card-icons","list-card-icons-pills"],["name","book-open",1,"icon-width"],["class","icon-anchor-list icon-anchor-list-blue","href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"icon-anchor-list","icon-anchor-list-orange",3,"click"],["class","icon-anchor-list icon-anchor-list-green","href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",1,"icon-anchor-list","icon-anchor-list-blue",3,"click"],["href","javascript:void(0)",1,"icon-anchor-list","icon-anchor-list-green",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),t._uU(6,"DELIVERY LIST"),t.qZA()(),t.TgZ(7,"li",4)(8,"a",5),t._uU(9,"WALKING LIST"),t.qZA()(),t.TgZ(10,"li",4)(11,"a",6),t._uU(12),t.ALo(13,"date"),t.qZA()()(),t.TgZ(14,"div",7)(15,"a",8),t._uU(16,"Delivery List"),t.qZA()()(),t.TgZ(17,"div",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"input",13),t.NdJ("input",function(){return i.searchOrder("search")})("ngModelChange",function(c){return i.searchParams.search=c}),t.qZA(),t._UZ(22,"i-feather",14),t.qZA(),t.TgZ(23,"div",15)(24,"div",16)(25,"div",17)(26,"div",18)(27,"input",19),t.NdJ("bsValueChange",function(){return i.searchOrder("date")})("bsValueChange",function(c){return i.startDate=c}),t.qZA(),t.TgZ(28,"div",20),t._UZ(29,"i-feather",21),t.qZA(),t.YNc(30,Ft,1,0,"i-feather",22),t.qZA()()(),t.TgZ(31,"div",23)(32,"div",17)(33,"div",18)(34,"input",24),t.NdJ("bsValueChange",function(){return i.searchOrder("date")})("bsValueChange",function(c){return i.endDate=c}),t.qZA(),t.TgZ(35,"div",20),t._UZ(36,"i-feather",21),t.qZA(),t.YNc(37,St,1,0,"i-feather",22),t.qZA()()()()(),t.TgZ(38,"div",25)(39,"ul",26)(40,"li")(41,"a",27),t.NdJ("click",function(){return i.deliveryListView=1}),t._uU(42,"Table View"),t.qZA()(),t.TgZ(43,"li")(44,"a",28),t.NdJ("click",function(){return i.deliveryListView=2}),t._uU(45,"Card View"),t.qZA()()()()(),t.TgZ(46,"div",29),t.YNc(47,ue,64,18,"div",30),t.qZA()(),t.YNc(48,Je,3,6,"div",31),t.qZA()()),2&e&&(t.xp6(12),t.hij("Week ",t.xi3(13,13,i.dateToday,"ww"),""),t.xp6(3),t.Q6J("routerLink",t.DdM(16,De)),t.xp6(6),t.Q6J("ngModel",i.searchParams.search),t.xp6(6),t.Q6J("bsValue",i.startDate)("bsConfig",t.DdM(17,J))("maxDate",i.endDate),t.xp6(3),t.Q6J("ngIf",i.startDate),t.xp6(4),t.Q6J("bsValue",i.endDate)("bsConfig",t.DdM(18,J))("minDate",i.startDate),t.xp6(3),t.Q6J("ngIf",i.endDate),t.xp6(10),t.Q6J("ngIf",1==i.deliveryListView),t.xp6(1),t.Q6J("ngIf",2==i.deliveryListView))},directives:[m.yS,u.Fj,u.JJ,u.On,Z.u,v.Y5,v.Np,p.O5,p.sg,p.mk,b.Q],pipes:[p.uU],styles:[".switch-inline-main[_ngcontent-%COMP%]{flex-wrap:wrap}.sett-switches[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-between;min-height:85%;width:100%}.list-card-icons[_ngcontent-%COMP%]{margin-left:1.6rem;display:flex;justify-content:flex-end}.search-inputs[_ngcontent-%COMP%]   .input-style[_ngcontent-%COMP%]   .ctm-input[_ngcontent-%COMP%]{width:17rem}"]}),n})()}];let Ne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.Bz.forChild(Ue)],m.Bz]}),n})();var Ie=_(5530),Qe=_(9618);let Me=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.ez,Ne,u.u5,Z.p.pick(Ie.kEt),Qe.m,f.IJ,v.kn.forRoot()]]}),n})()}}]);