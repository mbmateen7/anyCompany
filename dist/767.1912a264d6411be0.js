"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[767],{4767:($,Z,l)=>{l.r(Z),l.d(Z,{PhonebookModule:()=>R});var d=l(9808),f=l(2268),C=l(9330),_=l(5860),e=l(6435),c=l(2027),g=l(2746),m=l(6783),p=l(4182),h=l(8601);function y(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"tr",25)(1,"td")(2,"p",20),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"p",20),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"p",20),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"div",26)(12,"a",27),e.NdJ("click",function(){const o=e.CHM(t),i=o.$implicit,r=o.index;return e.oxw().editCustomer(i,r)}),e._UZ(13,"i-feather",28),e.qZA(),e.TgZ(14,"a",27),e.NdJ("click",function(){const o=e.CHM(t),i=o.$implicit,r=o.index;return e.oxw().deleteCustomer(i,r)}),e._UZ(15,"i-feather",29),e.qZA()()()()}if(2&a){const t=s.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.email)}}let A=(()=>{class a{constructor(t,n){this._phonebook=t,this._modal=n,this.customers=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"},this.dateToday=new Date}ngOnInit(){this.getCustomerListing()}getCustomerListing(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._phonebook.customerListing(this.searchParams).subscribe(t=>{this.customers=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to,this.totalCount=t.data.total})}searchCustomers(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getCustomerListing()}changePage(t){this.searchParams.page=t,this.getCustomerListing()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getCustomerListing()}addCustomer(){const t=this._modal.open(C.y,this.modalConfig);t.componentInstance.response.subscribe(n=>{console.log(n),n.success&&this.getCustomerListing(),t.dismiss()})}editCustomer(t,n){const o=this._modal.open(C.y,this.modalConfig);o.componentInstance.cus=Object.assign({},t),o.componentInstance.type="edit",o.componentInstance.response.subscribe(i=>{i.success&&(this.customers[n]=i.data),o.dismiss()})}deleteCustomer(t,n){const o=this._modal.open(_.p,this.modalConfig);o.componentInstance.data=Object.assign({},t),o.componentInstance.type="customer",o.componentInstance.response.subscribe(i=>{i.success&&this.customers.splice(n,1),o.dismiss()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(c.Q),e.Y36(g.FF))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-customers"]],decls:47,vars:11,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","totalPages","total","changePage","ChangePageSize"],[1,"active-row"],[1,"list-icons-talbe","d-flex","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",5),e._uU(9,"Customers"),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"div",7)(15,"a",8),e.NdJ("click",function(){return n.addCustomer()}),e._UZ(16,"i-feather",9),e._uU(17," Add Entry "),e.qZA()()(),e.TgZ(18,"div",10)(19,"div",11)(20,"div",12)(21,"div",13)(22,"input",14),e.NdJ("input",function(){return n.searchCustomers()})("ngModelChange",function(i){return n.searchParams.search=i}),e.qZA(),e._UZ(23,"i-feather",15),e.qZA()()(),e.TgZ(24,"div",16)(25,"div",17)(26,"table",18)(27,"thead",19)(28,"tr")(29,"th")(30,"p",20),e._uU(31,"Name"),e._UZ(32,"i",21),e.qZA()(),e.TgZ(33,"th")(34,"p",20),e._uU(35,"Telephone"),e._UZ(36,"i",21),e.qZA()(),e.TgZ(37,"th")(38,"p",20),e._uU(39,"Email"),e._UZ(40,"i",21),e.qZA()(),e.TgZ(41,"th")(42,"p",20),e._uU(43,"Actions"),e.qZA()()()(),e.TgZ(44,"tbody",22),e.YNc(45,y,16,3,"tr",23),e.qZA()()(),e.TgZ(46,"app-pagination",24),e.NdJ("changePage",function(i){return n.changePage(i)})("ChangePageSize",function(i){return n.ChangePageSize(i)}),e.qZA()()()()()),2&t&&(e.xp6(12),e.hij("Week ",e.xi3(13,8,n.dateToday,"ww"),""),e.xp6(10),e.Q6J("ngModel",n.searchParams.search),e.xp6(23),e.Q6J("ngForOf",n.customers),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("totalPages",n.totalPages)("total",n.totalCount))},directives:[m.u,p.Fj,p.JJ,p.On,d.sg,h.Q],pipes:[d.uU],styles:[""]}),a})();var x=l(1628),T=l(9634);function E(a,s){1&a&&(e.TgZ(0,"h4",9),e._uU(1,"ADD EMPLOYEE"),e.qZA())}function M(a,s){1&a&&(e.TgZ(0,"h4",9),e._uU(1,"UPDATE EMPLOYEE"),e.qZA())}function U(a,s){if(1&a&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function q(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.name=o}),e.qZA()()(),e.TgZ(8,"div",16)(9,"div",12)(10,"div",17)(11,"div",18)(12,"label",13),e._uU(13,"Role"),e.qZA(),e.TgZ(14,"select",19),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.role_id=o}),e.TgZ(15,"option",20),e._uU(16,"Select Role"),e.qZA(),e.YNc(17,U,2,2,"option",21),e.qZA()()()()(),e.TgZ(18,"div",11)(19,"div",12)(20,"label",13),e._uU(21,"Email "),e.qZA(),e.TgZ(22,"input",22),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.email=o}),e.qZA()()(),e.TgZ(23,"div",11)(24,"div",12)(25,"label",13),e._uU(26,"External Contact Number "),e.qZA(),e.TgZ(27,"input",22),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.external_contact=o}),e.qZA()()(),e.TgZ(28,"div",11)(29,"div",12)(30,"label",13),e._uU(31,"Extension Number "),e.qZA(),e.TgZ(32,"input",23),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.extension_number=o}),e.qZA()()(),e.TgZ(33,"div",11)(34,"div",12)(35,"h5",13),e._uU(36,"Mobile numbers for office use only, don\u2019t release mobile numbers to any external party. You could always transfer a call to a mobile, click Transfer > Blind > [Type Number] > Send. This will transfer the call and display the callers number rather than internal number"),e.qZA()()(),e.TgZ(37,"div",11)(38,"div",24)(39,"label",13),e._uU(40,"Mobile Number"),e.TgZ(41,"span",14),e._uU(42,"*"),e.qZA()(),e.TgZ(43,"input",25),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.phone_no=o}),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.newEmployee.name),e.xp6(7),e.Q6J("ngModel",t.newEmployee.role_id),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(5),e.Q6J("ngModel",t.newEmployee.email),e.xp6(5),e.Q6J("ngModel",t.newEmployee.external_contact),e.xp6(5),e.Q6J("ngModel",t.newEmployee.extension_number),e.xp6(11),e.Q6J("ngModel",t.newEmployee.phone_no)}}function S(a,s){if(1&a&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&a){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function w(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Employee Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.name=o}),e.qZA()()(),e.TgZ(8,"div",16)(9,"div",12)(10,"div",17)(11,"div",18)(12,"label",13),e._uU(13,"Role"),e.TgZ(14,"span",14),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"select",19),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.role_id=o}),e.TgZ(17,"option",20),e._uU(18,"Select Role"),e.qZA(),e.YNc(19,S,2,2,"option",21),e.qZA()()()()(),e.TgZ(20,"div",11)(21,"div",12)(22,"label",13),e._uU(23,"Email "),e.qZA(),e.TgZ(24,"input",22),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.email=o}),e.qZA()()(),e.TgZ(25,"div",11)(26,"div",12)(27,"label",13),e._uU(28,"External Contact Number "),e.qZA(),e.TgZ(29,"input",22),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.external_contact=o}),e.qZA()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"label",13),e._uU(33,"Extension Number "),e.qZA(),e.TgZ(34,"input",23),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.extension_number=o}),e.qZA()()(),e.TgZ(35,"div",11)(36,"div",24)(37,"label",13),e._uU(38,"Mobile Number"),e.TgZ(39,"span",14),e._uU(40,"*"),e.qZA()(),e.TgZ(41,"input",25),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.phone_no=o}),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.employee.name),e.xp6(9),e.Q6J("ngModel",t.employee.role_id),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(5),e.Q6J("ngModel",t.employee.email),e.xp6(5),e.Q6J("ngModel",t.employee.external_contact),e.xp6(5),e.Q6J("ngModel",t.employee.extension_number),e.xp6(7),e.Q6J("ngModel",t.employee.phone_no)}}function P(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"a",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().addEmployee()}),e._uU(1,"Save"),e.qZA()}}function J(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"a",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateEmployee()}),e._uU(1,"Update"),e.qZA()}}let b=(()=>{class a{constructor(t,n,o){this._administration=t,this.helper=n,this._phonebook=o,this.type="add",this.response=new e.vpe,this.newEmployee={name:"",role_id:null,email:"",phone_no:"",extension_number:"",external_contact:""},this.roles=[]}ngOnInit(){this.getRoles()}getRoles(){this._administration.rolesListing().subscribe(t=>{this.roles=t.data})}cancel(){this.response.emit({success:!1})}addEmployee(){this._phonebook.addEmployee(this.newEmployee).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}updateEmployee(){"null"==this.employee.role_id&&(this.employee.role_id=null),this._phonebook.updateEmployee(this.employee).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,data:t.data})})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(x.E),e.Y36(T.B),e.Y36(c.Q))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-edit-employee"]],inputs:{type:"type",employee:"employee"},outputs:{response:"response"},decls:14,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-12"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Prince Build",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"col-md-12","add-employee-arrow"],[1,"select-box"],[1,"form-group"],[1,"ctm-input","bg-white",3,"ngModel","ngModelChange"],["value","null","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","email","placeholder","Ex: John@gmail.com",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","email","placeholder","0236 54321",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"input-style"],["type","number","placeholder","0236 54321",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[3,"value"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,E,2,0,"h4",1),e.YNc(2,M,2,0,"h4",1),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,q,44,7,"div",4),e.YNc(7,w,42,7,"div",4),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"a",7),e.NdJ("click",function(){return n.cancel()}),e._uU(11,"Discard"),e.qZA(),e.YNc(12,P,2,0,"a",8),e.YNc(13,J,2,0,"a",8),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(4),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(5),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type))},directives:[d.O5,p.Fj,p.JJ,p.On,p.EJ,p.YN,p.Kr,d.sg,p.wV],styles:[""]}),a})();function k(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"tr",25)(1,"td")(2,"p",20),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"p",20),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"p",20),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"p",20),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"p",20),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"p",20),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"div",26)(21,"a",27),e.NdJ("click",function(){const o=e.CHM(t),i=o.$implicit,r=o.index;return e.oxw().editEmployee(i,r)}),e._UZ(22,"i-feather",28),e.qZA(),e.TgZ(23,"a",27),e.NdJ("click",function(){const o=e.CHM(t),i=o.$implicit,r=o.index;return e.oxw().deleteEmployee(i,r)}),e._UZ(24,"i-feather",29),e.qZA()()()()}if(2&a){const t=s.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.role?t.role.title:"--"),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.extension_number?t.extension_number:"--"),e.xp6(3),e.Oqu(t.external_number?t.external_number:"--"),e.xp6(3),e.Oqu(t.email?t.email:"--")}}let N=(()=>{class a{constructor(t,n){this._phonebook=t,this._modal=n,this.employees=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles add-phone-book-modal"},this.dateToday=new Date}ngOnInit(){this.getEmployees()}getEmployees(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._phonebook.employeesListing(this.searchParams).subscribe(t=>{this.employees=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to,this.totalCount=t.data.total})}searchEmployees(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getEmployees()}changePage(t){this.searchParams.page=t,this.getEmployees()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getEmployees()}addEmployee(){const t=this._modal.open(b,this.modalConfig);t.componentInstance.response.subscribe(n=>{n.success&&this.getEmployees(),t.dismiss()})}editEmployee(t,n){const o=this._modal.open(b,this.modalConfig);o.componentInstance.employee=Object.assign({},t),o.componentInstance.type="edit",o.componentInstance.response.subscribe(i=>{i.success&&(this.employees[n]=i.data),o.dismiss()})}deleteEmployee(t,n){const o=this._modal.open(_.p,this.modalConfig);o.componentInstance.data=Object.assign({},t),o.componentInstance.type="employee",o.componentInstance.response.subscribe(i=>{i.success&&this.employees.splice(n,1),o.dismiss()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(c.Q),e.Y36(g.FF))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-internal-list"]],decls:58,vars:7,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["data-toggle","modal","href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","ngModelChange","input"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","totalPages","total","changePage","ChangePageSize"],[1,"active-row"],[1,"list-icons-talbe","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",5),e._uU(9,"Internal List"),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12,"Week 47"),e.qZA()()(),e.TgZ(13,"div",7)(14,"a",8),e.NdJ("click",function(){return n.addEmployee()}),e._UZ(15,"i-feather",9),e._uU(16," Add Entry "),e.qZA()()(),e.TgZ(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13)(21,"input",14),e.NdJ("ngModelChange",function(i){return n.searchParams.search=i})("input",function(){return n.searchEmployees()}),e.qZA(),e._UZ(22,"i-feather",15),e.qZA()()(),e.TgZ(23,"div",16)(24,"div",17)(25,"table",18)(26,"thead",19)(27,"tr")(28,"th")(29,"p",20),e._uU(30,"Name"),e._UZ(31,"i",21),e.qZA()(),e.TgZ(32,"th")(33,"p",20),e._uU(34,"Role"),e._UZ(35,"i",21),e.qZA()(),e.TgZ(36,"th")(37,"p",20),e._uU(38,"Telephone"),e._UZ(39,"i",21),e.qZA()(),e.TgZ(40,"th")(41,"p",20),e._uU(42,"Extension"),e._UZ(43,"i",21),e.qZA()(),e.TgZ(44,"th")(45,"p",20),e._uU(46,"External Contact "),e._UZ(47,"i",21),e.qZA()(),e.TgZ(48,"th")(49,"p",20),e._uU(50,"Email"),e._UZ(51,"i",21),e.qZA()(),e.TgZ(52,"th")(53,"p",20),e._uU(54,"Actions"),e.qZA()()()(),e.TgZ(55,"tbody",22),e.YNc(56,k,25,6,"tr",23),e.qZA()()(),e.TgZ(57,"app-pagination",24),e.NdJ("changePage",function(i){return n.changePage(i)})("ChangePageSize",function(i){return n.ChangePageSize(i)}),e.qZA()()()()()),2&t&&(e.xp6(21),e.Q6J("ngModel",n.searchParams.search),e.xp6(35),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("totalPages",n.totalPages)("total",n.totalCount))},directives:[m.u,p.Fj,p.JJ,p.On,d.sg,h.Q],styles:[""]}),a})();function I(a,s){1&a&&(e.TgZ(0,"h4",9),e._uU(1,"ADD SUPPLIER"),e.qZA())}function Q(a,s){1&a&&(e.TgZ(0,"h4",9),e._uU(1,"EDIT SUPPLIER"),e.qZA())}function O(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newSupplier.name=o}),e.qZA()()(),e.TgZ(8,"div",11)(9,"div",12)(10,"label",13),e._uU(11,"Phone"),e.TgZ(12,"span",14),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",16),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newSupplier.phone_no=o}),e.qZA()()(),e.TgZ(15,"div",17)(16,"div",12)(17,"label",13),e._uU(18,"Email"),e.TgZ(19,"span",14),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"input",18),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newSupplier.email=o}),e.qZA()()(),e.TgZ(22,"div",17)(23,"div",12)(24,"label",13),e._uU(25,"Address"),e.TgZ(26,"span",14),e._uU(27,"*"),e.qZA()(),e.TgZ(28,"input",19),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newSupplier.address=o}),e.qZA()()(),e.TgZ(29,"div",17)(30,"div",12)(31,"label",13),e._uU(32,"Products"),e.TgZ(33,"span",14),e._uU(34,"*"),e.qZA()(),e.TgZ(35,"input",20),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newSupplier.products=o}),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.newSupplier.name),e.xp6(7),e.Q6J("ngModel",t.newSupplier.phone_no),e.xp6(7),e.Q6J("ngModel",t.newSupplier.email),e.xp6(7),e.Q6J("ngModel",t.newSupplier.address),e.xp6(7),e.Q6J("ngModel",t.newSupplier.products)}}function F(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().supplier.name=o}),e.qZA()()(),e.TgZ(8,"div",11)(9,"div",12)(10,"label",13),e._uU(11,"Phone"),e.TgZ(12,"span",14),e._uU(13,"*"),e.qZA()(),e.TgZ(14,"input",16),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().supplier.phone_no=o}),e.qZA()()(),e.TgZ(15,"div",17)(16,"div",12)(17,"label",13),e._uU(18,"Email"),e.TgZ(19,"span",14),e._uU(20,"*"),e.qZA()(),e.TgZ(21,"input",18),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().supplier.email=o}),e.qZA()()(),e.TgZ(22,"div",17)(23,"div",12)(24,"label",13),e._uU(25,"Address"),e.TgZ(26,"span",14),e._uU(27,"*"),e.qZA()(),e.TgZ(28,"input",19),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().supplier.address=o}),e.qZA()()(),e.TgZ(29,"div",17)(30,"div",12)(31,"label",13),e._uU(32,"Products"),e.TgZ(33,"span",14),e._uU(34,"*"),e.qZA()(),e.TgZ(35,"input",20),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().supplier.products=o}),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.supplier.name),e.xp6(7),e.Q6J("ngModel",t.supplier.phone_no),e.xp6(7),e.Q6J("ngModel",t.supplier.email),e.xp6(7),e.Q6J("ngModel",t.supplier.address),e.xp6(7),e.Q6J("ngModel",t.supplier.products)}}function j(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().addSupplier()}),e._uU(1,"Add"),e.qZA()}}function z(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateSupplier()}),e._uU(1,"Update"),e.qZA()}}let v=(()=>{class a{constructor(t,n){this._phonebook=t,this.helper=n,this.type="add",this.response=new e.vpe,this.newSupplier={name:"",address:"",phone_no:"",email:"",products:""}}ngOnInit(){}addSupplier(){this._phonebook.addSupplier(this.newSupplier).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}updateSupplier(){this._phonebook.updateSupplier(this.supplier).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,data:t.data})})}deleteSupplier(){this._phonebook.deleteSupplier({id:this.supplier.id}).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}cancel(){this.response.emit({success:!1})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(c.Q),e.Y36(T.B))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-add-edit-supplier"]],inputs:{supplier:"supplier",type:"type"},outputs:{response:"response"},decls:14,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-6"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Muhammad",1,"ctm-input",3,"ngModel","ngModelChange"],["type","text","placeholder","01234 567890",1,"ctm-input",3,"ngModel","ngModelChange"],[1,"col-md-12"],["type","email","placeholder","abc@mail.com",1,"ctm-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Address",1,"ctm-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Products",1,"ctm-input",3,"ngModel","ngModelChange"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,I,2,0,"h4",1),e.YNc(2,Q,2,0,"h4",1),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,O,36,5,"div",4),e.YNc(7,F,36,5,"div",4),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"a",7),e.NdJ("click",function(){return n.cancel()}),e._uU(11,"Discard"),e.qZA(),e.YNc(12,j,2,0,"a",8),e.YNc(13,z,2,0,"a",8),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(4),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(5),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type))},directives:[d.O5,p.Fj,p.JJ,p.On],styles:[""]}),a})();function H(a,s){if(1&a){const t=e.EpF();e.TgZ(0,"tr",25)(1,"td")(2,"p",20),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"p",20),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"p",20),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"p",20),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"p",20),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"div",26)(18,"a",27),e.NdJ("click",function(){const o=e.CHM(t),i=o.$implicit,r=o.index;return e.oxw().editSupplier(i,r)}),e._UZ(19,"i-feather",28),e.qZA(),e.TgZ(20,"a",27),e.NdJ("click",function(){const o=e.CHM(t),i=o.$implicit,r=o.index;return e.oxw().deleteSupplier(i,r)}),e._UZ(21,"i-feather",29),e.qZA()()()()}if(2&a){const t=s.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.address),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.email),e.xp6(3),e.Oqu(t.products)}}const Y=[{path:"",redirectTo:"customers"},{path:"customers",component:A},{path:"suppliers",component:(()=>{class a{constructor(t,n){this._phonebook=t,this._modal=n,this.suppliers=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles add-phone-book-modal"},this.dateToday=new Date}ngOnInit(){this.getSuppliers()}getSuppliers(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this._phonebook.supplierListing(this.searchParams).subscribe(t=>{this.suppliers=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to,this.totalCount=t.data.total})}searchSuppliers(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getSuppliers()}changePage(t){this.searchParams.page=t,this.getSuppliers()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getSuppliers()}addSupplier(){const t=this._modal.open(v,this.modalConfig);t.componentInstance.response.subscribe(n=>{n.success&&this.getSuppliers(),t.dismiss()})}editSupplier(t,n){const o=this._modal.open(v,this.modalConfig);o.componentInstance.supplier=Object.assign({},t),o.componentInstance.type="edit",o.componentInstance.response.subscribe(i=>{i.success&&(this.suppliers[n]=i.data),o.dismiss()})}deleteSupplier(t,n){const o=this._modal.open(_.p,this.modalConfig);o.componentInstance.data=Object.assign({},t),o.componentInstance.type="supplier",o.componentInstance.response.subscribe(i=>{i.success&&this.suppliers.splice(n,1),o.dismiss()})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(c.Q),e.Y36(g.FF))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-suppliers"]],decls:55,vars:11,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","totalPages","total","changePage","ChangePageSize"],[1,"active-row"],[1,"list-icons-talbe","d-flex","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",5),e._uU(9,"Suppliers"),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"div",7)(15,"a",8),e.NdJ("click",function(){return n.addSupplier()}),e._UZ(16,"i-feather",9),e._uU(17," Add Entry "),e.qZA()()(),e.TgZ(18,"div",10)(19,"div",11)(20,"div",12)(21,"div",13)(22,"input",14),e.NdJ("input",function(){return n.searchSuppliers()})("ngModelChange",function(i){return n.searchParams.search=i}),e.qZA(),e._UZ(23,"i-feather",15),e.qZA()()(),e.TgZ(24,"div",16)(25,"div",17)(26,"table",18)(27,"thead",19)(28,"tr")(29,"th")(30,"p",20),e._uU(31,"Name"),e._UZ(32,"i",21),e.qZA()(),e.TgZ(33,"th")(34,"p",20),e._uU(35,"Address"),e._UZ(36,"i",21),e.qZA()(),e.TgZ(37,"th")(38,"p",20),e._uU(39,"Telephone"),e._UZ(40,"i",21),e.qZA()(),e.TgZ(41,"th")(42,"p",20),e._uU(43,"Email"),e._UZ(44,"i",21),e.qZA()(),e.TgZ(45,"th")(46,"p",20),e._uU(47,"Products"),e._UZ(48,"i",21),e.qZA()(),e.TgZ(49,"th")(50,"p",20),e._uU(51,"Actions"),e.qZA()()()(),e.TgZ(52,"tbody",22),e.YNc(53,H,22,5,"tr",23),e.qZA()()(),e.TgZ(54,"app-pagination",24),e.NdJ("changePage",function(i){return n.changePage(i)})("ChangePageSize",function(i){return n.ChangePageSize(i)}),e.qZA()()()()()),2&t&&(e.xp6(12),e.hij("Week ",e.xi3(13,8,n.dateToday,"ww"),""),e.xp6(10),e.Q6J("ngModel",n.searchParams.search),e.xp6(31),e.Q6J("ngForOf",n.suppliers),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("totalPages",n.totalPages)("total",n.totalCount))},directives:[m.u,p.Fj,p.JJ,p.On,d.sg,h.Q],pipes:[d.uU],styles:[""]}),a})()},{path:"internal-list",component:N}];let L=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[f.Bz.forChild(Y)],f.Bz]}),a})();var B=l(5530),D=l(9618);let R=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[d.ez,L,D.m,p.u5,m.p.pick(B.kEt)]]}),a})()}}]);