"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[146],{9146:(U,h,c)=>{c.r(h),c.d(h,{AdministrationModule:()=>ee});var p=c(8583),_=c(9763),e=c(3018),u=c(9634),m=c(1628),a=c(665);function Z(s,o){1&s&&(e.TgZ(0,"h4",8),e._uU(1,"ADD ROLE"),e.qZA())}function l(s,o){1&s&&(e.TgZ(0,"h4",8),e._uU(1,"EDIT ROLE"),e.qZA())}function C(s,o){1&s&&(e.TgZ(0,"h4",8),e._uU(1,"DELETE ROLE"),e.qZA())}function q(s,o){if(1&s&&(e.TgZ(0,"p",23),e._uU(1),e.qZA()),2&s){const t=o.$implicit;e.xp6(1),e.Oqu(t.title)}}function x(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"label",25),e.TgZ(2,"input",26),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.action[1]=i}),e.qZA(),e._UZ(3,"span",27),e.qZA(),e.qZA()}if(2&s){const t=o.$implicit;e.xp6(2),e.Q6J("checked",t.action[1])("ngModel",t.action[1])}}function b(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",24),e.TgZ(1,"label",25),e.TgZ(2,"input",26),e.NdJ("ngModelChange",function(i){return e.CHM(t).$implicit.action[2]=i}),e.qZA(),e._UZ(3,"span",27),e.qZA(),e.qZA()}if(2&s){const t=o.$implicit;e.xp6(2),e.Q6J("checked",t.action[2])("ngModel",t.action[2])}}function E(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.TgZ(2,"label",11),e._uU(3,"Name"),e.TgZ(4,"span",12),e._uU(5,"*"),e.qZA(),e.qZA(),e.TgZ(6,"input",13),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().role.title=i}),e.qZA(),e.qZA(),e.TgZ(7,"div",14),e.TgZ(8,"div",15),e.TgZ(9,"p",16),e._uU(10,"Premissions"),e.qZA(),e.YNc(11,q,2,1,"p",17),e.qZA(),e.TgZ(12,"div",18),e.TgZ(13,"div",19),e.TgZ(14,"p",20),e._uU(15,"Read"),e.qZA(),e.YNc(16,x,4,2,"div",21),e.qZA(),e.TgZ(17,"div",22),e.TgZ(18,"p",16),e._uU(19,"Write"),e.qZA(),e.YNc(20,b,4,2,"div",21),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.role.title),e.xp6(5),e.Q6J("ngForOf",t.role.permissions),e.xp6(5),e.Q6J("ngForOf",t.role.permissions),e.xp6(4),e.Q6J("ngForOf",t.role.permissions)}}function y(s,o){1&s&&(e.TgZ(0,"div",9),e.TgZ(1,"h3",28),e._uU(2,"Are you sure you want to delete this role?"),e.qZA(),e.qZA())}function R(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"a",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().add()}),e._uU(1,"Add"),e.qZA()}}function J(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"a",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update"),e.qZA()}}function M(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"a",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().deleteRole()}),e._uU(1,"Confirm"),e.qZA()}}let T=(()=>{class s{constructor(t,n){this.helper=t,this._administration=n,this.response=new e.vpe}ngOnInit(){var t;console.log("Role",this.role.permissions),localStorage.getItem("permissionsList")?(null===(t=this.role)||void 0===t?void 0:t.permissions)||(this.role.permissions=JSON.parse(localStorage.getItem("permissionsList"))):this._administration.getPermissionsList().subscribe(n=>{this.role.permissions=n.data,localStorage.setItem("permissionsList",JSON.stringify(n.data))})}cancel(){this.response.emit({success:!0,data:this.role})}add(){this.validateForm()&&this._administration.addRole(this.role).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit(t)})}deleteRole(){this._administration.deleteRole({id:this.role.id}).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,delete:!0})})}update(){this.validateForm()&&this._administration.updateRole(this.role).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit(t)})}validateForm(){var t;return!!(null===(t=this.role.title)||void 0===t?void 0:t.length)||(this.helper.toastError("Role name is required"),!1)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.B),e.Y36(m.E))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-add-edit-roles"]],inputs:{role:"role",type:"type"},outputs:{response:"response"},decls:15,vars:8,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"modal-body"],[1,"input-style"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Accounts","name","title",1,"ctm-input",3,"ngModel","ngModelChange"],[1,"add-role-new-design"],[1,"permission-feature-column"],[1,"permission"],["class","status-f",4,"ngFor","ngForOf"],[1,"d-flex"],[1,"read-checkbox"],[1,"permission","permission-right"],["class","remember-me",4,"ngFor","ngForOf"],[1,"write-checkbox"],[1,"status-f"],[1,"remember-me"],[1,"custom-check","custom-check-r"],["type","checkbox",3,"checked","ngModel","ngModelChange"],[1,"checkmark"],[1,"text-center"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Z,2,0,"h4",1),e.YNc(2,l,2,0,"h4",1),e.YNc(3,C,2,0,"h4",1),e.TgZ(4,"button",2),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.YNc(6,E,21,4,"div",3),e.YNc(7,y,3,0,"div",3),e.TgZ(8,"div",4),e.TgZ(9,"div",5),e.TgZ(10,"a",6),e.NdJ("click",function(){return n.cancel()}),e._uU(11,"Cancel"),e.qZA(),e.YNc(12,R,2,0,"a",7),e.YNc(13,J,2,0,"a",7),e.YNc(14,M,2,0,"a",7),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(1),e.Q6J("ngIf","delete"==n.type),e.xp6(3),e.Q6J("ngIf","delete"!=n.type),e.xp6(1),e.Q6J("ngIf","delete"==n.type),e.xp6(5),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(1),e.Q6J("ngIf","delete"==n.type))},directives:[p.O5,a.Fj,a.JJ,a.On,p.sg,a.Wl],styles:[""]}),s})();var f=c(1947),A=c(5411);function N(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.TgZ(6,"div",17),e.TgZ(7,"div",18),e.TgZ(8,"i-feather",19),e.NdJ("click",function(){const i=e.CHM(t),r=i.$implicit,d=i.index;return e.oxw().roleAction(r,"edit",d)}),e.qZA(),e.TgZ(9,"i-feather",20),e.NdJ("click",function(){const i=e.CHM(t),r=i.$implicit,d=i.index;return e.oxw().roleAction(r,"delete",d)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=o.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.title)}}let k=(()=>{class s{constructor(t,n,i){this.helper=t,this._administration=n,this._modal=i,this.roles=[],this.search="",this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"}}ngOnInit(){this.getRoles()}getRoles(){this._administration.rolesListing({search:this.search}).subscribe(t=>{this.roles=t.data})}roleAction(t,n,i){const r=this._modal.open(T,this.modalConfig);r.componentInstance.role=Object.assign({},t),r.componentInstance.type=n,r.componentInstance.response.subscribe(d=>{r.close(),this.getRoles()})}addRole(){const t=this._modal.open(T,this.modalConfig);t.componentInstance.role={},t.componentInstance.type="add",t.componentInstance.response.subscribe(n=>{t.close(),this.getRoles()})}searchRole(){(this.search.length>=3||0==this.search.length)&&this.getRoles()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.B),e.Y36(m.E),e.Y36(f.FF))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-roles"]],decls:29,vars:2,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"roles-main"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tables-roles-main"],[1,"table"],[1,"thead-ctm"],[1,"t-body-ctm"],[4,"ngFor","ngForOf"],[1,"select-box"],[1,"input-style","form-group"],["name","edit-3",1,"mr-2",3,"click"],["name","trash",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.TgZ(4,"li",4),e.TgZ(5,"a",5),e._uU(6,"Adminstraion"),e.qZA(),e.qZA(),e.TgZ(7,"li",4),e.TgZ(8,"a",5),e._uU(9,"Roles"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"a",6),e.NdJ("click",function(){return n.addRole()}),e._UZ(11,"i-feather",7),e._uU(12," New Role "),e.qZA(),e.qZA(),e.TgZ(13,"div",8),e.TgZ(14,"div",9),e.TgZ(15,"input",10),e.NdJ("input",function(){return n.searchRole()})("ngModelChange",function(r){return n.search=r}),e.qZA(),e._UZ(16,"i-feather",11),e.qZA(),e.TgZ(17,"div",12),e.TgZ(18,"table",13),e.TgZ(19,"thead",14),e.TgZ(20,"tr"),e.TgZ(21,"th"),e._uU(22,"#"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Role name"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"tbody",15),e.YNc(28,N,10,2,"tr",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(15),e.Q6J("ngModel",n.search),e.xp6(13),e.Q6J("ngForOf",n.roles))},directives:[A.uy,a.Fj,a.JJ,a.On,p.sg],styles:[""]}),s})();function I(s,o){1&s&&(e.TgZ(0,"h4",8),e._uU(1,"ADD USER"),e.qZA())}function F(s,o){1&s&&(e.TgZ(0,"h4",8),e._uU(1,"EDIT USER"),e.qZA())}function O(s,o){1&s&&(e.TgZ(0,"h4",8),e._uU(1,"DELETE USER"),e.qZA())}function w(s,o){1&s&&(e.TgZ(0,"div",10),e.TgZ(1,"label",11),e._uU(2,"Password"),e.TgZ(3,"span",12),e._uU(4,"*"),e.qZA(),e.qZA(),e.TgZ(5,"div",22),e.TgZ(6,"h5"),e._uU(7,"A system generated password will be sent to this user which user can change later."),e.qZA(),e.qZA(),e.qZA())}function P(s,o){if(1&s&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&s){const t=o.$implicit,n=e.oxw(2);e.Q6J("value",t.id)("selected",n.user.role_id==t.id),e.xp6(1),e.Oqu(t.title)}}function Y(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"div",9),e.TgZ(1,"div",10),e.TgZ(2,"label",11),e._uU(3,"Name"),e.TgZ(4,"span",12),e._uU(5,"*"),e.qZA(),e.qZA(),e.TgZ(6,"input",13),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().user.name=i}),e.qZA(),e.qZA(),e.TgZ(7,"div",10),e.TgZ(8,"label",11),e._uU(9,"Email"),e.TgZ(10,"span",12),e._uU(11,"*"),e.qZA(),e.qZA(),e.TgZ(12,"input",14),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().user.email=i}),e.qZA(),e.qZA(),e.YNc(13,w,8,0,"div",15),e.TgZ(14,"div",16),e.TgZ(15,"div",17),e.TgZ(16,"label",11),e._uU(17,"Role"),e.TgZ(18,"span",12),e._uU(19,"*"),e.qZA(),e.qZA(),e.TgZ(20,"div",18),e.TgZ(21,"select",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().user.role_id=i}),e.TgZ(22,"option",20),e._uU(23,"Select Role"),e.qZA(),e.YNc(24,P,2,3,"option",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.user.name),e.xp6(6),e.Q6J("ngModel",t.user.email),e.xp6(1),e.Q6J("ngIf","add"==t.type),e.xp6(8),e.Q6J("ngModel",t.user.role_id),e.xp6(3),e.Q6J("ngForOf",t.roles)}}function Q(s,o){1&s&&(e.TgZ(0,"div",9),e.TgZ(1,"h3",24),e._uU(2,"Are you sure you want to delete this user?"),e.qZA(),e.qZA())}function j(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"a",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().add()}),e._uU(1,"Add"),e.qZA()}}function S(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"a",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1,"Update"),e.qZA()}}function L(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"a",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().deleteUser()}),e._uU(1,"Confirm"),e.qZA()}}let v=(()=>{class s{constructor(t,n){this.helper=t,this._administration=n,this.response=new e.vpe}ngOnInit(){console.log(this.user,this.type,this.roles),this.user.role_id=0}cancel(){this.response.emit({success:!0,data:this.user})}add(){this.validateForm()&&this._administration.addUser(this.user).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit(t)})}deleteUser(){this._administration.deleteUser({id:this.user.id}).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,delete:!0})})}update(){this.validateForm()&&this._administration.updateUser(this.user).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit(t)})}validateForm(){var t,n;return(null===(t=this.user.name)||void 0===t?void 0:t.length)?this.user.name.length<3?(this.helper.toastError("Name must be of atleast 3 characters"),!1):(null===(n=this.user.email)||void 0===n?void 0:n.length)?this.helper.validateEmailAddress(this.user.email)?0!=this.user.role_id||(this.helper.toastError("Role is required"),!1):(this.helper.toastError("Please enter a valid email address"),!1):(this.helper.toastError("Email is required"),!1):(this.helper.toastError("Name is required"),!1)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(u.B),e.Y36(m.E))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-add-edit-user"]],inputs:{user:"user",type:"type",roles:"roles"},outputs:{response:"response"},decls:15,vars:8,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"modal-body"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Muhammad","name","name",1,"ctm-input",3,"ngModel","ngModelChange"],["type","email","placeholder","abc@mail.com","name","email",1,"ctm-input",3,"ngModel","ngModelChange"],["class","input-style mb-2",4,"ngIf"],[1,"select-box"],[1,"input-style","form-group"],[1,"arrow-design"],["placeholder","Change Action",1,"form-control",3,"ngModel","ngModelChange"],["value","0","selected",""],[3,"value","selected",4,"ngFor","ngForOf"],[1,"type-pass"],[3,"value","selected"],[1,"text-center"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,I,2,0,"h4",1),e.YNc(2,F,2,0,"h4",1),e.YNc(3,O,2,0,"h4",1),e.TgZ(4,"button",2),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.YNc(6,Y,25,5,"div",3),e.YNc(7,Q,3,0,"div",3),e.TgZ(8,"div",4),e.TgZ(9,"div",5),e.TgZ(10,"a",6),e.NdJ("click",function(){return n.cancel()}),e._uU(11,"Cancel"),e.qZA(),e.YNc(12,j,2,0,"a",7),e.YNc(13,S,2,0,"a",7),e.YNc(14,L,2,0,"a",7),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(1),e.Q6J("ngIf","delete"==n.type),e.xp6(3),e.Q6J("ngIf","delete"!=n.type),e.xp6(1),e.Q6J("ngIf","delete"==n.type),e.xp6(5),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(1),e.Q6J("ngIf","delete"==n.type))},directives:[p.O5,a.Fj,a.JJ,a.On,a.EJ,a.YN,a.Kr,p.sg],styles:["select.form-control[_ngcontent-%COMP%]{width:100%;padding:2px 5.5rem 2px 2rem;height:5.5rem}.select-box[_ngcontent-%COMP%]   .arrow-design[_ngcontent-%COMP%]{width:100%;height:auto!important}"]}),s})();var $=c(629),H=c(8601);function D(s,o){if(1&s&&(e.TgZ(0,"option",30),e._uU(1),e.qZA()),2&s){const t=o.$implicit,n=e.oxw().$implicit;e.Q6J("value",t.id)("selected",n.role_id==t.id),e.xp6(1),e.Oqu(t.title)}}function z(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"label",31),e.TgZ(1,"input",32),e.NdJ("change",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw(2).updateUserStatus(i)}),e.qZA(),e._UZ(2,"span",33),e.qZA()}if(2&s){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked",t.status)}}function B(s,o){if(1&s){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"div",21),e.TgZ(9,"div",22),e.TgZ(10,"div",23),e.TgZ(11,"select",24),e.NdJ("change",function(i){const r=e.CHM(t),d=r.$implicit,g=r.index;return e.oxw(2).updateRole(d,i,g)}),e.YNc(12,D,2,3,"option",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"div",26),e.YNc(15,z,3,1,"label",27),e.qZA(),e.qZA(),e.TgZ(16,"td"),e.TgZ(17,"div",21),e.TgZ(18,"div",22),e.TgZ(19,"i-feather",28),e.NdJ("click",function(){const i=e.CHM(t),r=i.$implicit,d=i.index;return e.oxw(2).userAction(r,"edit",d)}),e.qZA(),e.TgZ(20,"i-feather",29),e.NdJ("click",function(){const i=e.CHM(t),r=i.$implicit,d=i.index;return e.oxw(2).userAction(r,"delete",d)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&s){const t=o.$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.email),e.xp6(6),e.Q6J("ngForOf",n.roles),e.xp6(3),e.Q6J("ngIf",t.id!=n.currentUser.id)}}function K(s,o){if(1&s&&(e.TgZ(0,"tbody",19),e.YNc(1,B,21,5,"tr",20),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.users)}}const W=[{path:"roles",component:k},{path:"users",component:(()=>{class s{constructor(t,n,i,r){this._administration=t,this.helper=n,this._modal=i,this._auth=r,this.users=[],this.roles=[],this.searchParams={search:"",page_size:10,page:1},this.isLoading=!0,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"},this.currentUser=null,this.currentUser=this._auth.currentUserValue}ngOnInit(){this.getAllUsers(),this.getRoles()}getAllUsers(){this._administration.usersListing(this.searchParams).subscribe(t=>{this.users=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page})}getRoles(){this._administration.rolesListing().subscribe(t=>{this.roles=t.data,this.isLoading=!1})}updateRole(t,n,i){console.log(t,n.target.value),this._administration.updateUser({role_id:n.target.value,id:t.id,name:t.name}).subscribe(d=>{this.users[i]=d.data,this.helper.toastSuccess(d.message)})}userAction(t,n,i){const r=this._modal.open(v,this.modalConfig);r.componentInstance.user=Object.assign({},t),r.componentInstance.type=n,r.componentInstance.roles=this.roles,r.componentInstance.response.subscribe(d=>{console.log(d),r.close(),d.delete?this.users.splice(i,1):this.users[i]=d.data})}updateUserStatus(t){t.status=!t.status,this._administration.updateUser(t).subscribe(n=>{t.status=n.data.status})}addUser(){const t=this._modal.open(v,this.modalConfig);t.componentInstance.user={},t.componentInstance.type="add",t.componentInstance.roles=this.roles,t.componentInstance.response.subscribe(n=>{t.close(),this.getAllUsers()})}searchUser(){(this.searchParams.search.length>=3||0==this.searchParams.search.length)&&this.getAllUsers()}changePage(t){this.searchParams.page=t,this.getAllUsers()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getAllUsers()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(m.E),e.Y36(u.B),e.Y36(f.FF),e.Y36($.e))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-users"]],decls:41,vars:4,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"roles-main"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tables-roles-main","tables-users-main"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["class","t-body-ctm",4,"ngIf"],[3,"pageSize","totalPages","changePage","ChangePageSize"],[1,"t-body-ctm"],[4,"ngFor","ngForOf"],[1,"select-box","d-flex","justify-content-center"],[1,"input-style","form-group"],[1,"arrow-design"],[1,"form-control",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"inner-cell","custom-box","d-flex","justify-content-center"],["class","switch",4,"ngIf"],["name","edit-3",1,"mr-2",3,"click"],["name","trash",3,"click"],[3,"value","selected"],[1,"switch"],["type","checkbox",3,"checked","change"],[1,"slider","round"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.TgZ(4,"li",4),e.TgZ(5,"a",5),e._uU(6,"Adminstraion"),e.qZA(),e.qZA(),e.TgZ(7,"li",4),e.TgZ(8,"a",6),e._uU(9,"Users List"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"a",7),e.NdJ("click",function(){return n.addUser()}),e._UZ(11,"i-feather",8),e._uU(12," New User "),e.qZA(),e.qZA(),e.TgZ(13,"div",9),e.TgZ(14,"div",10),e.TgZ(15,"input",11),e.NdJ("input",function(){return n.searchUser()})("ngModelChange",function(r){return n.searchParams.search=r}),e.qZA(),e._UZ(16,"i-feather",12),e.qZA(),e.TgZ(17,"div",13),e.TgZ(18,"table",14),e.TgZ(19,"thead",15),e.TgZ(20,"tr"),e.TgZ(21,"th"),e.TgZ(22,"p",16),e._uU(23,"#"),e.qZA(),e.qZA(),e.TgZ(24,"th"),e.TgZ(25,"p",16),e._uU(26,"Name"),e.qZA(),e.qZA(),e.TgZ(27,"th"),e.TgZ(28,"p",16),e._uU(29,"Email"),e.qZA(),e.qZA(),e.TgZ(30,"th"),e.TgZ(31,"p",16),e._uU(32,"Role"),e.qZA(),e.qZA(),e.TgZ(33,"th"),e.TgZ(34,"p",16),e._uU(35,"Status"),e.qZA(),e.qZA(),e.TgZ(36,"th"),e.TgZ(37,"p",16),e._uU(38,"Action"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(39,K,2,1,"tbody",17),e.qZA(),e.qZA(),e.TgZ(40,"app-pagination",18),e.NdJ("changePage",function(r){return n.changePage(r)})("ChangePageSize",function(r){return n.ChangePageSize(r)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(15),e.Q6J("ngModel",n.searchParams.search),e.xp6(24),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("pageSize",n.searchParams.page_size)("totalPages",n.totalPages))},directives:[A.uy,a.Fj,a.JJ,a.On,p.O5,H.Q,p.sg,a.YN,a.Kr],styles:[".table{table-layout:fixed;word-wrap:break-word}.disabled{cursor:not-allowed;opacity:.8}\n"],encapsulation:2}),s})()}];let X=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[_.Bz.forChild(W)],_.Bz]}),s})();var G=c(940),V=c(9618);let ee=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[p.ez,a.u5,f.IJ,X,V.m,A.p1.pick(G.kEt)]]}),s})()},1628:(U,h,c)=>{c.d(h,{E:()=>m});var p=c(2340),_=c(4312),e=c(3018),u=c(1841);let m=(()=>{class a{constructor(l){this.http=l}usersListing(l={}){return this.http.post(`${p.N.apiUrl+_.j.getUsersList}`,l)}addUser(l={}){return this.http.post(`${p.N.apiUrl+_.j.addUser}`,l)}deleteUser(l={}){return this.http.post(`${p.N.apiUrl+_.j.deleteUser}`,l)}updateUser(l={}){return this.http.post(`${p.N.apiUrl+_.j.updateUser}`,l)}rolesListing(l={}){return this.http.post(`${p.N.apiUrl+_.j.getRolesList}`,l)}addRole(l={}){return this.http.post(`${p.N.apiUrl+_.j.addRole}`,l)}deleteRole(l={}){return this.http.post(`${p.N.apiUrl+_.j.deleteRole}`,l)}updateRole(l={}){return this.http.post(`${p.N.apiUrl+_.j.updateRole}`,l)}getPermissionsList(){return this.http.get(`${p.N.apiUrl+_.j.getPermissionsList}`)}}return a.\u0275fac=function(l){return new(l||a)(e.LFG(u.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);