"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[765],{8601:(b,Z,p)=>{p.d(Z,{Q:()=>u});var a=p(6435),c=p(4182),_=p(9808);function f(m,r){if(1&m&&(a.TgZ(0,"div",20)(1,"h4"),a._uU(2),a.qZA()()),2&m){const g=a.oxw();a.xp6(2),a.lnq("Showing ",g.from," - ",g.to," of ",g.total,"")}}const e=function(m){return{disabled:m}};let u=(()=>{class m{constructor(){this.totalPages=1,this.currentPage=1,this.pageSize=10,this.from=1,this.to=10,this.total=10,this.changePage=new a.vpe,this.ChangePageSize=new a.vpe}ngOnInit(){}nextPage(){this.currentPage!=this.totalPages&&(this.currentPage++,this.changePage.emit(this.currentPage))}prevPage(){1!=this.currentPage&&(this.currentPage--,this.changePage.emit(this.currentPage))}pageSizeUpdate(g){this.pageSize=g.target.value,this.ChangePageSize.emit(this.pageSize)}}return m.\u0275fac=function(g){return new(g||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-pagination"]],inputs:{totalPages:"totalPages",currentPage:"currentPage",pageSize:"pageSize",from:"from",to:"to",total:"total"},outputs:{changePage:"changePage",ChangePageSize:"ChangePageSize"},decls:29,vars:9,consts:[[1,"d-flex","align-items-center","justify-content-end","mr-2","mt-2","pagination"],[1,"d-flex","rows-per"],[1,"row-heading"],[1,"select-box"],[1,"arrow-design"],[1,"form-control","bulk-select-status",3,"ngModel","ngModelChange","change"],["value","5"],["value","10"],["value","20"],["value","30"],["value","50"],["class","d-flex align-items-center mr-3 justify-content-center",4,"ngIf"],[1,"pagination-ctm","d-inline-block"],[1,"item"],["href","javascript:void(0)",1,"page-arow-l",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-angle-left"],[1,"my-pagination","d-inline-block"],["href","javascript:void(0)",1,"link"],["href","javascript:void(0)","role","button",1,"page-arow-l",3,"ngClass","click"],["aria-hidden","true",1,"fa","fa-angle-right"],[1,"d-flex","align-items-center","mr-3","justify-content-center"]],template:function(g,d){1&g&&(a.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),a._uU(3,"Rows per page:"),a.qZA(),a.TgZ(4,"div",3)(5,"div",4)(6,"select",5),a.NdJ("ngModelChange",function(v){return d.pageSize=v})("change",function(v){return d.pageSizeUpdate(v)}),a.TgZ(7,"option",6),a._uU(8,"5"),a.qZA(),a.TgZ(9,"option",7),a._uU(10,"10"),a.qZA(),a.TgZ(11,"option",8),a._uU(12,"20"),a.qZA(),a.TgZ(13,"option",9),a._uU(14,"30"),a.qZA(),a.TgZ(15,"option",10),a._uU(16,"50"),a.qZA()()()()(),a.YNc(17,f,3,3,"div",11),a.TgZ(18,"div",12)(19,"li",13)(20,"a",14),a.NdJ("click",function(){return d.prevPage()}),a._UZ(21,"i",15),a.qZA()(),a.TgZ(22,"ul",16)(23,"li",13)(24,"a",17),a._uU(25),a.qZA()()(),a.TgZ(26,"li",13)(27,"a",18),a.NdJ("click",function(){return d.nextPage()}),a._UZ(28,"i",19),a.qZA()()()()),2&g&&(a.xp6(6),a.Q6J("ngModel",d.pageSize),a.xp6(11),a.Q6J("ngIf",d.from),a.xp6(3),a.Q6J("ngClass",a.VKq(5,e,1==d.currentPage)),a.xp6(5),a.Oqu(d.currentPage),a.xp6(2),a.Q6J("ngClass",a.VKq(7,e,d.currentPage==d.totalPages)))},directives:[c.EJ,c.JJ,c.On,c.YN,c.Kr,_.O5,_.mk],styles:[".pagination[_ngcontent-%COMP%]   .select-box[_ngcontent-%COMP%]   .arrow-design[_ngcontent-%COMP%]{width:auto}.pagination[_ngcontent-%COMP%]   .row-heading[_ngcontent-%COMP%]{white-space:nowrap}.disabled[_ngcontent-%COMP%]:hover{opacity:.7;cursor:not-allowed;background:#14274E1A;color:#656565}"]}),m})()},5710:(b,Z,p)=>{p.r(Z),p.d(Z,{PhonebookModule:()=>V});var a=p(9808),c=p(6798),_=p(9330),f=p(5860),e=p(6435),u=p(2027),m=p(1136),r=p(629),g=p(6783),d=p(4182),C=p(8601);function v(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCustomer()}),e._UZ(1,"i-feather",26),e._uU(2," Add Entry "),e.qZA()}}function A(i,l){1&i&&(e.TgZ(0,"th")(1,"p",19),e._uU(2,"Actions"),e.qZA()())}function E(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"div",28)(2,"a",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),s=o.$implicit,h=o.index;return e.oxw().editCustomer(s,h)}),e._UZ(3,"i-feather",30),e.qZA(),e.TgZ(4,"a",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),s=o.$implicit,h=o.index;return e.oxw().deleteCustomer(s,h)}),e._UZ(5,"i-feather",31),e.qZA()()()}}function x(i,l){if(1&i&&(e.TgZ(0,"tr",27)(1,"td")(2,"p",19),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"p",19),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"p",19),e._uU(9),e.qZA()(),e.YNc(10,E,6,0,"td",21),e.qZA()),2&i){const t=l.$implicit,n=e.oxw();e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.email),e.xp6(1),e.Q6J("ngIf",n._auth.checkPermissions("phonebook","write"))}}let U=(()=>{class i{constructor(t,n,o){this._phonebook=t,this._modal=n,this._auth=o,this.customers=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"},this.dateToday=new Date}ngOnInit(){this.getCustomerListing()}getCustomerListing(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._phonebook.customerListing(this.searchParams).subscribe(t=>{this.customers=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to,this.totalCount=t.data.total})}searchCustomers(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&(this.searchParams.page=1,this.getCustomerListing())}changePage(t){this.searchParams.page=t,this.getCustomerListing()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getCustomerListing()}addCustomer(){const t=this._modal.open(_.y,this.modalConfig);t.componentInstance.response.subscribe(n=>{console.log(n),n.success&&this.getCustomerListing(),t.dismiss()})}editCustomer(t,n){const o=this._modal.open(_.y,this.modalConfig);o.componentInstance.cus=Object.assign({},t),o.componentInstance.type="edit",o.componentInstance.response.subscribe(s=>{s.success&&(this.customers[n]=s.data),o.dismiss()})}deleteCustomer(t,n){const o=this._modal.open(f.p,this.modalConfig);o.componentInstance.data=Object.assign({},t),o.componentInstance.type="customer",o.componentInstance.response.subscribe(s=>{s.success&&this.customers.splice(n,1),o.dismiss()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.Q),e.Y36(m.FF),e.Y36(r.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-customers"]],decls:43,vars:14,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["class","secondary-sup","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[4,"ngIf"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","currentPage","totalPages","total","changePage","ChangePageSize"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"active-row"],[1,"list-icons-talbe","d-flex","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",5),e._uU(9,"Customers"),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"div",7),e.YNc(15,v,3,0,"a",8),e.qZA()(),e.TgZ(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"input",13),e.NdJ("input",function(){return n.searchCustomers()})("ngModelChange",function(s){return n.searchParams.search=s}),e.qZA(),e._UZ(21,"i-feather",14),e.qZA()()(),e.TgZ(22,"div",15)(23,"div",16)(24,"table",17)(25,"thead",18)(26,"tr")(27,"th")(28,"p",19),e._uU(29,"Name"),e._UZ(30,"i",20),e.qZA()(),e.TgZ(31,"th")(32,"p",19),e._uU(33,"Telephone"),e._UZ(34,"i",20),e.qZA()(),e.TgZ(35,"th")(36,"p",19),e._uU(37,"Email"),e._UZ(38,"i",20),e.qZA()(),e.YNc(39,A,3,0,"th",21),e.qZA()(),e.TgZ(40,"tbody",22),e.YNc(41,x,11,4,"tr",23),e.qZA()()(),e.TgZ(42,"app-pagination",24),e.NdJ("changePage",function(s){return n.changePage(s)})("ChangePageSize",function(s){return n.ChangePageSize(s)}),e.qZA()()()()()),2&t&&(e.xp6(12),e.hij("Week ",e.xi3(13,11,n.dateToday,"ww"),""),e.xp6(3),e.Q6J("ngIf",n._auth.checkPermissions("phonebook","write")),e.xp6(5),e.Q6J("ngModel",n.searchParams.search),e.xp6(19),e.Q6J("ngIf",n._auth.checkPermissions("phonebook","write")),e.xp6(2),e.Q6J("ngForOf",n.customers),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("currentPage",n.searchParams.page)("totalPages",n.totalPages)("total",n.totalCount))},directives:[a.O5,g.u,d.Fj,d.JJ,d.On,a.sg,C.Q],pipes:[a.uU],styles:[""]}),i})();var M=p(1628),N=p(9634);function q(i,l){1&i&&(e.TgZ(0,"h4",9),e._uU(1,"ADD EMPLOYEE"),e.qZA())}function w(i,l){1&i&&(e.TgZ(0,"h4",9),e._uU(1,"UPDATE EMPLOYEE"),e.qZA())}function k(i,l){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function J(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.name=o}),e.qZA()()(),e.TgZ(8,"div",16)(9,"div",12)(10,"div",17)(11,"div",18)(12,"label",13),e._uU(13,"Role"),e.qZA(),e.TgZ(14,"select",19),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.role_id=o}),e.TgZ(15,"option",20),e._uU(16,"Select Role"),e.qZA(),e.YNc(17,k,2,2,"option",21),e.qZA()()()()(),e.TgZ(18,"div",11)(19,"div",12)(20,"label",13),e._uU(21,"Email "),e.qZA(),e.TgZ(22,"input",22),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.email=o}),e.qZA()()(),e.TgZ(23,"div",11)(24,"div",12)(25,"label",13),e._uU(26,"External Contact Number "),e.qZA(),e.TgZ(27,"input",22),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.external_contact=o}),e.qZA()()(),e.TgZ(28,"div",11)(29,"div",12)(30,"label",13),e._uU(31,"Extension Number "),e.qZA(),e.TgZ(32,"input",23),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.extension_number=o}),e.qZA()()(),e.TgZ(33,"div",11)(34,"div",12)(35,"h5",13),e._uU(36,"Mobile numbers for office use only, don\u2019t release mobile numbers to any external party. You could always transfer a call to a mobile, click Transfer > Blind > [Type Number] > Send. This will transfer the call and display the callers number rather than internal number"),e.qZA()()(),e.TgZ(37,"div",11)(38,"div",24)(39,"label",13),e._uU(40,"Mobile Number"),e.qZA(),e.TgZ(41,"input",25),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().newEmployee.phone_no=o}),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.newEmployee.name),e.xp6(7),e.Q6J("ngModel",t.newEmployee.role_id),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(5),e.Q6J("ngModel",t.newEmployee.email),e.xp6(5),e.Q6J("ngModel",t.newEmployee.external_contact),e.xp6(5),e.Q6J("ngModel",t.newEmployee.extension_number),e.xp6(9),e.Q6J("ngModel",t.newEmployee.phone_no)}}function S(i,l){if(1&i&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function O(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Employee Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.name=o}),e.qZA()()(),e.TgZ(8,"div",16)(9,"div",12)(10,"div",17)(11,"div",18)(12,"label",13),e._uU(13,"Role"),e.TgZ(14,"span",14),e._uU(15,"*"),e.qZA()(),e.TgZ(16,"select",19),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.role_id=o}),e.TgZ(17,"option",20),e._uU(18,"Select Role"),e.qZA(),e.YNc(19,S,2,2,"option",21),e.qZA()()()()(),e.TgZ(20,"div",11)(21,"div",12)(22,"label",13),e._uU(23,"Email "),e.qZA(),e.TgZ(24,"input",22),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.email=o}),e.qZA()()(),e.TgZ(25,"div",11)(26,"div",12)(27,"label",13),e._uU(28,"External Contact Number "),e.qZA(),e.TgZ(29,"input",22),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.external_contact=o}),e.qZA()()(),e.TgZ(30,"div",11)(31,"div",12)(32,"label",13),e._uU(33,"Extension Number "),e.qZA(),e.TgZ(34,"input",23),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.extension_number=o}),e.qZA()()(),e.TgZ(35,"div",11)(36,"div",24)(37,"label",13),e._uU(38,"Mobile Number"),e.qZA(),e.TgZ(39,"input",25),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().employee.phone_no=o}),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.employee.name),e.xp6(9),e.Q6J("ngModel",t.employee.role_id),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(5),e.Q6J("ngModel",t.employee.email),e.xp6(5),e.Q6J("ngModel",t.employee.external_contact),e.xp6(5),e.Q6J("ngModel",t.employee.extension_number),e.xp6(5),e.Q6J("ngModel",t.employee.phone_no)}}function I(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().addEmployee()}),e._uU(1,"Save"),e.qZA()}}function j(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateEmployee()}),e._uU(1,"Update"),e.qZA()}}let y=(()=>{class i{constructor(t,n,o){this._administration=t,this.helper=n,this._phonebook=o,this.type="add",this.response=new e.vpe,this.newEmployee={name:"",role_id:null,email:"",phone_no:"",extension_number:"",external_contact:""},this.roles=[]}ngOnInit(){this.getRoles()}getRoles(){this._administration.rolesListing().subscribe(t=>{this.roles=t.data})}cancel(){this.response.emit({success:!1})}addEmployee(){this._phonebook.addEmployee(this.newEmployee).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}updateEmployee(){"null"==this.employee.role_id&&(this.employee.role_id=null),this._phonebook.updateEmployee(this.employee).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,data:t.data})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(M.E),e.Y36(N.B),e.Y36(u.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-employee"]],inputs:{type:"type",employee:"employee"},outputs:{response:"response"},decls:14,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-12"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Prince Build",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"col-md-12","add-employee-arrow"],[1,"select-box"],[1,"form-group"],[1,"ctm-input","bg-white",3,"ngModel","ngModelChange"],["value","null","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","email","placeholder","Ex: John@gmail.com",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","email","placeholder","0236 54321",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"input-style"],["type","number","placeholder","0236 54321",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[3,"value"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,q,2,0,"h4",1),e.YNc(2,w,2,0,"h4",1),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,J,42,7,"div",4),e.YNc(7,O,40,7,"div",4),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"a",7),e.NdJ("click",function(){return n.cancel()}),e._uU(11,"Discard"),e.qZA(),e.YNc(12,I,2,0,"a",8),e.YNc(13,j,2,0,"a",8),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(4),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(5),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type))},directives:[a.O5,d.Fj,d.JJ,d.On,d.EJ,d.YN,d.Kr,a.sg,d.wV],styles:[""]}),i})();function F(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().addEmployee()}),e._UZ(1,"i-feather",26),e._uU(2," Add Entry "),e.qZA()}}function Q(i,l){1&i&&(e.TgZ(0,"th")(1,"p",19),e._uU(2,"Actions"),e.qZA()())}function z(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"div",28)(2,"a",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),s=o.$implicit,h=o.index;return e.oxw().editEmployee(s,h)}),e._UZ(3,"i-feather",30),e.qZA(),e.TgZ(4,"a",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),s=o.$implicit,h=o.index;return e.oxw().deleteEmployee(s,h)}),e._UZ(5,"i-feather",31),e.qZA()()()}}function L(i,l){if(1&i&&(e.TgZ(0,"tr",27)(1,"td")(2,"p",19),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"p",19),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"p",19),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"p",19),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"p",19),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"p",19),e._uU(18),e.qZA()(),e.YNc(19,z,6,0,"td",21),e.qZA()),2&i){const t=l.$implicit,n=e.oxw();e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.role?t.role.title:"--"),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.extension_number?t.extension_number:"--"),e.xp6(3),e.Oqu(t.external_number?t.external_number:"--"),e.xp6(3),e.Oqu(t.email?t.email:"--"),e.xp6(1),e.Q6J("ngIf",n._auth.checkPermissions("phonebook","write"))}}let Y=(()=>{class i{constructor(t,n,o){this._phonebook=t,this._modal=n,this._auth=o,this.employees=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles add-phone-book-modal"},this.dateToday=new Date}ngOnInit(){this.getEmployees()}getEmployees(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._phonebook.employeesListing(this.searchParams).subscribe(t=>{this.employees=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to,this.totalCount=t.data.total})}searchEmployees(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&(this.searchParams.page=1,this.getEmployees())}changePage(t){this.searchParams.page=t,this.getEmployees()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getEmployees()}addEmployee(){const t=this._modal.open(y,this.modalConfig);t.componentInstance.response.subscribe(n=>{n.success&&this.getEmployees(),t.dismiss()})}editEmployee(t,n){const o=this._modal.open(y,this.modalConfig);o.componentInstance.employee=Object.assign({},t),o.componentInstance.type="edit",o.componentInstance.response.subscribe(s=>{s.success&&(this.employees[n]=s.data),o.dismiss()})}deleteEmployee(t,n){const o=this._modal.open(f.p,this.modalConfig);o.componentInstance.data=Object.assign({},t),o.componentInstance.type="employee",o.componentInstance.response.subscribe(s=>{s.success&&this.employees.splice(n,1),o.dismiss()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.Q),e.Y36(m.FF),e.Y36(r.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-internal-list"]],decls:54,vars:10,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["class","secondary-sup","data-toggle","modal","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","ngModelChange","input"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[4,"ngIf"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","currentPage","totalPages","total","changePage","ChangePageSize"],["data-toggle","modal","href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"active-row"],[1,"list-icons-talbe","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",5),e._uU(9,"Internal List"),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12,"Week 47"),e.qZA()()(),e.TgZ(13,"div",7),e.YNc(14,F,3,0,"a",8),e.qZA()(),e.TgZ(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"input",13),e.NdJ("ngModelChange",function(s){return n.searchParams.search=s})("input",function(){return n.searchEmployees()}),e.qZA(),e._UZ(20,"i-feather",14),e.qZA()()(),e.TgZ(21,"div",15)(22,"div",16)(23,"table",17)(24,"thead",18)(25,"tr")(26,"th")(27,"p",19),e._uU(28,"Name"),e._UZ(29,"i",20),e.qZA()(),e.TgZ(30,"th")(31,"p",19),e._uU(32,"Role"),e._UZ(33,"i",20),e.qZA()(),e.TgZ(34,"th")(35,"p",19),e._uU(36,"Telephone"),e._UZ(37,"i",20),e.qZA()(),e.TgZ(38,"th")(39,"p",19),e._uU(40,"Extension"),e._UZ(41,"i",20),e.qZA()(),e.TgZ(42,"th")(43,"p",19),e._uU(44,"External Contact "),e._UZ(45,"i",20),e.qZA()(),e.TgZ(46,"th")(47,"p",19),e._uU(48,"Email"),e._UZ(49,"i",20),e.qZA()(),e.YNc(50,Q,3,0,"th",21),e.qZA()(),e.TgZ(51,"tbody",22),e.YNc(52,L,20,7,"tr",23),e.qZA()()(),e.TgZ(53,"app-pagination",24),e.NdJ("changePage",function(s){return n.changePage(s)})("ChangePageSize",function(s){return n.ChangePageSize(s)}),e.qZA()()()()()),2&t&&(e.xp6(14),e.Q6J("ngIf",n._auth.checkPermissions("phonebook","write")),e.xp6(5),e.Q6J("ngModel",n.searchParams.search),e.xp6(31),e.Q6J("ngIf",n._auth.checkPermissions("phonebook","write")),e.xp6(2),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("currentPage",n.searchParams.page)("totalPages",n.totalPages)("total",n.totalCount))},directives:[a.O5,g.u,d.Fj,d.JJ,d.On,a.sg,C.Q],styles:[""]}),i})();var P=p(8646);function D(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"a",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().addSupplier()}),e._UZ(1,"i-feather",26),e._uU(2," Add Entry "),e.qZA()}}function $(i,l){1&i&&(e.TgZ(0,"th")(1,"p",19),e._uU(2,"Actions"),e.qZA()())}function H(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"div",28)(2,"a",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),s=o.$implicit,h=o.index;return e.oxw().editSupplier(s,h)}),e._UZ(3,"i-feather",30),e.qZA(),e.TgZ(4,"a",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),s=o.$implicit,h=o.index;return e.oxw().deleteSupplier(s,h)}),e._UZ(5,"i-feather",31),e.qZA()()()}}function R(i,l){if(1&i&&(e.TgZ(0,"tr",27)(1,"td")(2,"p",19),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"p",19),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"p",19),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"p",19),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"p",19),e._uU(15),e.qZA()(),e.YNc(16,H,6,0,"td",21),e.qZA()),2&i){const t=l.$implicit,n=e.oxw();e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.address),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.email),e.xp6(3),e.Oqu(t.products),e.xp6(1),e.Q6J("ngIf",n._auth.checkPermissions("phonebook","write"))}}const B=[{path:"",redirectTo:"customers"},{path:"customers",component:U},{path:"suppliers",component:(()=>{class i{constructor(t,n,o){this._phonebook=t,this._modal=n,this._auth=o,this.suppliers=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.totalCount=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles add-phone-book-modal"},this.dateToday=new Date}ngOnInit(){this.getSuppliers()}getSuppliers(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this._phonebook.supplierListing(this.searchParams).subscribe(t=>{this.suppliers=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to,this.totalCount=t.data.total})}searchSuppliers(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&(this.searchParams.page=1,this.getSuppliers())}changePage(t){this.searchParams.page=t,this.getSuppliers()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getSuppliers()}addSupplier(){const t=this._modal.open(P.A,this.modalConfig);t.componentInstance.response.subscribe(n=>{n.success&&this.getSuppliers(),t.dismiss()})}editSupplier(t,n){const o=this._modal.open(P.A,this.modalConfig);o.componentInstance.supplier=Object.assign({},t),o.componentInstance.type="edit",o.componentInstance.response.subscribe(s=>{s.success&&(this.suppliers[n]=s.data),o.dismiss()})}deleteSupplier(t,n){const o=this._modal.open(f.p,this.modalConfig);o.componentInstance.data=Object.assign({},t),o.componentInstance.type="supplier",o.componentInstance.response.subscribe(s=>{s.success&&this.suppliers.splice(n,1),o.dismiss()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(u.Q),e.Y36(m.FF),e.Y36(r.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-suppliers"]],decls:51,vars:14,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["class","secondary-sup","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[4,"ngIf"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","currentPage","totalPages","total","changePage","ChangePageSize"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"active-row"],[1,"list-icons-talbe","d-flex","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA()(),e.TgZ(7,"li",4)(8,"a",5),e._uU(9,"Suppliers"),e.qZA()(),e.TgZ(10,"li",4)(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"div",7),e.YNc(15,D,3,0,"a",8),e.qZA()(),e.TgZ(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"input",13),e.NdJ("input",function(){return n.searchSuppliers()})("ngModelChange",function(s){return n.searchParams.search=s}),e.qZA(),e._UZ(21,"i-feather",14),e.qZA()()(),e.TgZ(22,"div",15)(23,"div",16)(24,"table",17)(25,"thead",18)(26,"tr")(27,"th")(28,"p",19),e._uU(29,"Name"),e._UZ(30,"i",20),e.qZA()(),e.TgZ(31,"th")(32,"p",19),e._uU(33,"Address"),e._UZ(34,"i",20),e.qZA()(),e.TgZ(35,"th")(36,"p",19),e._uU(37,"Telephone"),e._UZ(38,"i",20),e.qZA()(),e.TgZ(39,"th")(40,"p",19),e._uU(41,"Email"),e._UZ(42,"i",20),e.qZA()(),e.TgZ(43,"th")(44,"p",19),e._uU(45,"Products"),e._UZ(46,"i",20),e.qZA()(),e.YNc(47,$,3,0,"th",21),e.qZA()(),e.TgZ(48,"tbody",22),e.YNc(49,R,17,6,"tr",23),e.qZA()()(),e.TgZ(50,"app-pagination",24),e.NdJ("changePage",function(s){return n.changePage(s)})("ChangePageSize",function(s){return n.ChangePageSize(s)}),e.qZA()()()()()),2&t&&(e.xp6(12),e.hij("Week ",e.xi3(13,11,n.dateToday,"ww"),""),e.xp6(3),e.Q6J("ngIf",n._auth.checkPermissions("phonebook","write")),e.xp6(5),e.Q6J("ngModel",n.searchParams.search),e.xp6(27),e.Q6J("ngIf",n._auth.checkPermissions("phonebook","write")),e.xp6(2),e.Q6J("ngForOf",n.suppliers),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("currentPage",n.searchParams.page)("totalPages",n.totalPages)("total",n.totalCount))},directives:[a.O5,g.u,d.Fj,d.JJ,d.On,a.sg,C.Q],pipes:[a.uU],styles:[""]}),i})()},{path:"internal-list",component:Y}];let W=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[c.Bz.forChild(B)],c.Bz]}),i})();var K=p(5530),X=p(9618);let V=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[a.ez,W,X.m,d.u5,g.p.pick(K.kEt)]]}),i})()},9618:(b,Z,p)=>{p.d(Z,{m:()=>f});var a=p(9808),c=p(4182),_=p(6435);let f=(()=>{class e{}return e.\u0275fac=function(m){return new(m||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({imports:[[a.ez,c.u5]]}),e})()},1702:(b,Z,p)=>{p.d(Z,{W:()=>e});var a=p(2340),c=p(4312),_=p(6435),f=p(520);let e=(()=>{class u{constructor(r){this.http=r}rodListing(r={}){return this.http.post(`${a.N.apiUrl+c.j.rodListing}`,r)}productsListing(r={}){return this.http.post(`${a.N.apiUrl+c.j.productListing}`,r)}storeWorkOrder(r={}){return this.http.post(`${a.N.apiUrl+c.j.storeWorkOrder}`,r)}getWorkOrder(r={}){return this.http.post(`${a.N.apiUrl+c.j.getWorkOrder}`,r)}getCustomerNumberOrders(r={}){return this.http.post(`${a.N.apiUrl+c.j.getCustomerOrders}`,r)}updateInvoiceNo(r={}){return this.http.post(`${a.N.apiUrl+c.j.updateInvoiceNo}`,r)}updateWorkOrder(r={}){return this.http.post(`${a.N.apiUrl+c.j.updateWorkOrder}`,r)}getJobNotes(r={}){return this.http.post(`${a.N.apiUrl+c.j.getJobNotes}`,r)}getTimeline(r={}){return this.http.post(`${a.N.apiUrl+c.j.getJobNotes}`,r)}addJobNote(r={}){return this.http.post(`${a.N.apiUrl+c.j.addJobNote}`,r)}deleteJobNote(r={}){return this.http.post(`${a.N.apiUrl+c.j.deleteJobNote}`,r)}getTicketNo(r={}){return this.http.get(`${a.N.apiUrl+c.j.getTicketNo}`)}addDevliveryNote(r={}){return this.http.post(`${a.N.apiUrl+c.j.addDeliveryNote}`,r)}updateDeliveryNote(r={}){return this.http.post(`${a.N.apiUrl+c.j.updateDeliveryNote}`,r)}getDeliveryNotes(r={}){return this.http.post(`${a.N.apiUrl+c.j.getDeliveryNotes}`,r)}multipleUpdateOrder(r={}){return this.http.post(`${a.N.apiUrl+c.j.multiOrderUpdate}`,r)}updateOrderStatus(r={}){return this.http.post(`${a.N.apiUrl+c.j.updateOrderStatus}`,r)}bulkStatusUpdate(r={}){return this.http.post(`${a.N.apiUrl+c.j.bulkStatusUpdate}`,r)}uploadProductionSchedule(r={}){return this.http.post(`${a.N.apiUrl+c.j.uploadFiles}`,r)}removeProductionSchedule(r={}){return this.http.post(`${a.N.apiUrl+c.j.removeFile}`,r)}addMultipleJobNote(r={}){return this.http.post(`${a.N.apiUrl+c.j.multipleJobNotes}`,r)}getCustomersListing(r={}){return this.http.post(`${a.N.apiUrl+c.j.getWorkOrdersCustomers}`,r)}downloadData(r={}){return this.http.post(`${a.N.apiUrl+c.j.downloadRod}`,r)}}return u.\u0275fac=function(r){return new(r||u)(_.LFG(f.eN))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);