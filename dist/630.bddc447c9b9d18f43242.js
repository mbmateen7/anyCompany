"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[630],{7630:($,h,r)=>{r.r(h),r.d(h,{PhonebookModule:()=>R});var d=r(8583),T=r(9763),A=r(9330),u=r(5860),e=r(3018),c=r(2027),Z=r(4209),m=r(6783),p=r(665),_=r(8601);function v(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr",25),e.TgZ(1,"td"),e.TgZ(2,"p",20),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",20),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",20),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"div",26),e.TgZ(12,"a",27),e.NdJ("click",function(){const i=e.CHM(t),a=i.$implicit,l=i.index;return e.oxw().editCustomer(a,l)}),e._UZ(13,"i-feather",28),e.qZA(),e.TgZ(14,"a",27),e.NdJ("click",function(){const i=e.CHM(t),a=i.$implicit,l=i.index;return e.oxw().deleteCustomer(a,l)}),e._UZ(15,"i-feather",29),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=s.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.email)}}let b=(()=>{class o{constructor(t,n){this._phonebook=t,this._modal=n,this.customers=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles"},this.dateToday=new Date}ngOnInit(){this.getCustomerListing()}getCustomerListing(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._phonebook.customerListing(this.searchParams).subscribe(t=>{this.customers=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to})}searchCustomers(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getCustomerListing()}changePage(t){this.searchParams.page=t,this.getCustomerListing()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getCustomerListing()}addCustomer(){const t=this._modal.open(A.y,this.modalConfig);t.componentInstance.response.subscribe(n=>{console.log(n),n.success&&this.getCustomerListing(),t.dismiss()})}editCustomer(t,n){const i=this._modal.open(A.y,this.modalConfig);i.componentInstance.cus=Object.assign({},t),i.componentInstance.type="edit",i.componentInstance.response.subscribe(a=>{a.success&&(this.customers[n]=a.data),i.dismiss()})}deleteCustomer(t,n){const i=this._modal.open(u.p,this.modalConfig);i.componentInstance.data=Object.assign({},t),i.componentInstance.type="customer",i.componentInstance.response.subscribe(a=>{a.success&&this.customers.splice(n,1),i.dismiss()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.Q),e.Y36(Z.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-customers"]],decls:47,vars:10,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","totalPages","changePage","ChangePageSize"],[1,"active-row"],[1,"list-icons-talbe","d-flex","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.TgZ(4,"li",4),e.TgZ(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA(),e.qZA(),e.TgZ(7,"li",4),e.TgZ(8,"a",5),e._uU(9,"Customers"),e.qZA(),e.qZA(),e.TgZ(10,"li",4),e.TgZ(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"a",8),e.NdJ("click",function(){return n.addCustomer()}),e._UZ(16,"i-feather",9),e._uU(17," Add Entry "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",10),e.TgZ(19,"div",11),e.TgZ(20,"div",12),e.TgZ(21,"div",13),e.TgZ(22,"input",14),e.NdJ("input",function(){return n.searchCustomers()})("ngModelChange",function(a){return n.searchParams.search=a}),e.qZA(),e._UZ(23,"i-feather",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",16),e.TgZ(25,"div",17),e.TgZ(26,"table",18),e.TgZ(27,"thead",19),e.TgZ(28,"tr"),e.TgZ(29,"th"),e.TgZ(30,"p",20),e._uU(31,"Name"),e._UZ(32,"i",21),e.qZA(),e.qZA(),e.TgZ(33,"th"),e.TgZ(34,"p",20),e._uU(35,"Telephone"),e._UZ(36,"i",21),e.qZA(),e.qZA(),e.TgZ(37,"th"),e.TgZ(38,"p",20),e._uU(39,"Email"),e._UZ(40,"i",21),e.qZA(),e.qZA(),e.TgZ(41,"th"),e.TgZ(42,"p",20),e._uU(43,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"tbody",22),e.YNc(45,v,16,3,"tr",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(46,"app-pagination",24),e.NdJ("changePage",function(a){return n.changePage(a)})("ChangePageSize",function(a){return n.ChangePageSize(a)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.hij("Week ",e.xi3(13,7,n.dateToday,"ww"),""),e.xp6(10),e.Q6J("ngModel",n.searchParams.search),e.xp6(23),e.Q6J("ngForOf",n.customers),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("totalPages",n.totalPages))},directives:[m.u,p.Fj,p.JJ,p.On,d.sg,_.Q],pipes:[d.uU],styles:[""]}),o})();var y=r(1628),q=r(9634);function E(o,s){1&o&&(e.TgZ(0,"h4",9),e._uU(1,"ADD EMPLOYEE"),e.qZA())}function x(o,s){1&o&&(e.TgZ(0,"h4",9),e._uU(1,"UPDATE EMPLOYEE"),e.qZA())}function M(o,s){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function U(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"label",13),e._uU(4,"Employee Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA(),e.qZA(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newEmployee.name=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",16),e.TgZ(9,"div",12),e.TgZ(10,"div",17),e.TgZ(11,"div",18),e.TgZ(12,"label",13),e._uU(13,"Role"),e.TgZ(14,"span",14),e._uU(15,"*"),e.qZA(),e.qZA(),e.TgZ(16,"select",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newEmployee.role_id=i}),e.TgZ(17,"option",20),e._uU(18,"Select Role"),e.qZA(),e.YNc(19,M,2,2,"option",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",11),e.TgZ(21,"div",12),e.TgZ(22,"label",13),e._uU(23,"Email"),e.TgZ(24,"span",14),e._uU(25,"*"),e.qZA(),e.qZA(),e.TgZ(26,"input",22),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newEmployee.email=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",11),e.TgZ(28,"div",23),e.TgZ(29,"label",13),e._uU(30,"Phone"),e.TgZ(31,"span",14),e._uU(32,"*"),e.qZA(),e.qZA(),e.TgZ(33,"input",24),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newEmployee.phone_no=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.newEmployee.name),e.xp6(9),e.Q6J("ngModel",t.newEmployee.role_id),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(7),e.Q6J("ngModel",t.newEmployee.email),e.xp6(7),e.Q6J("ngModel",t.newEmployee.phone_no)}}function S(o,s){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.title)}}function P(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"label",13),e._uU(4,"Employee Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA(),e.qZA(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().employee.name=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",16),e.TgZ(9,"div",12),e.TgZ(10,"div",17),e.TgZ(11,"div",18),e.TgZ(12,"label",13),e._uU(13,"Role"),e.TgZ(14,"span",14),e._uU(15,"*"),e.qZA(),e.qZA(),e.TgZ(16,"select",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().employee.role_id=i}),e.TgZ(17,"option",20),e._uU(18,"Select Role"),e.qZA(),e.YNc(19,S,2,2,"option",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",11),e.TgZ(21,"div",12),e.TgZ(22,"label",13),e._uU(23,"Email"),e.TgZ(24,"span",14),e._uU(25,"*"),e.qZA(),e.qZA(),e.TgZ(26,"input",22),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().employee.email=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",11),e.TgZ(28,"div",23),e.TgZ(29,"label",13),e._uU(30,"Phone"),e.TgZ(31,"span",14),e._uU(32,"*"),e.qZA(),e.qZA(),e.TgZ(33,"input",24),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().employee.phone_no=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.employee.name),e.xp6(9),e.Q6J("ngModel",t.employee.role_id),e.xp6(3),e.Q6J("ngForOf",t.roles),e.xp6(7),e.Q6J("ngModel",t.employee.email),e.xp6(7),e.Q6J("ngModel",t.employee.phone_no)}}function w(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().addEmployee()}),e._uU(1,"Save"),e.qZA()}}function J(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateEmployee()}),e._uU(1,"Update"),e.qZA()}}let f=(()=>{class o{constructor(t,n,i){this._administration=t,this.helper=n,this._phonebook=i,this.type="add",this.response=new e.vpe,this.newEmployee={name:"",role_id:null,email:"",phone_no:""},this.roles=[]}ngOnInit(){this.getRoles()}getRoles(){this._administration.rolesListing().subscribe(t=>{this.roles=t.data})}cancel(){this.response.emit({success:!1})}addEmployee(){this._phonebook.addEmployee(this.newEmployee).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}updateEmployee(){this._phonebook.updateEmployee(this.employee).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,data:t.data})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.E),e.Y36(q.B),e.Y36(c.Q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit-employee"]],inputs:{type:"type",employee:"employee"},outputs:{response:"response"},decls:14,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-12"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Prince Build",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"col-md-12","add-employee-arrow"],[1,"select-box"],[1,"form-group"],[1,"ctm-input","bg-white",3,"ngModel","ngModelChange"],["value","null","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","email","placeholder","Ex: John@gmail.com",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"input-style"],["type","number","placeholder","0236 54321",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[3,"value"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,E,2,0,"h4",1),e.YNc(2,x,2,0,"h4",1),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,U,34,5,"div",4),e.YNc(7,P,34,5,"div",4),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"div",6),e.TgZ(10,"a",7),e.NdJ("click",function(){return n.cancel()}),e._uU(11,"Discard"),e.qZA(),e.YNc(12,w,2,0,"a",8),e.YNc(13,J,2,0,"a",8),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(4),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(5),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type))},directives:[d.O5,p.Fj,p.JJ,p.On,p.EJ,p.YN,p.Kr,d.sg,p.wV],styles:[""]}),o})();function k(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr",25),e.TgZ(1,"td"),e.TgZ(2,"p",20),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",20),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",20),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"p",20),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"div",26),e.TgZ(15,"a",27),e.NdJ("click",function(){const i=e.CHM(t),a=i.$implicit,l=i.index;return e.oxw().editEmployee(a,l)}),e._UZ(16,"i-feather",28),e.qZA(),e.TgZ(17,"a",27),e.NdJ("click",function(){const i=e.CHM(t),a=i.$implicit,l=i.index;return e.oxw().deleteEmployee(a,l)}),e._UZ(18,"i-feather",29),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=s.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.role.title),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.email)}}let N=(()=>{class o{constructor(t,n){this._phonebook=t,this._modal=n,this.employees=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles add-phone-book-modal"},this.dateToday=new Date}ngOnInit(){this.getEmployees()}getEmployees(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.searchSubscription=this._phonebook.employeesListing(this.searchParams).subscribe(t=>{this.employees=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to})}searchEmployees(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getEmployees()}changePage(t){this.searchParams.page=t,this.getEmployees()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getEmployees()}addEmployee(){const t=this._modal.open(f,this.modalConfig);t.componentInstance.response.subscribe(n=>{n.success&&this.getEmployees(),t.dismiss()})}editEmployee(t,n){const i=this._modal.open(f,this.modalConfig);i.componentInstance.employee=Object.assign({},t),i.componentInstance.type="edit",i.componentInstance.response.subscribe(a=>{a.success&&(this.employees[n]=a.data),i.dismiss()})}deleteEmployee(t,n){const i=this._modal.open(u.p,this.modalConfig);i.componentInstance.data=Object.assign({},t),i.componentInstance.type="employee",i.componentInstance.response.subscribe(a=>{a.success&&this.employees.splice(n,1),i.dismiss()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.Q),e.Y36(Z.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-internal-list"]],decls:50,vars:6,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["data-toggle","modal","href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","ngModelChange","input"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","totalPages","changePage","ChangePageSize"],[1,"active-row"],[1,"list-icons-talbe","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.TgZ(4,"li",4),e.TgZ(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA(),e.qZA(),e.TgZ(7,"li",4),e.TgZ(8,"a",5),e._uU(9,"Internal List"),e.qZA(),e.qZA(),e.TgZ(10,"li",4),e.TgZ(11,"a",6),e._uU(12,"Week 47"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",7),e.TgZ(14,"a",8),e.NdJ("click",function(){return n.addEmployee()}),e._UZ(15,"i-feather",9),e._uU(16," Add Entry "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",10),e.TgZ(18,"div",11),e.TgZ(19,"div",12),e.TgZ(20,"div",13),e.TgZ(21,"input",14),e.NdJ("ngModelChange",function(a){return n.searchParams.search=a})("input",function(){return n.searchEmployees()}),e.qZA(),e._UZ(22,"i-feather",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",16),e.TgZ(24,"div",17),e.TgZ(25,"table",18),e.TgZ(26,"thead",19),e.TgZ(27,"tr"),e.TgZ(28,"th"),e.TgZ(29,"p",20),e._uU(30,"Name"),e._UZ(31,"i",21),e.qZA(),e.qZA(),e.TgZ(32,"th"),e.TgZ(33,"p",20),e._uU(34,"Role"),e._UZ(35,"i",21),e.qZA(),e.qZA(),e.TgZ(36,"th"),e.TgZ(37,"p",20),e._uU(38,"Telephone"),e._UZ(39,"i",21),e.qZA(),e.qZA(),e.TgZ(40,"th"),e.TgZ(41,"p",20),e._uU(42,"Email"),e._UZ(43,"i",21),e.qZA(),e.qZA(),e.TgZ(44,"th"),e.TgZ(45,"p",20),e._uU(46,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(47,"tbody",22),e.YNc(48,k,19,4,"tr",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"app-pagination",24),e.NdJ("changePage",function(a){return n.changePage(a)})("ChangePageSize",function(a){return n.ChangePageSize(a)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(21),e.Q6J("ngModel",n.searchParams.search),e.xp6(27),e.Q6J("ngForOf",n.employees),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("totalPages",n.totalPages))},directives:[m.u,p.Fj,p.JJ,p.On,d.sg,_.Q],styles:[""]}),o})();function I(o,s){1&o&&(e.TgZ(0,"h4",9),e._uU(1,"ADD SUPPLIER"),e.qZA())}function O(o,s){1&o&&(e.TgZ(0,"h4",9),e._uU(1,"EDIT SUPPLIER"),e.qZA())}function F(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"label",13),e._uU(4,"Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA(),e.qZA(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newSupplier.name=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",11),e.TgZ(9,"div",12),e.TgZ(10,"label",13),e._uU(11,"Phone"),e.TgZ(12,"span",14),e._uU(13,"*"),e.qZA(),e.qZA(),e.TgZ(14,"input",16),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newSupplier.phone_no=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",17),e.TgZ(16,"div",12),e.TgZ(17,"label",13),e._uU(18,"Email"),e.TgZ(19,"span",14),e._uU(20,"*"),e.qZA(),e.qZA(),e.TgZ(21,"input",18),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newSupplier.email=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",17),e.TgZ(23,"div",12),e.TgZ(24,"label",13),e._uU(25,"Address"),e.TgZ(26,"span",14),e._uU(27,"*"),e.qZA(),e.qZA(),e.TgZ(28,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newSupplier.address=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",17),e.TgZ(30,"div",12),e.TgZ(31,"label",13),e._uU(32,"Products"),e.TgZ(33,"span",14),e._uU(34,"*"),e.qZA(),e.qZA(),e.TgZ(35,"input",20),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().newSupplier.products=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.newSupplier.name),e.xp6(7),e.Q6J("ngModel",t.newSupplier.phone_no),e.xp6(7),e.Q6J("ngModel",t.newSupplier.email),e.xp6(7),e.Q6J("ngModel",t.newSupplier.address),e.xp6(7),e.Q6J("ngModel",t.newSupplier.products)}}function Q(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"label",13),e._uU(4,"Name"),e.TgZ(5,"span",14),e._uU(6,"*"),e.qZA(),e.qZA(),e.TgZ(7,"input",15),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().supplier.name=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",11),e.TgZ(9,"div",12),e.TgZ(10,"label",13),e._uU(11,"Phone"),e.TgZ(12,"span",14),e._uU(13,"*"),e.qZA(),e.qZA(),e.TgZ(14,"input",16),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().supplier.phone_no=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",17),e.TgZ(16,"div",12),e.TgZ(17,"label",13),e._uU(18,"Email"),e.TgZ(19,"span",14),e._uU(20,"*"),e.qZA(),e.qZA(),e.TgZ(21,"input",18),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().supplier.email=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",17),e.TgZ(23,"div",12),e.TgZ(24,"label",13),e._uU(25,"Address"),e.TgZ(26,"span",14),e._uU(27,"*"),e.qZA(),e.qZA(),e.TgZ(28,"input",19),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().supplier.address=i}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",17),e.TgZ(30,"div",12),e.TgZ(31,"label",13),e._uU(32,"Products"),e.TgZ(33,"span",14),e._uU(34,"*"),e.qZA(),e.qZA(),e.TgZ(35,"input",20),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().supplier.products=i}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.supplier.name),e.xp6(7),e.Q6J("ngModel",t.supplier.phone_no),e.xp6(7),e.Q6J("ngModel",t.supplier.email),e.xp6(7),e.Q6J("ngModel",t.supplier.address),e.xp6(7),e.Q6J("ngModel",t.supplier.products)}}function j(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().addSupplier()}),e._uU(1,"Add"),e.qZA()}}function z(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"a",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateSupplier()}),e._uU(1,"Update"),e.qZA()}}let C=(()=>{class o{constructor(t,n){this._phonebook=t,this.helper=n,this.type="add",this.response=new e.vpe,this.newSupplier={name:"",address:"",phone_no:"",email:"",products:""}}ngOnInit(){}addSupplier(){this._phonebook.addSupplier(this.newSupplier).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}updateSupplier(){this._phonebook.updateSupplier(this.supplier).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,data:t.data})})}deleteSupplier(){this._phonebook.deleteSupplier({id:this.supplier.id}).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}cancel(){this.response.emit({success:!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.Q),e.Y36(q.B))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-edit-supplier"]],inputs:{supplier:"supplier",type:"type"},outputs:{response:"response"},decls:14,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-6"],[1,"input-style","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Muhammad",1,"ctm-input",3,"ngModel","ngModelChange"],["type","text","placeholder","01234 567890",1,"ctm-input",3,"ngModel","ngModelChange"],[1,"col-md-12"],["type","email","placeholder","abc@mail.com",1,"ctm-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Address",1,"ctm-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Products",1,"ctm-input",3,"ngModel","ngModelChange"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,I,2,0,"h4",1),e.YNc(2,O,2,0,"h4",1),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,F,36,5,"div",4),e.YNc(7,Q,36,5,"div",4),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"div",6),e.TgZ(10,"a",7),e.NdJ("click",function(){return n.cancel()}),e._uU(11,"Discard"),e.qZA(),e.YNc(12,j,2,0,"a",8),e.YNc(13,z,2,0,"a",8),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(4),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(5),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type))},directives:[d.O5,p.Fj,p.JJ,p.On],styles:[""]}),o})();function H(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr",25),e.TgZ(1,"td"),e.TgZ(2,"p",20),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",20),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",20),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"p",20),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"p",20),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"td"),e.TgZ(17,"div",26),e.TgZ(18,"a",27),e.NdJ("click",function(){const i=e.CHM(t),a=i.$implicit,l=i.index;return e.oxw().editSupplier(a,l)}),e._UZ(19,"i-feather",28),e.qZA(),e.TgZ(20,"a",27),e.NdJ("click",function(){const i=e.CHM(t),a=i.$implicit,l=i.index;return e.oxw().deleteSupplier(a,l)}),e._UZ(21,"i-feather",29),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=s.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.address),e.xp6(3),e.Oqu(t.phone_no),e.xp6(3),e.Oqu(t.email),e.xp6(3),e.Oqu(t.products)}}const Y=[{path:"",redirectTo:"customers"},{path:"customers",component:b},{path:"suppliers",component:(()=>{class o{constructor(t,n){this._phonebook=t,this._modal=n,this.suppliers=[],this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles add-phone-book-modal"},this.dateToday=new Date}ngOnInit(){this.getSuppliers()}getSuppliers(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this._phonebook.supplierListing(this.searchParams).subscribe(t=>{this.suppliers=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to})}searchSuppliers(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getSuppliers()}changePage(t){this.searchParams.page=t,this.getSuppliers()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getSuppliers()}addSupplier(){const t=this._modal.open(C,this.modalConfig);t.componentInstance.response.subscribe(n=>{n.success&&this.getSuppliers(),t.dismiss()})}editSupplier(t,n){const i=this._modal.open(C,this.modalConfig);i.componentInstance.supplier=Object.assign({},t),i.componentInstance.type="edit",i.componentInstance.response.subscribe(a=>{a.success&&(this.suppliers[n]=a.data),i.dismiss()})}deleteSupplier(t,n){const i=this._modal.open(u.p,this.modalConfig);i.componentInstance.data=Object.assign({},t),i.componentInstance.type="supplier",i.componentInstance.response.subscribe(a=>{a.success&&this.suppliers.splice(n,1),i.dismiss()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.Q),e.Y36(Z.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-suppliers"]],decls:55,vars:10,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"d-flex"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main"],[1,"d-flex","for-media-setts"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","input","ngModelChange"],["name","search",1,"search-ctm"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","totalPages","changePage","ChangePageSize"],[1,"active-row"],[1,"list-icons-talbe","d-flex","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.TgZ(4,"li",4),e.TgZ(5,"a",5),e._uU(6,"PHONEBOOK"),e.qZA(),e.qZA(),e.TgZ(7,"li",4),e.TgZ(8,"a",5),e._uU(9,"Suppliers"),e.qZA(),e.qZA(),e.TgZ(10,"li",4),e.TgZ(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"a",8),e.NdJ("click",function(){return n.addSupplier()}),e._UZ(16,"i-feather",9),e._uU(17," Add Entry "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",10),e.TgZ(19,"div",11),e.TgZ(20,"div",12),e.TgZ(21,"div",13),e.TgZ(22,"input",14),e.NdJ("input",function(){return n.searchSuppliers()})("ngModelChange",function(a){return n.searchParams.search=a}),e.qZA(),e._UZ(23,"i-feather",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",16),e.TgZ(25,"div",17),e.TgZ(26,"table",18),e.TgZ(27,"thead",19),e.TgZ(28,"tr"),e.TgZ(29,"th"),e.TgZ(30,"p",20),e._uU(31,"Name"),e._UZ(32,"i",21),e.qZA(),e.qZA(),e.TgZ(33,"th"),e.TgZ(34,"p",20),e._uU(35,"Address"),e._UZ(36,"i",21),e.qZA(),e.qZA(),e.TgZ(37,"th"),e.TgZ(38,"p",20),e._uU(39,"Telephone"),e._UZ(40,"i",21),e.qZA(),e.qZA(),e.TgZ(41,"th"),e.TgZ(42,"p",20),e._uU(43,"Email"),e._UZ(44,"i",21),e.qZA(),e.qZA(),e.TgZ(45,"th"),e.TgZ(46,"p",20),e._uU(47,"Products"),e._UZ(48,"i",21),e.qZA(),e.qZA(),e.TgZ(49,"th"),e.TgZ(50,"p",20),e._uU(51,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"tbody",22),e.YNc(53,H,22,5,"tr",23),e.qZA(),e.qZA(),e.qZA(),e.TgZ(54,"app-pagination",24),e.NdJ("changePage",function(a){return n.changePage(a)})("ChangePageSize",function(a){return n.ChangePageSize(a)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.hij("Week ",e.xi3(13,7,n.dateToday,"ww"),""),e.xp6(10),e.Q6J("ngModel",n.searchParams.search),e.xp6(31),e.Q6J("ngForOf",n.suppliers),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("totalPages",n.totalPages))},directives:[m.u,p.Fj,p.JJ,p.On,d.sg,_.Q],pipes:[d.uU],styles:[""]}),o})()},{path:"internal-list",component:N}];let L=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[T.Bz.forChild(Y)],T.Bz]}),o})();var B=r(5530),D=r(9618);let R=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.ez,L,D.m,p.u5,m.p.pick(B.kEt)]]}),o})()}}]);