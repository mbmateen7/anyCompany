"use strict";(self.webpackChunkhumphree=self.webpackChunkhumphree||[]).push([[193],{2212:(M,b,c)=>{c.d(b,{_:()=>_});var o=c(3018),C=c(1702),e=c(8583),f=c(665),v=c(6783);function T(p,m){if(1&p){const d=o.EpF();o.TgZ(0,"div",28),o.TgZ(1,"div",29),o.TgZ(2,"div",30),o._UZ(3,"img",31),o.qZA(),o.TgZ(4,"p",32),o._uU(5),o.qZA(),o.TgZ(6,"p",33),o._uU(7),o.qZA(),o.qZA(),o.TgZ(8,"div",34),o.TgZ(9,"p",35),o._uU(10),o.TgZ(11,"span",36),o._uU(12),o.ALo(13,"date"),o.qZA(),o.qZA(),o._UZ(14,"div",37),o.qZA(),o.TgZ(15,"div",38),o.TgZ(16,"a",39),o.TgZ(17,"i-feather",40),o.NdJ("click",function(){const u=o.CHM(d),A=u.$implicit,x=u.index;return o.oxw(2).deleteJobNote(A.id,x)}),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&p){const d=m.$implicit;o.xp6(3),o.Q6J("src",d.user.profile_picture,o.LSH),o.xp6(2),o.Oqu(d.user.name),o.xp6(2),o.hij("(",d.user.role.title,")"),o.xp6(3),o.hij("",d.title," "),o.xp6(2),o.hij("(",o.xi3(13,6,d.created_at,"dd LLLL, yyyy @ h:mm a"),")"),o.xp6(2),o.Q6J("innerHtml",d.description,o.oJD)}}function h(p,m){if(1&p){const d=o.EpF();o.TgZ(0,"div",41),o.TgZ(1,"a",42),o.NdJ("click",function(){return o.CHM(d),o.oxw(2).getJobNotes(!0)}),o._uU(2," LOAD MORE "),o.qZA(),o.qZA()}}function g(p,m){if(1&p&&(o.TgZ(0,"div",24),o.TgZ(1,"div",25),o.YNc(2,T,18,9,"div",26),o.qZA(),o.YNc(3,h,3,0,"div",27),o.qZA()),2&p){const d=o.oxw();o.xp6(2),o.Q6J("ngForOf",d.jobNotes),o.xp6(1),o.Q6J("ngIf",d.nextPage)}}let _=(()=>{class p{constructor(d){this._rod=d,this.response=new o.vpe,this.jobNotes=[],this.currentPage=1,this.nextPage=!1,this.newNote={title:"",description:"",work_order_id:0}}ngOnInit(){this.newNote.work_order_id=this.orderId,this.getJobNotes()}cancel(){this.response.emit({success:!1,close:!0})}getJobNotes(d=!1){d&&this.currentPage++,this._rod.getJobNotes({work_order_id:this.orderId,page:this.currentPage}).subscribe(Z=>{this.jobNotes=[...this.jobNotes,...(Z=Z.data).data],this.nextPage=!!Z.next_page_url})}addJobNote(){this._rod.addJobNote(this.newNote).subscribe(d=>{this.jobNotes.push(d.data),this.newNote.description="",this.newNote.title=""})}deleteJobNote(d,Z){this._rod.deleteJobNote({id:d}).subscribe(u=>{this.jobNotes.splice(Z,1),this.response.emit({success:!0,close:!1,data:u.data})})}}return p.\u0275fac=function(d){return new(d||p)(o.Y36(C.W))},p.\u0275cmp=o.Xpm({type:p,selectors:[["app-add-job-notes"]],inputs:{orderId:"orderId"},outputs:{response:"response"},decls:42,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],["class","job-note-upper",4,"ngIf"],[1,"input-style","mt-1","mb-2"],[1,"d-block"],[1,"text-danger"],["type","text","placeholder","Title",1,"ctm-input",3,"ngModel","ngModelChange"],[1,"text-area-modal","mb-1"],[1,"input-style"],["placeholder","Add Text For Job Note",1,"ctm-textarea",3,"ngModel","ngModelChange"],[1,"notify-main-box","d-flex","align-items-center","justify-content-between"],[1,"notify-to"],[1,"remember-me"],[1,"custom-check","custom-check-r"],["type","checkbox","checked","checked"],[1,"checkmark"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0) ",1,"discard-btn",3,"click"],["href","javascript:void(0) ",1,"add-btn",3,"click"],[1,"job-note-upper"],[1,"main-note-box"],["class","note-1 d-flex align-items-start justify-content-between",4,"ngFor","ngForOf"],["class","blur-box",4,"ngIf"],[1,"note-1","d-flex","align-items-start","justify-content-between"],[1,"img-card-sec"],[1,"img-note"],["alt","img",1,"img-fluid",3,"src"],[1,"name-img"],[1,"dir"],[1,"job-heading-main"],[1,"job-heading"],[1,"text","text-muted","small","ml-1"],[1,"para-job",3,"innerHtml"],[1,"trash-box","d-flex","align-items-center"],["href","javascript:void(0)",1,"edit-btn"],["name","trash-2",1,"delete-icon-modal",3,"click"],[1,"blur-box"],["href","javascript:void(0)",1,"load-more-btn",3,"click"]],template:function(d,Z){1&d&&(o.TgZ(0,"div",0),o.TgZ(1,"h4",1),o._uU(2,"JOB NOTES"),o.qZA(),o.TgZ(3,"button",2),o._uU(4,"\xd7"),o.qZA(),o.qZA(),o.TgZ(5,"div",3),o.TgZ(6,"div",4),o.TgZ(7,"div",5),o.YNc(8,g,4,2,"div",6),o.TgZ(9,"div",7),o.TgZ(10,"label",8),o._uU(11,"Title Job Note"),o.TgZ(12,"span",9),o._uU(13,"*"),o.qZA(),o.qZA(),o.TgZ(14,"input",10),o.NdJ("ngModelChange",function(A){return Z.newNote.title=A}),o.qZA(),o.qZA(),o.TgZ(15,"div",11),o.TgZ(16,"div",12),o.TgZ(17,"textarea",13),o.NdJ("ngModelChange",function(A){return Z.newNote.description=A}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(18,"div",14),o.TgZ(19,"p",15),o._uU(20," Notify To "),o.qZA(),o.TgZ(21,"div",16),o.TgZ(22,"label",17),o._uU(23,"Director "),o._UZ(24,"input",18),o._UZ(25,"span",19),o.qZA(),o.qZA(),o.TgZ(26,"div",16),o.TgZ(27,"label",17),o._uU(28,"Accounts "),o._UZ(29,"input",18),o._UZ(30,"span",19),o.qZA(),o.qZA(),o.TgZ(31,"div",16),o.TgZ(32,"label",17),o._uU(33,"Basic "),o._UZ(34,"input",18),o._UZ(35,"span",19),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(36,"div",20),o.TgZ(37,"div",21),o.TgZ(38,"a",22),o.NdJ("click",function(){return Z.cancel()}),o._uU(39,"Close"),o.qZA(),o.TgZ(40,"a",23),o.NdJ("click",function(){return Z.addJobNote()}),o._uU(41,"Add"),o.qZA(),o.qZA(),o.qZA()),2&d&&(o.xp6(8),o.Q6J("ngIf",Z.jobNotes.length),o.xp6(6),o.Q6J("ngModel",Z.newNote.title),o.xp6(3),o.Q6J("ngModel",Z.newNote.description))},directives:[e.O5,f.Fj,f.JJ,f.On,e.sg,v.u],pipes:[e.uU],styles:[""]}),p})()},4193:(M,b,c)=>{c.r(b),c.d(b,{AccountsModule:()=>Te});var o=c(8583),C=c(9763),e=c(3018),f=c(1702),v=c(2027),T=c(9634),h=c(2116),g=c(665),_=c(2666),p=c(6783);function m(i,r){if(1&i&&(e.TgZ(0,"p"),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=r.item;e.xp6(2),e.AsE("",t.name," | ",t.email,"")}}function d(i,r){if(1&i&&(e.TgZ(0,"p"),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._uU(3," | "),e.TgZ(4,"strong"),e._uU(5,"Order #"),e.qZA(),e._uU(6),e.qZA()),2&i){const t=r.item;e.xp6(2),e.Oqu(t.work_number),e.xp6(4),e.hij(": ",t.order_number,"")}}let Z=(()=>{class i{constructor(t,n,a,s){this._rod=t,this._phonebook=n,this.helper=a,this._account=s,this.type="add",this.response=new e.vpe,this.newPurchaseOrder={order_number:"",value:"",supplier_id:"",work_order_id:"",due_date:"",type:"",note:""},this.orders=[],this.suppliers=[]}ngOnInit(){this.getOrders(),this.getSuppliers()}getSuppliers(t=null){this._phonebook.supplierListing({search:t?t.term:""}).subscribe(a=>{var s;this.suppliers=a.data.data,this.newPurchaseOrder.supplier_id=a.data.data[0]?null===(s=a.data.data[0])||void 0===s?void 0:s.id:null})}getOrders(t=null){this._rod.rodListing({search:t?t.term:""}).subscribe(a=>{var s;this.orders=a.data.data,this.newPurchaseOrder.work_order_id=a.data.data[0]?null===(s=a.data.data[0])||void 0===s?void 0:s.id:null})}cancel(){this.response.emit({success:!1})}addOrder(){console.log(this.newPurchaseOrder),this._account.addPurchaseOrder(this.newPurchaseOrder).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}updateOrder(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.W),e.Y36(v.Q),e.Y36(T.B),e.Y36(h.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-account-purchase-order"]],inputs:{type:"type",salesOrder:"salesOrder"},outputs:{response:"response"},decls:83,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],[1,"search-inputs","mb-2"],[1,"input-style"],[1,"d-block","red-label"],[1,"red-label"],[1,"text-danger"],["type","text","placeholder","add order number",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","0",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"input-style","mb-2"],[1,"select-box"],[1,"form-group"],[1,"d-block"],["bindLabel","name","bindValue","id",1,"ctm-input","bg-white","ng-custom-select",3,"items","ngModel","ngModelChange","search"],["ng-option-tmp",""],["for","",1,"red-label"],["bindLabel","work_number","bindValue","id",1,"ctm-input","bg-white","ng-custom-select",3,"items","ngModel","ngModelChange","search"],[1,"type-pass"],["type","date","placeholder","Select Date",1,"ctm-input","ctm-input-today-sec",3,"ngModel","ngModelChange"],[1,"icon-eye","d-flex","align-items-center","justify-content-center"],["name","calendar",1,"calender"],[1,"today-date"],[1,"date-m","date-m-sec"],["type","text","placeholder","Type",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Note",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h4",1),e._uU(2,"ADD PURCHASE ORDER"),e.qZA(),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"label",8),e.TgZ(11,"span",9),e._uU(12,"Order Number#"),e.qZA(),e.TgZ(13,"span",10),e._uU(14,"*"),e.qZA(),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(s){return n.newPurchaseOrder.order_number=s}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",5),e.TgZ(17,"div",6),e.TgZ(18,"div",7),e.TgZ(19,"label",8),e.TgZ(20,"span",9),e._uU(21,"Value"),e.qZA(),e.TgZ(22,"span",10),e._uU(23,"*"),e.qZA(),e.qZA(),e.TgZ(24,"input",12),e.NdJ("ngModelChange",function(s){return n.newPurchaseOrder.value=s}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",13),e.TgZ(26,"div",14),e.TgZ(27,"div",15),e.TgZ(28,"div",16),e.TgZ(29,"label",17),e.TgZ(30,"span",9),e._uU(31,"Supplier"),e.qZA(),e.TgZ(32,"span",10),e._uU(33,"*"),e.qZA(),e.qZA(),e.TgZ(34,"ng-select",18),e.NdJ("ngModelChange",function(s){return n.newPurchaseOrder.supplier_id=s})("search",function(s){return n.getSuppliers(s)}),e.YNc(35,m,3,2,"ng-template",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",13),e.TgZ(37,"div",14),e.TgZ(38,"div",15),e.TgZ(39,"div",16),e.TgZ(40,"label",20),e.TgZ(41,"span",9),e._uU(42,"Work Number"),e.qZA(),e.qZA(),e.TgZ(43,"ng-select",21),e.NdJ("ngModelChange",function(s){return n.newPurchaseOrder.work_order_id=s})("search",function(s){return n.getOrders(s)}),e.YNc(44,d,7,2,"ng-template",19),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",5),e.TgZ(46,"div",6),e.TgZ(47,"div",7),e.TgZ(48,"label",17),e.TgZ(49,"span",9),e._uU(50,"Date"),e.qZA(),e._UZ(51,"span",10),e.qZA(),e.TgZ(52,"div",22),e.TgZ(53,"input",23),e.NdJ("ngModelChange",function(s){return n.newPurchaseOrder.due_date=s}),e.qZA(),e.TgZ(54,"div",24),e._UZ(55,"i-feather",25),e.qZA(),e.TgZ(56,"div",26),e.TgZ(57,"p",27),e._uU(58,"Today"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",5),e.TgZ(60,"div",6),e.TgZ(61,"div",7),e.TgZ(62,"label",8),e.TgZ(63,"span",9),e._uU(64,"Type"),e.qZA(),e.TgZ(65,"span",10),e._uU(66,"*"),e.qZA(),e.qZA(),e.TgZ(67,"input",28),e.NdJ("ngModelChange",function(s){return n.newPurchaseOrder.type=s}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",13),e.TgZ(69,"div",6),e.TgZ(70,"div",7),e.TgZ(71,"label",8),e.TgZ(72,"span",9),e._uU(73,"Note"),e.qZA(),e.TgZ(74,"span",10),e._uU(75,"*"),e.qZA(),e.qZA(),e.TgZ(76,"input",29),e.NdJ("ngModelChange",function(s){return n.newPurchaseOrder.note=s}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(77,"div",30),e.TgZ(78,"div",31),e.TgZ(79,"a",32),e.NdJ("click",function(){return n.cancel()}),e._uU(80,"Discard"),e.qZA(),e.TgZ(81,"a",33),e.NdJ("click",function(){return n.addOrder()}),e._uU(82,"Save"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(15),e.Q6J("ngModel",n.newPurchaseOrder.order_number),e.xp6(9),e.Q6J("ngModel",n.newPurchaseOrder.value),e.xp6(10),e.Q6J("items",n.suppliers)("ngModel",n.newPurchaseOrder.supplier_id),e.xp6(9),e.Q6J("items",n.orders)("ngModel",n.newPurchaseOrder.work_order_id),e.xp6(10),e.Q6J("ngModel",n.newPurchaseOrder.due_date),e.xp6(14),e.Q6J("ngModel",n.newPurchaseOrder.type),e.xp6(9),e.Q6J("ngModel",n.newPurchaseOrder.note))},directives:[g.Fj,g.JJ,g.On,_.w9,_.ir,p.u],styles:[".search-inputs[_ngcontent-%COMP%]   .input-style[_ngcontent-%COMP%]   .ctm-input.type-input[_ngcontent-%COMP%]{width:100%}"]}),i})();function u(i,r){1&i&&(e.TgZ(0,"h4",32),e._uU(1,"ADD SALES ORDER"),e.qZA())}function A(i,r){1&i&&(e.TgZ(0,"h4",32),e._uU(1,"UPDATE SALES ORDER"),e.qZA())}function x(i,r){if(1&i&&(e.TgZ(0,"p",33),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._uU(3," | "),e.TgZ(4,"strong"),e._uU(5,"Order #"),e.qZA(),e._uU(6),e.qZA()),2&i){const t=r.item,n=e.oxw();e.Q6J("hidden",n.checkSelectedOrder(t)),e.xp6(2),e.Oqu(t.work_number),e.xp6(4),e.hij(": ",t.order_number,"")}}function k(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"span",34),e._uU(1),e.TgZ(2,"span"),e.TgZ(3,"i-feather",35),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().removeOrder(s)}),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.model.work_number," ")}}function F(i,r){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.model.customer.name),e.xp6(2),e.Oqu(t.model.product.name),e.xp6(2),e.Oqu(t.model.order_number),e.xp6(2),e.Oqu(t.model.contract)}}function J(i,r){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td",36),e._uU(2,"No Order Selected"),e.qZA(),e.qZA())}function P(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"div",37),e.TgZ(2,"div",38),e.TgZ(3,"label",21),e._uU(4,"Value "),e.TgZ(5,"span",22),e._uU(6),e.qZA(),e._UZ(7,"span",23),e.qZA(),e.TgZ(8,"div",39),e.TgZ(9,"input",40),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.value=a}),e.qZA(),e.TgZ(10,"div",41),e._UZ(11,"img",42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(6),e.Oqu(t.model.work_number),e.xp6(3),e.Q6J("ngModel",t.value)}}function N(i,r){if(1&i&&(e.TgZ(0,"p"),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=r.item;e.xp6(2),e.Oqu(t.name)}}function E(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",43),e.NdJ("click",function(){return e.CHM(t),e.oxw().addOrder()}),e._uU(1,"Add"),e.qZA()}}function S(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",43),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateOrder()}),e._uU(1,"Update"),e.qZA()}}let y=(()=>{class i{constructor(t,n,a,s){this.selectConfig=t,this.helper=n,this._account=a,this._phonebook=s,this.type="add",this.response=new e.vpe,this.orders=[],this.selectedOrders=[],this.searchParams={search:""},this.employees=[],this.newSalesOrder={work_orders:this.selectedOrders,delivery_note:"",total_delivered:"",employee_id:null},t.notFoundText="Start typing..."}ngOnInit(){this.getOrders(),this.getEmployees()}getEmployees(t=null){this._phonebook.employeesListing({search:t?t.term:""}).subscribe(a=>{var s;this.employees=a.data.data,this.newSalesOrder.employee_id=a.data.data[0]?null===(s=a.data.data[0])||void 0===s?void 0:s.id:null})}selectOrder(t){console.log(t),!this.selectedOrders.find(n=>n.id==t.id)&&this.selectedOrders.push({work_order_id:t.id,number:t.work_number,model:t})}checkSelectedOrder(t){return!!this.selectedOrders.find(n=>n.work_order_id==t.id)}getOrders(t=null){this._account.salesOrdersRodListing(this.searchParams).subscribe(a=>{this.orders=a.data.data})}cancel(){this.response.emit({success:!1})}addOrder(){this._account.addSalesOrder(this.newSalesOrder).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}updateOrder(){}removeOrder(t){this.selectedOrders.splice(t,1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.$q),e.Y36(T.B),e.Y36(h.B),e.Y36(v.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-account-sales-order"]],inputs:{type:"type",salesOrder:"salesOrder"},outputs:{response:"response"},decls:68,vars:13,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"d-flex","modal-items-flex","mb-2"],[1,"input-style","mb-2"],[1,"select-box"],[1,"form-group"],["for",""],["bindLabel","work_number","bindValue","id","placeholder","H88",1,"ctm-input","bg-white","ng-custom-select",3,"items","search","change"],["ng-option-tmp",""],[1,"d-flex","flex-wrap"],["class","fiels-ctm",4,"ngFor","ngForOf"],[1,"table-sales-modal","table-responsive"],[1,"table","table-borderless"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"sales-order-main-box"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"d-block"],[1,"red-label"],[1,"text-danger"],["bindLabel","name","bindValue","id",1,"ctm-input","bg-white","ng-custom-select",3,"items","ngModel","ngModelChange","search"],[1,"input-style","input-style-red","mb-2"],["type","text","placeholder","Add Delivery Notes",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Total Delivered",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[3,"hidden"],[1,"fiels-ctm"],["name","plus",1,"plus-rotate",3,"click"],["colspan","4",1,"text-center"],[1,"search-inputs","mb-2"],[1,"input-style"],[1,"type-pass"],["type","text","placeholder","",1,"ctm-input",3,"ngModel","ngModelChange"],[1,"icon-eye","d-flex","align-items-center","justify-content-center"],["src","assets/img/ipnut-pound.png","alt","pound"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,u,2,0,"h4",1),e.YNc(2,A,2,0,"h4",1),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"label",10),e._uU(13,"Work Number"),e.qZA(),e.TgZ(14,"ng-select",11),e.NdJ("search",function(s){return n.getOrders(s)})("change",function(s){return n.selectOrder(s)}),e.YNc(15,x,7,3,"ng-template",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",13),e.YNc(17,k,4,1,"span",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",5),e.TgZ(19,"div",15),e.TgZ(20,"table",16),e.TgZ(21,"thead"),e.TgZ(22,"tr"),e.TgZ(23,"th"),e._uU(24,"Customer"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Product"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Customer Order#"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Contract"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"tbody"),e.YNc(32,F,9,4,"tr",17),e.YNc(33,J,3,0,"tr",18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",19),e.TgZ(35,"div",4),e.YNc(36,P,12,2,"div",20),e.TgZ(37,"div",5),e.TgZ(38,"div",7),e.TgZ(39,"div",8),e.TgZ(40,"div",9),e.TgZ(41,"label",21),e.TgZ(42,"span",22),e._uU(43,"Employee"),e.qZA(),e.TgZ(44,"span",23),e._uU(45,"*"),e.qZA(),e.qZA(),e.TgZ(46,"ng-select",24),e.NdJ("ngModelChange",function(s){return n.newSalesOrder.employee_id=s})("search",function(s){return n.getEmployees(s)}),e.YNc(47,N,3,1,"ng-template",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",5),e.TgZ(49,"div",25),e.TgZ(50,"label",21),e.TgZ(51,"span",22),e._uU(52,"Delivery Notes"),e.qZA(),e.TgZ(53,"span",23),e._uU(54,"*"),e.qZA(),e.qZA(),e.TgZ(55,"input",26),e.NdJ("ngModelChange",function(s){return n.newSalesOrder.delivery_note=s}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"div",5),e.TgZ(57,"div",25),e.TgZ(58,"label",21),e.TgZ(59,"span",22),e._uU(60,"Total Delivered"),e.qZA(),e.qZA(),e.TgZ(61,"input",27),e.NdJ("ngModelChange",function(s){return n.newSalesOrder.total_delivered=s}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",28),e.TgZ(63,"div",29),e.TgZ(64,"a",30),e.NdJ("click",function(){return n.cancel()}),e._uU(65,"Discard"),e.qZA(),e.YNc(66,E,2,0,"a",31),e.YNc(67,S,2,0,"a",31),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(12),e.Q6J("items",n.orders),e.xp6(3),e.Q6J("ngForOf",n.selectedOrders),e.xp6(15),e.Q6J("ngForOf",n.selectedOrders),e.xp6(1),e.Q6J("ngIf",0==n.selectedOrders.length),e.xp6(3),e.Q6J("ngForOf",n.selectedOrders),e.xp6(10),e.Q6J("items",n.employees)("ngModel",n.newSalesOrder.employee_id),e.xp6(9),e.Q6J("ngModel",n.newSalesOrder.delivery_note),e.xp6(6),e.Q6J("ngModel",n.newSalesOrder.total_delivered),e.xp6(5),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type))},directives:[o.O5,_.w9,_.ir,o.sg,g.JJ,g.On,g.Fj,p.u],styles:[""]}),i})();var j=c(2212),U=c(4209),O=c(8601);function I(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",75),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.$implicit,l=a.index;return e.oxw().addJobNote(s.work_order.id,l)}),e._UZ(1,"i-feather",76),e.qZA()}}function Q(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",77),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.$implicit,l=a.index;return e.oxw().addJobNote(s.work_order.id,l)}),e._uU(1," View "),e.qZA()}}function D(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",78),e.TgZ(1,"div",79),e.TgZ(2,"a",80),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.$implicit,l=a.index;return e.oxw().addJobNote(s.work_order.id,l)}),e._uU(3," Add Note "),e._UZ(4,"i-feather",81),e.qZA(),e.qZA(),e._UZ(5,"div",82),e.TgZ(6,"div",83),e._uU(7),e.ALo(8,"date"),e.qZA(),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.xp6(5),e.Q6J("innerHtml",t.work_order.latest_job_note.description,e.oJD),e.xp6(2),e.hij(" ",e.xi3(8,2,t.work_order.latest_job_note.created_at,"h:mm a | dd LLLL, yyyy")," ")}}const Y=function(i,r){return{"order-withdrawn":i,"order-to-factory":r}};function L(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr",66),e.TgZ(1,"td"),e.TgZ(2,"p",58),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",58),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",58),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"p",58),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"p",58),e._uU(15),e.qZA(),e.qZA(),e.TgZ(16,"td"),e.TgZ(17,"p",58),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"td"),e.TgZ(20,"p",58),e._uU(21),e.qZA(),e.qZA(),e.TgZ(22,"td"),e.TgZ(23,"p",58),e._uU(24),e.qZA(),e.qZA(),e.TgZ(25,"td"),e.TgZ(26,"p",58),e._uU(27),e.qZA(),e.qZA(),e.TgZ(28,"td"),e.TgZ(29,"div",67),e.YNc(30,I,2,0,"a",68),e.YNc(31,Q,2,0,"a",69),e.YNc(32,D,9,5,"div",70),e.qZA(),e.qZA(),e.TgZ(33,"td"),e.TgZ(34,"p",58),e._uU(35),e.qZA(),e.qZA(),e.TgZ(36,"td"),e.TgZ(37,"div",71),e.TgZ(38,"label",72),e.TgZ(39,"input",73),e.NdJ("change",function(){const a=e.CHM(t),s=a.$implicit,l=a.index;return e.oxw().updateSaleStatus(s.id,l)}),e.qZA(),e._UZ(40,"span",74),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.Q6J("ngClass",e.WLB(15,Y,t.work_order.on_hold||"Withdrawn"==t.work_order.status,"To Factory"==t.work_order.status)),e.xp6(3),e.Oqu(t.work_order.work_number),e.xp6(3),e.Oqu(t.work_order.customer.name),e.xp6(3),e.Oqu(t.work_order.product.name),e.xp6(3),e.Oqu("Door"==t.work_order.product.name?t.value:"0.00"),e.xp6(3),e.Oqu("Frame"==t.work_order.product.name?t.value:"0.00"),e.xp6(3),e.Oqu("Door"!=t.work_order.product.name&&"Frame"!=t.work_order.product.name?t.value:"0.00"),e.xp6(3),e.hij("",t.work_order.progress,"%"),e.xp6(3),e.Oqu(t.delivery_note),e.xp6(3),e.Oqu(t.total_delivered),e.xp6(3),e.Q6J("ngIf",!t.work_order.job_notes_count),e.xp6(1),e.Q6J("ngIf",t.work_order.job_notes_count),e.xp6(1),e.Q6J("ngIf",t.work_order.job_notes_count&&t.work_order.latest_job_note.description),e.xp6(3),e.Oqu(t.work_order.on_hold?"On Hold":t.work_order.status),e.xp6(4),e.Q6J("checked",t.invoice_in_full)}}function H(i,r){1&i&&(e.TgZ(0,"a",89),e._uU(1," View "),e.qZA())}function z(i,r){if(1&i&&(e.TgZ(0,"div",78),e._UZ(1,"div",82),e.TgZ(2,"div",83),e._uU(3),e.ALo(4,"date"),e.qZA(),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("innerHtml",t.note,e.oJD),e.xp6(2),e.hij(" ",e.xi3(4,2,t.created_at,"h:mm a | dd LLLL, yyyy")," ")}}function $(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr",84),e.TgZ(1,"td"),e.TgZ(2,"p",58),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",58),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",58),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"div",85),e.TgZ(12,"label",86),e.TgZ(13,"input",73),e.NdJ("change",function(){const a=e.CHM(t),s=a.$implicit,l=a.index;return e.oxw().markChecked(s,l)}),e.qZA(),e._UZ(14,"span",87),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"td"),e.TgZ(16,"div",67),e.YNc(17,H,2,0,"a",88),e.YNc(18,z,5,5,"div",70),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.supplier.name),e.xp6(3),e.Oqu(t.value),e.xp6(3),e.Oqu(t.order.work_number),e.xp6(4),e.Q6J("checked",t.checked),e.xp6(4),e.Q6J("ngIf",t.note),e.xp6(1),e.Q6J("ngIf",t.note)}}function B(i,r){if(1&i&&(e.TgZ(0,"tr",84),e.TgZ(1,"td"),e.TgZ(2,"p",58),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",58),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",58),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"p",58),e._uU(12),e.qZA(),e.qZA(),e.qZA()),2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.sales.door),e.xp6(3),e.Oqu(t.sales.frame),e.xp6(3),e.Oqu(t.sales.other)}}const W=function(){return["/accounts/credit-check"]};let R=(()=>{class i{constructor(t,n,a){this._account=t,this._modal=n,this.helper=a,this.customerTotals=[],this.salesOrder=[],this.purchaseOrders=[],this.dateToday=new Date,this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.activeTab="salesOrder",this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles Fixed-cost-modal"}}ngOnInit(){this.getAccountStats(),this.getListing()}getAccountStats(){this._account.accountStats().subscribe(t=>{this.account=t.data})}getCustomerTotalListing(){this._account.customerTotals(this.searchParams).subscribe(t=>{this.customerTotals=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to})}getSalesOrderListing(){this._account.salesOrders(this.searchParams).subscribe(t=>{this.salesOrder=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to})}getMontlyCostListing(){this._account.accountsPurchaseOrdersListing(this.searchParams).subscribe(t=>{this.purchaseOrders=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to})}markChecked(t,n){this._account.updatePurchaseOrder({id:t.id}).subscribe(a=>{this.helper.toastSuccess(a.message),this.purchaseOrders[n]=a.data})}resetSearchParams(){this.searchParams={search:"",page_size:10,page:1},this.totalPages=1}changeTab(t){this.activeTab=t,this.resetSearchParams(),this.getListing()}getListing(){"salesOrder"==this.activeTab?this.getSalesOrderListing():"monthlyCost"==this.activeTab?this.getMontlyCostListing():"customerTotal"==this.activeTab&&this.getCustomerTotalListing()}searchOrder(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getListing()}changePage(t){this.searchParams.page=t,this.getListing()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getListing()}addSalesOrder(){const t=this._modal.open(y,this.modalConfig);t.componentInstance.type="add",t.componentInstance.response.subscribe(n=>{n.success&&this.getListing(),t.dismiss()})}editSalesOrder(t,n){const a=this._modal.open(y,this.modalConfig);a.componentInstance.type="edit",a.componentInstance.order=t,a.componentInstance.response.subscribe(s=>{s.success&&(this.salesOrder[n]=s.data),a.dismiss()})}addPurchaseOrder(){const t=this._modal.open(Z,this.modalConfig);t.componentInstance.type="add",t.componentInstance.response.subscribe(n=>{n.success&&this.getListing(),t.dismiss()})}editPurchaseOrder(t,n){const a=this._modal.open(Z,this.modalConfig);a.componentInstance.type="edit",a.componentInstance.order=t,a.componentInstance.response.subscribe(s=>{s.success&&(this.purchaseOrders[n]=s.data),a.dismiss()})}addJobNote(t,n){this.modalConfig.windowClass="modal-roles job-notes-modal";const a=this._modal.open(j._,this.modalConfig);a.componentInstance.orderId=t,a.componentInstance.response.subscribe(s=>{s.close&&(this.getSalesOrderListing(),a.dismiss(),this.modalConfig.windowClass="modal-roles")})}updateSaleStatus(t,n){this._account.updateSaleOrder({id:t}).subscribe(a=>{this.salesOrder[n]=a.data,this.helper.toastSuccess(a.message)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.B),e.Y36(U.FF),e.Y36(T.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-accounts"]],decls:231,vars:22,consts:[[1,"dashboard-main","mr-30"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"search-inputs","d-flex"],[1,"input-style","mr-10"],[1,"type-pass"],["type","text","placeholder","From",1,"ctm-input"],[1,"icon-eye","d-flex","align-items-center","justify-content-center"],["name","calendar",1,"calender"],[1,"input-style"],["type","text","placeholder","To",1,"ctm-input"],[1,"row"],[1,"col-lg-4","col-md-6","cols-for-respo"],["href","javascript:void(0)",1,"account-hover"],[1,"card-accounts"],[1,"sale-label-account"],[1,"account-width","d-flex","align-items-center","justify-content-between"],[1,"inner-card-box"],[1,"text-account"],[1,"doors-price-account"],[1,"col-lg-3","col-md-6","cols-for-respo"],[1,"card-accounts","card-account-orange"],[1,"card-accounts","card-account-light-green"],[1,"col-lg-2","col-md-6","cols-for-respo"],[1,"card-accounts","card-account-green"],[1,"d-flex","align-items-center","justify-content-between"],[1,"col-md-12"],[1,"roles-main","account-main-box"],[1,"d-flex","align-items-center","justify-content-between","acount-line-btn"],[1,"d-flex","flex-direction-mobile"],["href","javascript:void(0)",1,"Invoice",3,"click"],["name","plus",1,"plus"],["href","javascript:void(0)",1,"Delivery-Note",3,"click"],[1,"Schedule",3,"routerLink"],[1,"search-last"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","ngModelChange","input"],["name","search",1,"search-ctm"],[1,"tabs-table-account"],[1,"d-flex","tabs-account-setts","align-items-center","justify-content-between"],["role","tablist",1,"nav","nav-tabs"],[1,"nav-item"],["data-toggle","tab","href","#menu1",1,"nav-link","active",3,"click"],["data-toggle","tab","href","#menu2",1,"nav-link",3,"click"],["data-toggle","tab","href","#Customer",1,"nav-link",3,"click"],["href","javascript:void(0)",1,"credit-check"],["name","download",1,"download"],["href","javascript:void(0)",1,"credit-check","gray-btn"],[1,"tab-content"],["id","menu1",1,"tab-pane","active"],[1,"tab-table","tab-table-account-ctm"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",3,"ngClass",4,"ngFor","ngForOf"],["id","menu2",1,"tab-pane","fade"],["class","active-row",4,"ngFor","ngForOf"],["id","Customer",1,"tab-pane","fade"],[3,"from","to","pageSize","totalPages","changePage","ChangePageSize"],[1,"active-row",3,"ngClass"],[1,"inner-cell","view-anchor-tooltip"],["class","icon-anchor-list","href","javascript:void(0)",3,"click",4,"ngIf"],["class","view-anchor red","href","javascript:void(0)",3,"click",4,"ngIf"],["class","tooltiptext-view",4,"ngIf"],[1,"remember-me","d-flex","justify-content-center"],[1,"custom-check","custom-check-r"],["type","checkbox",3,"checked","change"],[1,"checkmark"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","plus",1,"icon-width"],["href","javascript:void(0)",1,"view-anchor","red",3,"click"],[1,"tooltiptext-view"],[1,"d-flex","align-items-center","justify-content-end"],["href","javascript:void(0)",1,"tooltip-anchor-modal",3,"click"],["name","plus",1,"icon-width","w15"],[1,"toop-hight",3,"innerHtml"],[1,"date-tooptip-iner"],[1,"active-row"],[1,"custom-box"],[1,"switch"],[1,"slider","round"],["class","view-anchor red","href","javascript:void(0)",4,"ngIf"],["href","javascript:void(0)",1,"view-anchor","red"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.TgZ(4,"li",4),e.TgZ(5,"a",5),e._uU(6,"ACCOUNTS"),e.qZA(),e.qZA(),e.TgZ(7,"li",4),e.TgZ(8,"a",6),e._uU(9),e.ALo(10,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",7),e.TgZ(12,"div",8),e.TgZ(13,"div",9),e._UZ(14,"input",10),e.TgZ(15,"div",11),e._UZ(16,"i-feather",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",13),e.TgZ(18,"div",9),e._UZ(19,"input",14),e.TgZ(20,"div",11),e._UZ(21,"i-feather",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",15),e.TgZ(23,"div",16),e.TgZ(24,"a",17),e.TgZ(25,"div",18),e.TgZ(26,"div",19),e._uU(27," sales "),e.qZA(),e.TgZ(28,"div",20),e.TgZ(29,"div",21),e.TgZ(30,"h3",22),e._uU(31,"Doors"),e.qZA(),e.TgZ(32,"p",23),e._uU(33),e.qZA(),e.qZA(),e.TgZ(34,"div",21),e.TgZ(35,"h3",22),e._uU(36,"Frames"),e.qZA(),e.TgZ(37,"p",23),e._uU(38),e.qZA(),e.qZA(),e.TgZ(39,"div",21),e.TgZ(40,"h3",22),e._uU(41,"Others"),e.qZA(),e.TgZ(42,"p",23),e._uU(43),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",24),e.TgZ(45,"a",17),e.TgZ(46,"div",25),e.TgZ(47,"div",19),e._uU(48," Workload "),e.qZA(),e.TgZ(49,"div",20),e.TgZ(50,"div",21),e.TgZ(51,"h3",22),e._uU(52,"Predicted Workload"),e.qZA(),e.TgZ(53,"p",23),e._uU(54),e.qZA(),e.qZA(),e.TgZ(55,"div",21),e.TgZ(56,"h3",22),e._uU(57,"Projected Sales"),e.qZA(),e.TgZ(58,"p",23),e._uU(59),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"div",24),e.TgZ(61,"a",17),e.TgZ(62,"div",26),e.TgZ(63,"div",19),e._uU(64," In progress "),e.qZA(),e.TgZ(65,"div",20),e.TgZ(66,"div",21),e.TgZ(67,"h3",22),e._uU(68,"Work in progress"),e.qZA(),e.TgZ(69,"p",23),e._uU(70),e.qZA(),e.qZA(),e.TgZ(71,"div",21),e.TgZ(72,"h3",22),e._uU(73,"Bought"),e.qZA(),e.TgZ(74,"p",23),e._uU(75),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"div",27),e.TgZ(77,"a",17),e.TgZ(78,"div",28),e.TgZ(79,"div",19),e._uU(80," Profit "),e.qZA(),e.TgZ(81,"div",29),e.TgZ(82,"div",21),e.TgZ(83,"h3",22),e._uU(84,"Projected Profit"),e.qZA(),e.TgZ(85,"p",23),e._uU(86),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(87,"div",15),e.TgZ(88,"div",30),e.TgZ(89,"div",31),e.TgZ(90,"div",32),e.TgZ(91,"div",33),e.TgZ(92,"a",34),e.NdJ("click",function(){return n.addSalesOrder()}),e._UZ(93,"i-feather",35),e._uU(94," Add Sales Order "),e.qZA(),e.TgZ(95,"a",36),e.NdJ("click",function(){return n.addPurchaseOrder()}),e._UZ(96,"i-feather",35),e._uU(97," Add Purchase Order "),e.qZA(),e.TgZ(98,"a",37),e._uU(99," Credit Check "),e.qZA(),e.qZA(),e.TgZ(100,"div",38),e.TgZ(101,"div",39),e.TgZ(102,"input",40),e.NdJ("ngModelChange",function(s){return n.searchParams.search=s})("input",function(){return n.searchOrder()}),e.qZA(),e._UZ(103,"i-feather",41),e.qZA(),e.qZA(),e.qZA(),e.TgZ(104,"div",42),e.TgZ(105,"div",43),e.TgZ(106,"ul",44),e.TgZ(107,"li",45),e.TgZ(108,"a",46),e.NdJ("click",function(){return n.changeTab("salesOrder")}),e._uU(109,"Sales Order"),e.qZA(),e.qZA(),e.TgZ(110,"li",45),e.TgZ(111,"a",47),e.NdJ("click",function(){return n.changeTab("monthlyCost")}),e._uU(112,"Monthly Cost"),e.qZA(),e.qZA(),e.TgZ(113,"li",45),e.TgZ(114,"a",48),e.NdJ("click",function(){return n.changeTab("customerTotal")}),e._uU(115,"Customer Totals"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(116,"a",49),e._UZ(117,"i-feather",50),e._uU(118," Download Data "),e.qZA(),e.TgZ(119,"a",51),e._uU(120," To Month"),e.qZA(),e.qZA(),e.TgZ(121,"div",52),e.TgZ(122,"div",53),e.TgZ(123,"div",54),e.TgZ(124,"div",55),e.TgZ(125,"table",56),e.TgZ(126,"thead",57),e.TgZ(127,"tr"),e.TgZ(128,"th"),e.TgZ(129,"p",58),e._uU(130,"Work"),e._UZ(131,"i",59),e.qZA(),e.qZA(),e.TgZ(132,"th"),e.TgZ(133,"p",58),e._uU(134,"Customer"),e._UZ(135,"i",59),e.qZA(),e.qZA(),e.TgZ(136,"th"),e.TgZ(137,"p",58),e._uU(138,"Product"),e._UZ(139,"i",59),e.qZA(),e.qZA(),e.TgZ(140,"th"),e.TgZ(141,"p",58),e._uU(142,"Door"),e._UZ(143,"i",59),e.qZA(),e.qZA(),e.TgZ(144,"th"),e.TgZ(145,"p",58),e._uU(146,"Frame"),e._UZ(147,"i",59),e.qZA(),e.qZA(),e.TgZ(148,"th"),e.TgZ(149,"p",58),e._uU(150,"Other"),e._UZ(151,"i",59),e.qZA(),e.qZA(),e.TgZ(152,"th"),e.TgZ(153,"p",58),e._uU(154,"Prograss"),e._UZ(155,"i",59),e.qZA(),e.qZA(),e.TgZ(156,"th"),e.TgZ(157,"p",58),e._uU(158,"Delivery Note#"),e._UZ(159,"i",59),e.qZA(),e.qZA(),e.TgZ(160,"th"),e.TgZ(161,"p",58),e._uU(162,"Total Delivered"),e._UZ(163,"i",59),e.qZA(),e.qZA(),e.TgZ(164,"th"),e.TgZ(165,"p",58),e._uU(166,"Notes"),e._UZ(167,"i",59),e.qZA(),e.qZA(),e.TgZ(168,"th"),e.TgZ(169,"p",58),e._uU(170,"Status"),e._UZ(171,"i",59),e.qZA(),e.qZA(),e.TgZ(172,"th"),e.TgZ(173,"p",58),e._uU(174,"Invoiced in full"),e._UZ(175,"i",59),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(176,"tbody",60),e.YNc(177,L,41,18,"tr",61),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(178,"div",62),e.TgZ(179,"div",54),e.TgZ(180,"div",55),e.TgZ(181,"table",56),e.TgZ(182,"thead",57),e.TgZ(183,"tr"),e.TgZ(184,"th"),e.TgZ(185,"p",58),e._uU(186,"Supplier"),e._UZ(187,"i",59),e.qZA(),e.qZA(),e.TgZ(188,"th"),e.TgZ(189,"p",58),e._uU(190,"Value"),e._UZ(191,"i",59),e.qZA(),e.qZA(),e.TgZ(192,"th"),e.TgZ(193,"p",58),e._uU(194,"Work#"),e._UZ(195,"i",59),e.qZA(),e.qZA(),e.TgZ(196,"th"),e.TgZ(197,"p",58),e._uU(198,"Checked"),e._UZ(199,"i",59),e.qZA(),e.qZA(),e.TgZ(200,"th"),e.TgZ(201,"p",58),e._uU(202,"Comments"),e._UZ(203,"i",59),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(204,"tbody",60),e.YNc(205,$,19,6,"tr",63),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(206,"div",64),e.TgZ(207,"div",54),e.TgZ(208,"div",55),e.TgZ(209,"table",56),e.TgZ(210,"thead",57),e.TgZ(211,"tr"),e.TgZ(212,"th"),e.TgZ(213,"p",58),e._uU(214,"Customer"),e._UZ(215,"i",59),e.qZA(),e.qZA(),e.TgZ(216,"th"),e.TgZ(217,"p",58),e._uU(218,"Total Doors"),e._UZ(219,"i",59),e.qZA(),e.qZA(),e.TgZ(220,"th"),e.TgZ(221,"p",58),e._uU(222,"Total Frames"),e._UZ(223,"i",59),e.qZA(),e.qZA(),e.TgZ(224,"th"),e.TgZ(225,"p",58),e._uU(226,"Total Other"),e._UZ(227,"i",59),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(228,"tbody",60),e.YNc(229,B,13,4,"tr",63),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(230,"app-pagination",65),e.NdJ("changePage",function(s){return n.changePage(s)})("ChangePageSize",function(s){return n.ChangePageSize(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(9),e.hij("Week ",e.xi3(10,18,n.dateToday,"ww"),""),e.xp6(24),e.hij("\xa3",n.account?n.account.sales.door:"0.00",""),e.xp6(5),e.hij("\xa3",n.account?n.account.sales.frame:"0.00",""),e.xp6(5),e.hij("\xa3",n.account?n.account.sales.other:"0.00",""),e.xp6(11),e.hij("\xa3",n.account?n.account.workload.predicted_workload:"0.00",""),e.xp6(5),e.hij("\xa3",n.account?n.account.workload.projected_sales:"0.00",""),e.xp6(11),e.hij("\xa3",n.account?n.account.in_progress.work_in_progress:"0.00",""),e.xp6(5),e.hij("\xa3",n.account?n.account.in_progress.bought:"0.00",""),e.xp6(11),e.hij("\xa3",n.account?n.account.profit.projected_profit:"0.00",""),e.xp6(12),e.Q6J("routerLink",e.DdM(21,W)),e.xp6(4),e.Q6J("ngModel",n.searchParams.search),e.xp6(75),e.Q6J("ngForOf",n.salesOrder),e.xp6(28),e.Q6J("ngForOf",n.purchaseOrders),e.xp6(24),e.Q6J("ngForOf",n.customerTotals),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("totalPages",n.totalPages))},directives:[p.u,C.yS,g.Fj,g.JJ,g.On,o.sg,O.Q,o.mk,o.O5],pipes:[o.uU],styles:[""]}),i})();function V(i,r){if(1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e._uU(2),e.qZA(),e.TgZ(3,"td",8),e._uU(4),e.qZA(),e.TgZ(5,"td",8),e._uU(6),e.qZA(),e.qZA()),2&i){const t=r.$implicit;let n;e.xp6(2),e.Oqu(t.customer.name),e.xp6(2),e.Oqu(t.work_number),e.xp6(2),e.hij("\xa3",null!==(n=t.sale_order.value)&&void 0!==n?n:0,"")}}let X=(()=>{class i{constructor(){this.credits=[],this.response=new e.vpe,this.total=0}ngOnInit(){this.calculateTotal()}calculateTotal(){this.credits.forEach(t=>{t.checked&&(this.total+=Number(t.sale_order.value))})}close(){this.response.emit({success:!0})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-credit-check-details"]],inputs:{credits:"credits"},outputs:{response:"response"},decls:29,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"modal-table","table-responsive"],[1,"table","credit-check-table"],[2,"width","33.33%"],[4,"ngFor","ngForOf"],[1,"d-flex","grand-total","w-100"],[1,"left-total"],[1,"right-total"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0) ",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h4",1),e._uU(2,"CREDIT CHECK"),e.qZA(),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"table",7),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th",8),e._uU(13,"Name:"),e.qZA(),e.TgZ(14,"th",8),e._uU(15,"Work#"),e.qZA(),e.TgZ(16,"th",8),e._uU(17,"Total"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"tbody"),e.YNc(19,V,7,3,"tr",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",10),e.TgZ(21,"p",11),e._uU(22,"Grand Total"),e.qZA(),e.TgZ(23,"p",12),e._uU(24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",13),e.TgZ(26,"div",14),e.TgZ(27,"a",15),e.NdJ("click",function(){return n.close()}),e._uU(28,"Close"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(19),e.Q6J("ngForOf",n.credits),e.xp6(5),e.hij("\xa3",n.total,""))},directives:[o.sg],styles:[".grand-total[_ngcontent-%COMP%]{width:76%}.credit-check-table[_ngcontent-%COMP%]{margin:4rem 0 6rem!important;width:100%!important}.credit-check-table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .credit-check-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{text-align:left!important}.credit-check-table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .credit-check-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{text-align:right!important}"]}),i})();function K(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().creditCheck()}),e._uU(1," Credit Check "),e.qZA()}}function G(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr",28),e.TgZ(1,"td"),e.TgZ(2,"div",18),e.TgZ(3,"label",19),e.TgZ(4,"input",29),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.checked=a})("change",function(){return e.CHM(t),e.oxw().selectOptions()}),e.qZA(),e._UZ(5,"span",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"td"),e.TgZ(7,"p",22),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"td"),e.TgZ(10,"p",22),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"td"),e.TgZ(13,"p",22),e._uU(14),e.qZA(),e.qZA(),e.TgZ(15,"td"),e.TgZ(16,"p",22),e._uU(17),e.qZA(),e.qZA(),e.TgZ(18,"td"),e.TgZ(19,"p",22),e._uU(20),e.qZA(),e.qZA(),e.TgZ(21,"td"),e.TgZ(22,"p",22),e._uU(23),e.qZA(),e.qZA(),e.TgZ(24,"td"),e.TgZ(25,"p",22),e.TgZ(26,"a",30),e._uU(27," Credit Check "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(4),e.Q6J("ngModel",t.checked),e.xp6(4),e.Oqu(t.week_number),e.xp6(3),e.Oqu(t.work_number),e.xp6(3),e.Oqu(t.customer.name),e.xp6(3),e.Oqu(t.product.name),e.xp6(3),e.Oqu(t.on_hold?"On Hold":t.status),e.xp6(3),e.hij("",t.progress,"%")}}let ee=(()=>{class i{constructor(t,n){this._account=t,this._modal=n,this.creditChecks=[],this.dateToday=new Date,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles Fixed-cost-modal"},this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10,this.checked=!1,this.checkAll=!1}ngOnInit(){this.getCreditChecks()}getCreditChecks(){this._account.creditCheckListing(this.searchParams).subscribe(t=>{this.creditChecks=t.data.data.map(n=>(n.checked=!1,n)),this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to})}search(){(0==this.searchParams.search.length||this.searchParams.search.length>=3)&&this.getCreditChecks()}selectOptions(){this.checked=!!this.creditChecks.find(t=>t.checked),this.checkAll=!this.creditChecks.find(t=>!t.checked)}selectAll(){console.log(this.checkAll,this.creditChecks.find(t=>!t.checked)),this.creditChecks.map(this.checkAll?t=>t.checked=!0:t=>t.checked=!1),this.checkAll=!this.creditChecks.find(t=>!t.checked),this.selectOptions()}creditCheck(){this.modalConfig.windowClass="modal-roles change-status-modal credit-modal";const t=this._modal.open(X,this.modalConfig);t.componentInstance.credits=this.creditChecks,t.componentInstance.response.subscribe(n=>{t.dismiss()})}changePage(t){this.searchParams.page=t,this.getCreditChecks()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getCreditChecks()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.B),e.Y36(U.FF))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-credit-check"]],decls:60,vars:13,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main","fixed-cost-bar"],[1,"d-flex","for-media-setts","justify-content-between"],[1,"form-group","sear-bar-roles","position-relative","mb-0"],["type","search","placeholder","Search..","id","email",1,"form-control","form-control-roles",3,"ngModel","ngModelChange","input"],["name","search",1,"search-ctm"],["class","secondary-sup","href","javascript:void(0)",3,"click",4,"ngIf"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"remember-me"],[1,"custom-check","custom-check-r"],["type","checkbox",3,"checked","ngModel","ngModelChange","change"],[1,"checkmark"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","totalPages","changePage","ChangePageSize"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],[1,"active-row"],["type","checkbox",3,"ngModel","ngModelChange","change"],["data-toggle","modal","data-target","#credit-check","href","javascript:void(0)",1,"view-anchor","view-anchor-red","weight-sett"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.TgZ(4,"li",4),e.TgZ(5,"a",5),e._uU(6,"ACCOUNTS"),e.qZA(),e.qZA(),e.TgZ(7,"li",4),e.TgZ(8,"a",5),e._uU(9,"CREDIT CHECK"),e.qZA(),e.qZA(),e.TgZ(10,"li",4),e.TgZ(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"div",8),e.TgZ(16,"div",9),e.TgZ(17,"div",10),e.TgZ(18,"input",11),e.NdJ("ngModelChange",function(s){return n.searchParams.search=s})("input",function(){return n.search()}),e.qZA(),e._UZ(19,"i-feather",12),e.qZA(),e.qZA(),e.YNc(20,K,2,0,"a",13),e.qZA(),e.TgZ(21,"div",14),e.TgZ(22,"div",15),e.TgZ(23,"table",16),e.TgZ(24,"thead",17),e.TgZ(25,"tr"),e.TgZ(26,"th"),e.TgZ(27,"div",18),e.TgZ(28,"label",19),e.TgZ(29,"input",20),e.NdJ("ngModelChange",function(s){return n.checkAll=s})("change",function(){return n.selectAll()}),e.qZA(),e._UZ(30,"span",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"th"),e.TgZ(32,"p",22),e._uU(33,"W/C"),e._UZ(34,"i",23),e.qZA(),e.qZA(),e.TgZ(35,"th"),e.TgZ(36,"p",22),e._uU(37,"Work#"),e._UZ(38,"i",23),e.qZA(),e.qZA(),e.TgZ(39,"th"),e.TgZ(40,"p",22),e._uU(41,"Customer"),e._UZ(42,"i",23),e.qZA(),e.qZA(),e.TgZ(43,"th"),e.TgZ(44,"p",22),e._uU(45,"Product"),e._UZ(46,"i",23),e.qZA(),e.qZA(),e.TgZ(47,"th"),e.TgZ(48,"p",22),e._uU(49,"Status"),e._UZ(50,"i",23),e.qZA(),e.qZA(),e.TgZ(51,"th"),e.TgZ(52,"p",22),e._uU(53,"Progress"),e._UZ(54,"i",23),e.qZA(),e.qZA(),e.TgZ(55,"th"),e._UZ(56,"p",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"tbody",24),e.YNc(58,G,28,7,"tr",25),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"app-pagination",26),e.NdJ("changePage",function(s){return n.changePage(s)})("ChangePageSize",function(s){return n.ChangePageSize(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.hij("Week ",e.xi3(13,10,n.dateToday,"ww"),""),e.xp6(6),e.Q6J("ngModel",n.searchParams.search),e.xp6(2),e.Q6J("ngIf",n.checked),e.xp6(9),e.Q6J("checked",n.checkAll)("ngModel",n.checkAll),e.xp6(29),e.Q6J("ngForOf",n.creditChecks),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("totalPages",n.totalPages))},directives:[g.Fj,g.JJ,g.On,p.u,o.O5,g.Wl,o.sg,O.Q],pipes:[o.uU],styles:[".delivery-list-main.fixed-cost-bar[_ngcontent-%COMP%]{width:99%}"]}),i})();function te(i,r){1&i&&(e.TgZ(0,"h4",9),e._uU(1,"ADD FIXED COST"),e.qZA())}function ne(i,r){1&i&&(e.TgZ(0,"h4",9),e._uU(1,"EDIT FIXED COST"),e.qZA())}function oe(i,r){if(1&i&&(e.TgZ(0,"p"),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=r.item;e.xp6(2),e.Oqu(t.name)}}function ie(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"span",43),e._uU(1),e.TgZ(2,"span"),e.TgZ(3,"i-feather",44),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw(2).removeDate(s)}),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t," ")}}function ae(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"label",13),e.TgZ(4,"span",14),e._uU(5,"Value"),e.qZA(),e.TgZ(6,"span",15),e._uU(7,"*"),e.qZA(),e.qZA(),e.TgZ(8,"input",16),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().newFixedCost.value=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",11),e.TgZ(10,"div",12),e.TgZ(11,"label",13),e.TgZ(12,"span",14),e._uU(13,"Order Number"),e.qZA(),e.TgZ(14,"span",15),e._uU(15,"*"),e.qZA(),e.qZA(),e.TgZ(16,"input",17),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().newFixedCost.order_number=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",11),e.TgZ(18,"div",12),e.TgZ(19,"div",18),e.TgZ(20,"div",19),e.TgZ(21,"label",13),e.TgZ(22,"span",14),e._uU(23,"Supplier"),e.qZA(),e.TgZ(24,"span",15),e._uU(25,"*"),e.qZA(),e.qZA(),e.TgZ(26,"ng-select",20),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().newFixedCost.supplier_id=a})("search",function(a){return e.CHM(t),e.oxw().getSuppliers(a)}),e.YNc(27,oe,3,1,"ng-template",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",11),e.TgZ(29,"div",12),e.TgZ(30,"div",18),e.TgZ(31,"div",22),e.TgZ(32,"label",13),e.TgZ(33,"span",14),e._uU(34,"Dates"),e.qZA(),e.TgZ(35,"span",15),e._uU(36,"*"),e.qZA(),e.qZA(),e.TgZ(37,"select",23),e.NdJ("change",function(a){return e.CHM(t),e.oxw().selectMonth(a)}),e.TgZ(38,"option",24),e._uU(39,"Select Dates"),e.qZA(),e.TgZ(40,"option",25),e._uU(41,"January"),e.qZA(),e.TgZ(42,"option",26),e._uU(43,"February"),e.qZA(),e.TgZ(44,"option",27),e._uU(45,"March"),e.qZA(),e.TgZ(46,"option",28),e._uU(47,"April"),e.qZA(),e.TgZ(48,"option",29),e._uU(49,"May"),e.qZA(),e.TgZ(50,"option",30),e._uU(51,"June"),e.qZA(),e.TgZ(52,"option",31),e._uU(53,"July"),e.qZA(),e.TgZ(54,"option",32),e._uU(55,"August"),e.qZA(),e.TgZ(56,"option",33),e._uU(57,"September"),e.qZA(),e.TgZ(58,"option",34),e._uU(59,"November"),e.qZA(),e.TgZ(60,"option",35),e._uU(61,"December"),e.qZA(),e.qZA(),e.TgZ(62,"div",36),e.YNc(63,ie,4,1,"span",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"div",11),e.TgZ(65,"div",12),e.TgZ(66,"div",18),e.TgZ(67,"div",22),e.TgZ(68,"label",13),e.TgZ(69,"span",14),e._uU(70,"Frequency"),e.qZA(),e.TgZ(71,"span",15),e._uU(72,"*"),e.qZA(),e.qZA(),e.TgZ(73,"select",38),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().newFixedCost.frequency=a}),e.TgZ(74,"option",24),e._uU(75,"Select Frequency"),e.qZA(),e.TgZ(76,"option",39),e._uU(77,"Monthly"),e.qZA(),e.TgZ(78,"option",40),e._uU(79,"Quarterly"),e.qZA(),e.TgZ(80,"option",41),e._uU(81,"Yearly"),e.qZA(),e.TgZ(82,"option",42),e._uU(83,"Locked"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.newFixedCost.value),e.xp6(8),e.Q6J("ngModel",t.newFixedCost.order_number),e.xp6(10),e.Q6J("items",t.suppliers)("ngModel",t.newFixedCost.supplier_id),e.xp6(37),e.Q6J("ngForOf",t.newFixedCost.cost_dates),e.xp6(10),e.Q6J("ngModel",t.newFixedCost.frequency)}}function se(i,r){if(1&i&&(e.TgZ(0,"p"),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=r.item;e.xp6(2),e.Oqu(t.name)}}function re(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"span",43),e._uU(1),e.TgZ(2,"span"),e.TgZ(3,"i-feather",44),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw(2).removeDate(s)}),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t," ")}}function de(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",11),e.TgZ(2,"div",12),e.TgZ(3,"label",13),e.TgZ(4,"span",14),e._uU(5,"Value"),e.qZA(),e.TgZ(6,"span",15),e._uU(7,"*"),e.qZA(),e.qZA(),e.TgZ(8,"input",16),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().fixedCost.value=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",11),e.TgZ(10,"div",12),e.TgZ(11,"label",13),e.TgZ(12,"span",14),e._uU(13,"Order Number"),e.qZA(),e.TgZ(14,"span",15),e._uU(15,"*"),e.qZA(),e.qZA(),e.TgZ(16,"input",45),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().fixedCost.order_number=a}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",11),e.TgZ(18,"div",12),e.TgZ(19,"div",18),e.TgZ(20,"div",19),e.TgZ(21,"label",13),e.TgZ(22,"span",14),e._uU(23,"Supplier"),e.qZA(),e.TgZ(24,"span",15),e._uU(25,"*"),e.qZA(),e.qZA(),e.TgZ(26,"ng-select",20),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().fixedCost.supplier_id=a})("search",function(a){return e.CHM(t),e.oxw().getSuppliers(a)}),e.YNc(27,se,3,1,"ng-template",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",11),e.TgZ(29,"div",12),e.TgZ(30,"div",18),e.TgZ(31,"div",22),e.TgZ(32,"label",13),e.TgZ(33,"span",14),e._uU(34,"Dates"),e.qZA(),e.TgZ(35,"span",15),e._uU(36,"*"),e.qZA(),e.qZA(),e.TgZ(37,"select",23),e.NdJ("change",function(a){return e.CHM(t),e.oxw().selectMonth(a)}),e.TgZ(38,"option",24),e._uU(39,"Select Dates"),e.qZA(),e.TgZ(40,"option",25),e._uU(41,"January"),e.qZA(),e.TgZ(42,"option",26),e._uU(43,"February"),e.qZA(),e.TgZ(44,"option",27),e._uU(45,"March"),e.qZA(),e.TgZ(46,"option",28),e._uU(47,"April"),e.qZA(),e.TgZ(48,"option",29),e._uU(49,"May"),e.qZA(),e.TgZ(50,"option",30),e._uU(51,"June"),e.qZA(),e.TgZ(52,"option",31),e._uU(53,"July"),e.qZA(),e.TgZ(54,"option",32),e._uU(55,"August"),e.qZA(),e.TgZ(56,"option",33),e._uU(57,"September"),e.qZA(),e.TgZ(58,"option",34),e._uU(59,"November"),e.qZA(),e.TgZ(60,"option",35),e._uU(61,"December"),e.qZA(),e.qZA(),e.TgZ(62,"div",36),e.YNc(63,re,4,1,"span",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"div",11),e.TgZ(65,"div",12),e.TgZ(66,"div",18),e.TgZ(67,"div",22),e.TgZ(68,"label",13),e.TgZ(69,"span",14),e._uU(70,"Frequency"),e.qZA(),e.TgZ(71,"span",15),e._uU(72,"*"),e.qZA(),e.qZA(),e.TgZ(73,"select",38),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().fixedCost.frequency=a}),e.TgZ(74,"option",24),e._uU(75,"Select Frequency"),e.qZA(),e.TgZ(76,"option",39),e._uU(77,"Monthly"),e.qZA(),e.TgZ(78,"option",40),e._uU(79,"Quarterly"),e.qZA(),e.TgZ(80,"option",41),e._uU(81,"Yearly"),e.qZA(),e.TgZ(82,"option",42),e._uU(83,"Locked"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.oxw();e.xp6(8),e.Q6J("ngModel",t.fixedCost.value),e.xp6(8),e.Q6J("ngModel",t.fixedCost.order_number),e.xp6(10),e.Q6J("items",t.suppliers)("ngModel",t.fixedCost.supplier_id),e.xp6(37),e.Q6J("ngForOf",t.fixedCost.cost_dates),e.xp6(10),e.Q6J("ngModel",t.fixedCost.frequency)}}function ce(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().addFixedCost()}),e._uU(1,"Add"),e.qZA()}}function le(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"a",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().udpateFixedCost()}),e._uU(1,"Update"),e.qZA()}}let w=(()=>{class i{constructor(t,n,a){this._phonebook=t,this._account=n,this.helper=a,this.response=new e.vpe,this.type="add",this.newFixedCost={value:0,supplier_id:0,frequency:null,cost_dates:[],order_number:""},this.suppliers=[]}ngOnInit(){this.getSuppliers()}getSuppliers(t=null){this._phonebook.supplierListing({search:t?t.term:""}).subscribe(a=>{var s;this.suppliers=a.data.data,this.newFixedCost.supplier_id=null===(s=a.data.data[0])||void 0===s?void 0:s.id})}selectMonth(t){if("edit"==this.type){if(this.fixedCost.cost_dates.includes(t.target.value))return void(t.target.value=null);this.fixedCost.cost_dates.push(t.target.value),t.target.value=null}else{if(this.newFixedCost.cost_dates.includes(t.target.value))return void(t.target.value=null);this.newFixedCost.cost_dates.push(t.target.value),t.target.value=null}}removeDate(t){"add"==this.type?this.newFixedCost.cost_dates.splice(t,1):this.fixedCost.cost_dates.splice(t,1)}cancel(){this.response.emit({success:!1})}addFixedCost(){console.log(this.newFixedCost),this._account.addFixedCost(this.newFixedCost).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0})})}udpateFixedCost(){this._account.updateFixedCost(this.fixedCost).subscribe(t=>{this.helper.toastSuccess(t.message),this.response.emit({success:!0,data:t.data})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(v.Q),e.Y36(h.B),e.Y36(T.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-fixed-cost"]],inputs:{fixedCost:"fixedCost",type:"type"},outputs:{response:"response"},decls:14,vars:6,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["class","row",4,"ngIf"],[1,"modal-footer"],[1,"d-flex","align-items-center","justify-content-center","w-100"],["href","javascript:void(0)",1,"discard-btn",3,"click"],["href","javascript:void(0)","class","add-btn",3,"click",4,"ngIf"],[1,"modal-title"],[1,"row"],[1,"col-md-12"],[1,"input-style","mb-2"],[1,"d-block"],[1,"red-label"],[1,"text-danger"],["type","text","placeholder","100",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["type","text","placeholder","H1-098",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],[1,"select-box"],[1,"form-group"],["bindLabel","name","bindValue","id",1,"ctm-input","bg-white","ng-custom-select",3,"items","ngModel","ngModelChange","search"],["ng-option-tmp",""],[1,"form-group","position-relative"],["placeholder","Select Months",1,"ctm-input","bg-white",3,"change"],["value","null"],["value","January"],["value","February"],["value","March"],["value","April"],["value","May"],["value","June"],["value","July"],["value","August"],["value","September"],["value","November"],["value","December"],[1,"d-flex","flex-wrap"],["class","fiels-ctm",4,"ngFor","ngForOf"],["placeholder","Select Frequency",1,"ctm-input","bg-white",3,"ngModel","ngModelChange"],["value","Monthly"],["value","Quarterly"],["value","Yearly"],["value","Locked"],[1,"fiels-ctm"],["name","plus",1,"plus-rotate",3,"click"],["type","text","placeholder","H1-98",1,"ctm-input","type-input",3,"ngModel","ngModelChange"],["href","javascript:void(0)",1,"add-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,te,2,0,"h4",1),e.YNc(2,ne,2,0,"h4",1),e.TgZ(3,"button",2),e._uU(4,"\xd7"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,ae,84,6,"div",4),e.YNc(7,de,84,6,"div",4),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"div",6),e.TgZ(10,"a",7),e.NdJ("click",function(){return n.cancel()}),e._uU(11,"Discard"),e.qZA(),e.YNc(12,ce,2,0,"a",8),e.YNc(13,le,2,0,"a",8),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(4),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type),e.xp6(5),e.Q6J("ngIf","add"==n.type),e.xp6(1),e.Q6J("ngIf","edit"==n.type))},directives:[o.O5,g.Fj,g.JJ,g.On,_.w9,_.ir,g.YN,g.Kr,o.sg,g.EJ,p.u],styles:[""]}),i})();var ge=c(5860);function pe(i,r){1&i&&(e.TgZ(0,"span"),e._uU(1,",\xa0"),e.qZA())}function Ze(i,r){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,pe,2,0,"span",35),e.qZA()),2&i){const t=r.$implicit,n=r.index,a=e.oxw().$implicit;e.xp6(1),e.Oqu(t),e.xp6(1),e.Q6J("ngIf",n!=a.cost_dates.length-1)}}function ue(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"tr",29),e.TgZ(1,"td"),e.TgZ(2,"p",24),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"p",24),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"td"),e.TgZ(8,"p",24),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"p",24),e._uU(12),e.qZA(),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"p",24),e.YNc(15,Ze,3,2,"span",30),e.qZA(),e.qZA(),e.TgZ(16,"td"),e.TgZ(17,"div",31),e.TgZ(18,"a",32),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index;return e.oxw().editFixedCost(s,l)}),e._UZ(19,"i-feather",33),e.qZA(),e.TgZ(20,"a",32),e.NdJ("click",function(){const a=e.CHM(t),s=a.$implicit,l=a.index;return e.oxw().deleteFixedCost(s,l)}),e._UZ(21,"i-feather",34),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=r.$implicit;e.xp6(3),e.Oqu(t.order_number),e.xp6(3),e.Oqu(t.supplier.name),e.xp6(3),e.Oqu(t.value),e.xp6(3),e.Oqu(t.frequency),e.xp6(3),e.Q6J("ngForOf",t.cost_dates)}}const _e=[{path:"",component:R},{path:"credit-check",component:ee},{path:"fixed-cost",component:(()=>{class i{constructor(t,n){this._modal=t,this._account=n,this.costs=[],this.dateToday=new Date,this.modalConfig={animated:!0,keyboard:!1,backdrop:!1,ignoreBackdropClick:!0,windowClass:"modal-roles Fixed-cost-modal"},this.searchParams={search:"",page_size:10,page:1},this.totalPages=1,this.pageFrom=1,this.pageTo=10}ngOnInit(){this.getFixedCosts()}getFixedCosts(){this._account.fixedCostListing(this.searchParams).subscribe(t=>{this.costs=t.data.data,this.searchParams.page_size=t.data.per_page,this.searchParams.page=t.data.current_page,this.totalPages=t.data.last_page,this.pageFrom=t.data.from,this.pageTo=t.data.to})}addFixedCost(){const t=this._modal.open(w,this.modalConfig);t.componentInstance.response.subscribe(n=>{n.success&&this.getFixedCosts(),t.dismiss()})}editFixedCost(t,n){let a=JSON.parse(JSON.stringify(t));const s=this._modal.open(w,this.modalConfig);s.componentInstance.type="edit",s.componentInstance.fixedCost=a,s.componentInstance.response.subscribe(l=>{l.success&&(console.log(l),this.costs[n]=l.data),s.dismiss()})}deleteFixedCost(t,n){const a=this._modal.open(ge.p,this.modalConfig);a.componentInstance.type="fixedCost",a.componentInstance.data=Object.assign({},t),a.componentInstance.response.subscribe(s=>{s.success&&this.costs.splice(n,1),a.dismiss()})}changePage(t){this.searchParams.page=t,this.getFixedCosts()}ChangePageSize(t){this.searchParams.page=1,this.searchParams.page_size=t,this.getFixedCosts()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U.FF),e.Y36(h.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-fixed-cost"]],decls:63,vars:9,consts:[[1,"dashboard-main"],[1,"dashboard-content"],[1,"d-flex","align-items-center","mb-16","justify-content-between","mr-70"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","javascript:void(0)",1,"breadcrumb-link"],["href","javascript:void(0)",1,"breadcrumb-link","active"],[1,"search-inputs","d-flex"],[1,"input-style","mr-10"],[1,"type-pass"],["type","text","placeholder","From",1,"ctm-input"],[1,"icon-eye","d-flex","align-items-center","justify-content-center"],["name","calendar",1,"calender"],[1,"input-style"],["type","text","placeholder","To",1,"ctm-input"],[1,"roles-main","delivery-list-table"],[1,"d-flex","align-items-center","justify-content-between","delivery-list-main","fixed-cost-bar","mb-1","p-1"],["href","javascript:void(0)",1,"secondary-sup",3,"click"],["name","plus",1,"plus"],["href","javascript:void(0)",1,"credit-check","gray-btn"],[1,"tab-table"],[1,"tables-roles-main","tables-users-main","table-responsive"],[1,"table"],[1,"thead-ctm"],[1,"inner-cell"],["aria-hidden","true",1,"fa","fa-arrow-down"],[1,"t-body-ctm"],["class","active-row",4,"ngFor","ngForOf"],[3,"from","to","pageSize","totalPages","changePage","ChangePageSize"],[1,"active-row"],[4,"ngFor","ngForOf"],[1,"list-icons-talbe","justify-content-center"],["href","javascript:void(0)",1,"icon-anchor-list",3,"click"],["name","edit-3",1,"icon-width"],["name","trash",1,"icon-width"],[4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"ul",3),e.TgZ(4,"li",4),e.TgZ(5,"a",5),e._uU(6,"ACCOUNTS"),e.qZA(),e.qZA(),e.TgZ(7,"li",4),e.TgZ(8,"a",5),e._uU(9,"FIXED COST"),e.qZA(),e.qZA(),e.TgZ(10,"li",4),e.TgZ(11,"a",6),e._uU(12),e.ALo(13,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",7),e.TgZ(15,"div",8),e.TgZ(16,"div",9),e._UZ(17,"input",10),e.TgZ(18,"div",11),e._UZ(19,"i-feather",12),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",13),e.TgZ(21,"div",9),e._UZ(22,"input",14),e.TgZ(23,"div",11),e._UZ(24,"i-feather",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",15),e.TgZ(26,"div",16),e.TgZ(27,"a",17),e.NdJ("click",function(){return n.addFixedCost()}),e._UZ(28,"i-feather",18),e._uU(29,"Add Fixed Cost "),e.qZA(),e.TgZ(30,"a",19),e._uU(31," To Month"),e.qZA(),e.qZA(),e.TgZ(32,"div",20),e.TgZ(33,"div",21),e.TgZ(34,"table",22),e.TgZ(35,"thead",23),e.TgZ(36,"tr"),e.TgZ(37,"th"),e.TgZ(38,"p",24),e._uU(39,"Order"),e._UZ(40,"i",25),e.qZA(),e.qZA(),e.TgZ(41,"th"),e.TgZ(42,"p",24),e._uU(43,"Supplier"),e._UZ(44,"i",25),e.qZA(),e.qZA(),e.TgZ(45,"th"),e.TgZ(46,"p",24),e._uU(47,"Value"),e._UZ(48,"i",25),e.qZA(),e.qZA(),e.TgZ(49,"th"),e.TgZ(50,"p",24),e._uU(51,"Frequency"),e._UZ(52,"i",25),e.qZA(),e.qZA(),e.TgZ(53,"th"),e.TgZ(54,"p",24),e._uU(55,"Dates"),e._UZ(56,"i",25),e.qZA(),e.qZA(),e.TgZ(57,"th"),e.TgZ(58,"p",24),e._uU(59,"Actions"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(60,"tbody",26),e.YNc(61,ue,22,5,"tr",27),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"app-pagination",28),e.NdJ("changePage",function(s){return n.changePage(s)})("ChangePageSize",function(s){return n.ChangePageSize(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.hij("Week ",e.xi3(13,6,n.dateToday,"ww"),""),e.xp6(49),e.Q6J("ngForOf",n.costs),e.xp6(1),e.Q6J("from",n.pageFrom)("to",n.pageTo)("pageSize",n.searchParams.page_size)("totalPages",n.totalPages))},directives:[p.u,o.sg,O.Q,o.O5],pipes:[o.uU],styles:[".fixed-cost-bar[_ngcontent-%COMP%]{width:100%}"]}),i})()}];let he=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[C.Bz.forChild(_e)],C.Bz]}),i})();var me=c(5530),Ae=c(9618);let Te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[o.ez,he,g.u5,p.p.pick(me.kEt),Ae.m]]}),i})()}}]);